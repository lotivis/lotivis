{"version":3,"file":"lotivis.js","sources":["../src/js/shared/hash.js","../src/js/shared/selector.js","../src/js/data.juggle/data.validate.error.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/count.js","../node_modules/d3-array/src/cross.js","../node_modules/d3-array/src/cumsum.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/variance.js","../node_modules/d3-array/src/deviation.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/fsum.js","../node_modules/internmap/src/index.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/group.js","../node_modules/d3-array/src/permute.js","../node_modules/d3-array/src/sort.js","../node_modules/d3-array/src/groupSort.js","../node_modules/d3-array/src/array.js","../node_modules/d3-array/src/constant.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/nice.js","../node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-array/src/bin.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/threshold/freedmanDiaconis.js","../node_modules/d3-array/src/threshold/scott.js","../node_modules/d3-array/src/maxIndex.js","../node_modules/d3-array/src/mean.js","../node_modules/d3-array/src/median.js","../node_modules/d3-array/src/merge.js","../node_modules/d3-array/src/minIndex.js","../node_modules/d3-array/src/mode.js","../node_modules/d3-array/src/pairs.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/rank.js","../node_modules/d3-array/src/least.js","../node_modules/d3-array/src/leastIndex.js","../node_modules/d3-array/src/greatest.js","../node_modules/d3-array/src/greatestIndex.js","../node_modules/d3-array/src/scan.js","../node_modules/d3-array/src/shuffle.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-array/src/transpose.js","../node_modules/d3-array/src/zip.js","../node_modules/d3-array/src/every.js","../node_modules/d3-array/src/some.js","../node_modules/d3-array/src/filter.js","../node_modules/d3-array/src/map.js","../node_modules/d3-array/src/reduce.js","../node_modules/d3-array/src/reverse.js","../node_modules/d3-array/src/difference.js","../node_modules/d3-array/src/disjoint.js","../node_modules/d3-array/src/intersection.js","../node_modules/d3-array/src/superset.js","../node_modules/d3-array/src/subset.js","../node_modules/d3-array/src/union.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/pointers.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/discrete.js","../node_modules/d3-interpolate/src/hue.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/hsl.js","../node_modules/d3-interpolate/src/lab.js","../node_modules/d3-interpolate/src/hcl.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-interpolate/src/piecewise.js","../node_modules/d3-interpolate/src/quantize.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-timer/src/interval.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/poly.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/circle.js","../node_modules/d3-ease/src/bounce.js","../node_modules/d3-ease/src/back.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/active.js","../node_modules/d3-brush/src/constant.js","../node_modules/d3-brush/src/event.js","../node_modules/d3-brush/src/noevent.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-chord/src/math.js","../node_modules/d3-chord/src/chord.js","../node_modules/d3-path/src/path.js","../node_modules/d3-chord/src/array.js","../node_modules/d3-chord/src/constant.js","../node_modules/d3-chord/src/ribbon.js","../node_modules/d3-contour/src/array.js","../node_modules/d3-contour/src/ascending.js","../node_modules/d3-contour/src/area.js","../node_modules/d3-contour/src/constant.js","../node_modules/d3-contour/src/contains.js","../node_modules/d3-contour/src/noop.js","../node_modules/d3-contour/src/contours.js","../node_modules/d3-contour/src/blur.js","../node_modules/d3-contour/src/density.js","../node_modules/robust-predicates/esm/util.js","../node_modules/robust-predicates/esm/orient2d.js","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-dsv/src/autoType.js","../node_modules/d3-fetch/src/blob.js","../node_modules/d3-fetch/src/buffer.js","../node_modules/d3-fetch/src/text.js","../node_modules/d3-fetch/src/dsv.js","../node_modules/d3-fetch/src/image.js","../node_modules/d3-fetch/src/json.js","../node_modules/d3-fetch/src/xml.js","../node_modules/d3-force/src/center.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-force/src/collide.js","../node_modules/d3-force/src/link.js","../node_modules/d3-force/src/lcg.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-force/src/radial.js","../node_modules/d3-force/src/x.js","../node_modules/d3-force/src/y.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/noop.js","../node_modules/d3-geo/src/stream.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/cartesian.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/centroid.js","../node_modules/d3-geo/src/constant.js","../node_modules/d3-geo/src/compose.js","../node_modules/d3-geo/src/rotation.js","../node_modules/d3-geo/src/circle.js","../node_modules/d3-geo/src/clip/buffer.js","../node_modules/d3-geo/src/pointEqual.js","../node_modules/d3-geo/src/clip/rejoin.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/src/clip/index.js","../node_modules/d3-geo/src/clip/antimeridian.js","../node_modules/d3-geo/src/clip/circle.js","../node_modules/d3-geo/src/clip/line.js","../node_modules/d3-geo/src/clip/rectangle.js","../node_modules/d3-geo/src/clip/extent.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/distance.js","../node_modules/d3-geo/src/contains.js","../node_modules/d3-geo/src/graticule.js","../node_modules/d3-geo/src/interpolate.js","../node_modules/d3-geo/src/identity.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/bounds.js","../node_modules/d3-geo/src/path/centroid.js","../node_modules/d3-geo/src/path/context.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-geo/src/path/string.js","../node_modules/d3-geo/src/path/index.js","../node_modules/d3-geo/src/transform.js","../node_modules/d3-geo/src/projection/fit.js","../node_modules/d3-geo/src/projection/resample.js","../node_modules/d3-geo/src/projection/index.js","../node_modules/d3-geo/src/projection/conic.js","../node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../node_modules/d3-geo/src/projection/conicEqualArea.js","../node_modules/d3-geo/src/projection/albers.js","../node_modules/d3-geo/src/projection/albersUsa.js","../node_modules/d3-geo/src/projection/azimuthal.js","../node_modules/d3-geo/src/projection/azimuthalEqualArea.js","../node_modules/d3-geo/src/projection/azimuthalEquidistant.js","../node_modules/d3-geo/src/projection/mercator.js","../node_modules/d3-geo/src/projection/conicConformal.js","../node_modules/d3-geo/src/projection/equirectangular.js","../node_modules/d3-geo/src/projection/conicEquidistant.js","../node_modules/d3-geo/src/projection/equalEarth.js","../node_modules/d3-geo/src/projection/gnomonic.js","../node_modules/d3-geo/src/projection/identity.js","../node_modules/d3-geo/src/projection/naturalEarth1.js","../node_modules/d3-geo/src/projection/orthographic.js","../node_modules/d3-geo/src/projection/stereographic.js","../node_modules/d3-geo/src/projection/transverseMercator.js","../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../node_modules/d3-polygon/src/area.js","../node_modules/d3-polygon/src/centroid.js","../node_modules/d3-polygon/src/cross.js","../node_modules/d3-polygon/src/hull.js","../node_modules/d3-polygon/src/contains.js","../node_modules/d3-polygon/src/length.js","../node_modules/d3-random/src/defaultSource.js","../node_modules/d3-random/src/uniform.js","../node_modules/d3-random/src/int.js","../node_modules/d3-random/src/normal.js","../node_modules/d3-random/src/logNormal.js","../node_modules/d3-random/src/irwinHall.js","../node_modules/d3-random/src/bates.js","../node_modules/d3-random/src/exponential.js","../node_modules/d3-random/src/pareto.js","../node_modules/d3-random/src/bernoulli.js","../node_modules/d3-random/src/geometric.js","../node_modules/d3-random/src/gamma.js","../node_modules/d3-random/src/beta.js","../node_modules/d3-random/src/binomial.js","../node_modules/d3-random/src/weibull.js","../node_modules/d3-random/src/cauchy.js","../node_modules/d3-random/src/logistic.js","../node_modules/d3-random/src/poisson.js","../node_modules/d3-random/src/lcg.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/identity.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-scale/src/symlog.js","../node_modules/d3-scale/src/pow.js","../node_modules/d3-scale/src/radial.js","../node_modules/d3-scale/src/quantile.js","../node_modules/d3-scale/src/quantize.js","../node_modules/d3-scale/src/threshold.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/ticks.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-scale/src/sequentialQuantile.js","../node_modules/d3-scale/src/diverging.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/d3-scale-chromatic/src/categorical/Accent.js","../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../node_modules/d3-scale-chromatic/src/categorical/Set1.js","../node_modules/d3-scale-chromatic/src/categorical/Set2.js","../node_modules/d3-scale-chromatic/src/categorical/Set3.js","../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/curve/radial.js","../node_modules/d3-shape/src/lineRadial.js","../node_modules/d3-shape/src/areaRadial.js","../node_modules/d3-shape/src/pointRadial.js","../node_modules/d3-shape/src/link/index.js","../node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-shape/src/symbol/cross.js","../node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-shape/src/symbol/square.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-shape/src/symbol.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-shape/src/curve/bump.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-shape/src/offset/diverging.js","../node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-shape/src/order/appearance.js","../node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-shape/src/order/descending.js","../node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-shape/src/order/reverse.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../src/js/shared.components/component.js","../src/js/shared/config.js","../src/js/shared/debug.js","../src/js/chart/chart.js","../src/js/date.chart/date.chart.axis.renderer.js","../src/js/date.chart/time.chart.label.renderer.js","../src/js/data.juggle/data.sum.js","../src/js/shared/color.js","../src/js/date.chart/time.chart.legend.renderer.js","../src/js/date.chart/time.chart.bars.renderer.js","../src/js/date.chart/time.chart.hover.bars.renderer.js","../src/js/shared/copy.js","../src/js/shared/value.js","../src/js/data.juggle/data.combine.js","../src/js/date.chart/time.chart.tooltip.renderer.js","../src/js/date.chart/time.chart.grid.renderer.js","../src/js/date.chart/time.chart.selection.renderer.js","../src/js/date.chart/date.chart.config.js","../src/js/date.chart/date.chart.js","../src/js/shared.components/card.js","../src/js/shared.components/checkbox.js","../src/js/shared/url.parameters.js","../src/js/shared.components/button.js","../src/js/shared.components/popup.js","../src/js/shared/filename.js","../src/js/shared/screenshot.js","../src/js/shared/download.js","../src/js/shared.components/settings.popup.js","../src/js/date.chart.card/date.chart.card.settings.popup.js","../src/js/shared.components/dropdown.js","../src/js/shared.components/option.js","../src/js/shared.components/chart.card.js","../src/js/date.chart.card/date.chart.card.js","../src/js/map.chart/geojson/remove.features.js","../src/js/shared/style.js","../src/js/shared/format.js","../src/js/shared/equal.js","../src/js/map.chart/map.tooltip.renderer.js","../src/js/map.chart/map.legend.renderer.js","../src/js/map.chart/map.label.renderer.js","../src/js/map.chart/map.dataset.renderer.js","../src/js/map.chart/map.geojson.renderer.js","../node_modules/topojson-server/src/object.js","../node_modules/topojson-server/src/bounds.js","../node_modules/topojson-server/src/hash/hashset.js","../node_modules/topojson-server/src/hash/hashmap.js","../node_modules/topojson-server/src/hash/point-equal.js","../node_modules/topojson-server/src/hash/point-hash.js","../node_modules/topojson-server/src/join.js","../node_modules/topojson-server/src/cut.js","../node_modules/topojson-server/src/dedup.js","../node_modules/topojson-server/src/delta.js","../node_modules/topojson-server/src/extract.js","../node_modules/topojson-server/src/geometry.js","../node_modules/topojson-server/src/prequantize.js","../node_modules/topojson-server/src/topology.js","../node_modules/topojson-client/src/identity.js","../node_modules/topojson-client/src/transform.js","../node_modules/topojson-client/src/bbox.js","../node_modules/topojson-client/src/reverse.js","../node_modules/topojson-client/src/feature.js","../node_modules/topojson-client/src/stitch.js","../node_modules/topojson-client/src/mesh.js","../node_modules/topojson-client/src/merge.js","../node_modules/topojson-client/src/bisect.js","../node_modules/topojson-client/src/neighbors.js","../node_modules/topojson-client/src/untransform.js","../node_modules/topojson-client/src/quantize.js","../src/js/map.chart/geojson/join.features.js","../src/js/map.chart/map.exterior.border.renderer.js","../src/js/data.juggle/data.flat.js","../src/js/data.juggle/data.extract.js","../src/js/map.chart/geojson/create.geojson.js","../src/js/map.chart/map.chart.config.js","../src/js/map.chart/map.background.renderer.js","../src/js/map.chart/geojson/geometry.js","../src/js/map.chart/geojson/feature.js","../src/js/map.chart/geojson/geojson.js","../src/js/map.chart/map.selection.renderer.js","../src/js/map.chart/map.chart.js","../src/js/map.chart.card/map.chart.settings.popup.js","../src/js/map.chart.card/map.chart.card.js","../src/js/data.date.assessor/date.assessor.js","../src/js/dataview/data.view.cache.js","../src/js/datasets.controller/datasets.controller.js","../src/js/datasets.controller/datasets.controller.cache.js","../src/js/dataview/dataview.plot.js","../src/js/plot.chart/plot.chart.config.js","../src/js/plot.chart/plot.axis.renderer.js","../src/js/plot.chart/plot.tooltip.renderer.js","../src/js/plot.chart/plot.label.renderer.js","../src/js/plot.chart/plot.grid.renderer.js","../src/js/plot.chart/plot.background.renderer.js","../src/js/plot.chart/plot.chart.hover.bars.renderer.js","../src/js/plot.chart/plot.bars.fractions.renderer.js","../src/js/plot.chart/plot.bars.gradient.creator.js","../src/js/plot.chart/plot.bars.gradient.renderer.js","../src/js/plot.chart/plot.labels.fractions.renderer.js","../src/js/plot.chart/plot.chart.selection.renderer.js","../src/js/plot.chart/plot.chart.js","../src/js/plot.chart.card/plot.chart.card.settings.popup.js","../src/js/plot.chart.card/plot.chart.card.js","../src/js/shared.components/textarea.card.js","../src/js/dataview.card/updatable.dataview.card.js","../src/js/shared.components/toast.js","../src/js/data.juggle/data.validate.js","../src/js/dataview.card/editable.dataview.card.js","../src/js/dataview.card/data.json.card.js","../src/js/shared/csv.to.array.js","../src/js/shared/trim.js","../src/js/data.juggle/data.create.datasets.js","../src/js/data.parse/parse.csv.js","../src/js/data.render/render.csv.js","../src/js/dataview.card/data.csv.card.js","../src/js/data.parse/parse.csv.date.js","../src/js/data.juggle/data.relations.js","../src/js/data.render/render.csv.date.js","../src/js/dataview.card/data.csv.date.card.js","../src/js/dataview.card/dataview.card.js","../src/js/dataview.card/datasets.controller.card.js","../src/js/chart/chart.datasets.js","../src/js/datasets.controller/datasets.controller.listeners.js","../src/js/datasets.controller/datasets.controller.filter.js","../src/js/datasets.controller/datasets.controller.colors.js","../src/js/datasets.controller/datasets.controller.snapshot.js","../src/js/datasets.controller/datasets.controller.data.js","../src/js/data.juggle/data.stacks.js","../src/js/shared/extension.array.js","../src/js/data.juggle/data.combine.ratio.js","../src/js/dataview/dataview.date.js","../src/js/dataview/dataview.date.combined.stacks.js","../src/js/dataview/dataview.location.js"],"sourcesContent":["/**\n * Returns the hash of the given string.\n * @param aString The string to create the hash of.\n * @returns {number} The hash of the given string.\n */\nexport function hashCode(aString) {\n  let hash = 0,\n    i,\n    chr;\n  for (i = 0; i < aString.length; i++) {\n    chr = aString.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n","import { hashCode } from \"./hash\";\n\n/**\n * Creates and returns a unique ID.\n */\nexport var createID;\n(function () {\n  let uniquePrevious = 0;\n  createID = function () {\n    return \"lotivis-id-\" + uniquePrevious++;\n  };\n})();\n\n/**\n * Returns a 'save-to-use' id for a HTML element by replacing whitespace with dashes.\n *\n * @param theID The id for a HTML element.\n *\n * @returns {string} The save version of the given id.\n */\nexport function toSaveID(theID) {\n  return theID.split(` `).join(`-`).split(`/`).join(`-`).split(`.`).join(`-`);\n}\n\n/**\n * Creates and returns a unique (save to use for elements) id.  The id is created by calculating the hash of the\n * dataset's label.\n *\n * @param dataset The dataset.\n *\n * @returns {number} The created id.\n */\nexport function createIDFromDataset(dataset) {\n  if (!dataset || !dataset.label) return 0;\n  return hashCode(dataset.label);\n}\n\nexport function camel2title(camelCase) {\n  // no side-effects\n  return (\n    camelCase\n      // inject space before the upper case letters\n      .replace(/([A-Z])/g, function (match) {\n        return \" \" + match;\n      })\n      // replace first char with upper case\n      .replace(/^./, function (match) {\n        return match.toUpperCase();\n      })\n  );\n}\n","export class LotivisError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = this.constructor.name;\n  }\n}\n\nexport class LotivisElementNotFoundError extends LotivisError {\n  constructor(selector) {\n    super(`Can't find an element with ID '${selector}'.`);\n  }\n}\n\nexport class DataValidateError extends LotivisError {\n  // constructor(message) {\n  //   super(message);\n  // }\n}\n\nexport class MissingPropertyError extends DataValidateError {\n  constructor(message, data) {\n    super(message + \" \" + JSON.stringify(data || {}));\n    this.data = data;\n  }\n}\n\nexport class InvalidFormatError extends DataValidateError {\n  // constructor(message) {\n  //   super(message);\n  // }\n}\n\nexport class GeoJSONValidateError extends LotivisError {\n  // constructor(message) {\n  //   super(message);\n  // }\n}\n\nexport class LotivisUnimplementedMethodError extends LotivisError {\n  constructor(functionName) {\n    super(`Subclasses must override function '${functionName}'.`);\n  }\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function bisector(f) {\n  let delta = f;\n  let compare1 = f;\n  let compare2 = f;\n\n  if (f.length !== 2) {\n    delta = (d, x) => f(d) - x;\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function identity(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function constant(x) {\n  return () => x;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.ceil(Math.log(count(values)) / Math.LN2) + 1;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x != null && x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare) {\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(count(values), -1 / 3)));\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(count(values), -1 / 3)));\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  Uint32Array\n    .from(V, (_, i) => i)\n    .sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex))\n    .forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from \"./min.js\";\n\nexport default function transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function zip() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","import {InternSet} from \"internmap\";\n\nexport default function difference(values, ...others) {\n  values = new InternSet(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new InternSet();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function intersection(values, ...others) {\n  values = new InternSet(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n\nfunction set(values) {\n  return values instanceof InternSet ? values : new InternSet(values);\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    const io = intern(o);\n    if (set.has(io)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      const ivalue = intern(value);\n      set.add(ivalue);\n      if (Object.is(io, ivalue)) break;\n    }\n  }\n  return true;\n}\n\nfunction intern(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","import {InternSet} from \"internmap\";\n\nexport default function union(...others) {\n  const set = new InternSet();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, thresholdSturges, ticks, tickStep} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      const e = extent(values), ts = tickStep(e[0], e[1], tz);\n      tz = ticks(Math.floor(e[0] / ts) * ts, Math.floor(e[1] / ts - 1) * ts, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(value => contour(values, value));\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, function(ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n","// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\n// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n","import {max, range, tickStep} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport {blurX, blurY} from \"./blur.js\";\nimport constant from \"./constant.js\";\nimport contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function density(data) {\n    var values0 = new Float32Array(n * m),\n        values1 = new Float32Array(n * m),\n        pow2k = Math.pow(2, -k);\n\n    data.forEach(function(d, i, data) {\n      var xi = (x(d, i, data) + o) * pow2k,\n          yi = (y(d, i, data) + o) * pow2k,\n          wi = +weight(d, i, data);\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        var x0 = Math.floor(xi),\n            y0 = Math.floor(yi),\n            xt = xi - x0 - 0.5,\n            yt = yi - y0 - 0.5;\n        values0[x0 + y0 * n] += (1 - xt) * (1 - yt) * wi;\n        values0[x0 + 1 + y0 * n] += xt * (1 - yt) * wi;\n        values0[x0 + 1 + (y0 + 1) * n] += xt * yt * wi;\n        values0[x0 + (y0 + 1) * n] += (1 - xt) * yt * wi;\n      }\n    });\n\n    // TODO Optimize.\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n\n    var tz = threshold(values0);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var stop = max(values0);\n      tz = tickStep(0, stop, tz);\n      tz = range(0, Math.floor(stop / tz) * tz, tz);\n      tz.shift();\n    }\n\n    return contours()\n        .thresholds(tz)\n        .size([n, m])\n      (values0)\n        .map(transform);\n  }\n\n  function transform(geometry) {\n    geometry.value *= Math.pow(2, -2 * k); // Density in points per square pixel.\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = Math.round((Math.sqrt(4 * _ * _ + 1) - 1) / 2), resize();\n  };\n\n  return density;\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    if (detleft === 0 || detright === 0 || (detleft > 0) !== (detright > 0)) return det;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // degenerate case (collinear diagram)\n        // almost equal points (degenerate triangle)\n        // the circumcenter is at the infinity, in a\n        // direction that is:\n        // 1. orthogonal to the halfedge.\n        let a = 1e9;\n        // 2. points away from the center; since the list of triangles starts\n        // in the center, the first point of the first triangle\n        // will be our reference\n        const r = triangles[0] * 2;\n        a *= Math.sign((points[r] - x1) * ey - (points[r + 1] - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) {\n        inedges[hull[1]] = 0;\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n      }\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r) {\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n    r = r == undefined ? 2 : +r;\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default x => x;\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function(type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","class Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import { camel2title, createID } from \"../shared/selector\";\nimport {\n  LotivisError,\n  LotivisElementNotFoundError,\n} from \"../data.juggle/data.validate.error\";\nimport * as d3 from \"d3\";\n\n/**\n * A lotivis component.\n *\n * @class Component\n */\nexport class Component {\n  /**\n   * Creates a new instance of Component.\n   * @param {Component|string|{}} parent The parental component or selector.\n   */\n  constructor(parent) {\n    if (!parent) throw new LotivisError(\"No parent or selector specified.\");\n    if (Object.getPrototypeOf(parent) === String.prototype) {\n      this.initializeFromSelector(parent);\n    } else if (Object.getPrototypeOf(parent) === Object.prototype) {\n      this.initializeFromConfig(parent);\n    } else {\n      this.initializeFromParent(parent);\n    }\n    this.element = undefined;\n  }\n\n  /**\n   * Initializes this component from the given selector string.\n   * @param selector The selector of the parental\n   */\n  initializeFromSelector(selector) {\n    this.selector = selector;\n    this.parent = d3.select(\"#\" + selector);\n    if (this.parent.empty()) throw new LotivisElementNotFoundError(selector);\n  }\n\n  initializeFromConfig(config) {\n    this.config = config;\n    if (config.selector) {\n      this.initializeFromSelector(config.selector);\n    } else {\n      let selector = camel2title(this.constructor.name)\n        .toLowerCase()\n        .trim()\n        .split(` `)\n        .join(`-`);\n      this.initializeFromSelector(selector);\n    }\n  }\n\n  initializeFromParent(parent) {\n    this.selector = createID();\n    this.parent = parent;\n  }\n\n  // MARK: - Functions\n\n  show() {\n    if (!this.element) return;\n    this.element.style(\"display\", \"\");\n    return this;\n  }\n\n  hide() {\n    if (!this.element) return;\n    this.element.style(\"display\", \"none\");\n    return this;\n  }\n\n  get isVisible() {\n    if (!this.element) return false;\n    return this.element.style(\"display\") !== \"none\";\n  }\n\n  getElementEffectiveSize() {\n    if (!this.element) return [0, 0];\n    let width = this.element.style(\"width\").replace(\"px\", \"\");\n    let height = this.element.style(\"height\").replace(\"px\", \"\");\n    return [Number(width), Number(height)];\n  }\n\n  getElementPosition() {\n    let element = document.getElementById(this.selector);\n    if (!element) return [0, 0];\n    let rect = element.getBoundingClientRect();\n    let xPosition = rect.x + window.scrollX;\n    let yPosition = rect.y + window.scrollY;\n    return [xPosition, yPosition];\n  }\n\n  /**\n   * Returns a string representation of this Component.\n   * @returns {string} A string representing this Component.\n   */\n  toString() {\n    let components = [this.constructor.name];\n    if (this.selector) components.push(`'${this.selector}'`);\n    return `[${components.join(\" \")}]`;\n  }\n\n  /**\n   * Returns the name of the constructor of this component if present. Will return the result of `typeof` else.\n   * @returns {*|\"undefined\"|\"object\"|\"boolean\"|\"number\"|\"string\"|\"function\"|\"symbol\"|\"bigint\"}\n   */\n  getClassname() {\n    if (!this.constructor || !this.constructor.name) return typeof this;\n    return this.constructor.name;\n  }\n}\n","export var LotivisConfig = {\n  // The default margin to use for charts.\n  defaultMargin: 60,\n  // The default offset for the space between an object an the toolbar.\n  tooltipOffset: 7,\n  // The default radius to use for bars drawn on a chart.\n  barRadius: 5,\n  // A Boolean value indicating whether the debug logging is enabled.\n  debugLog: false,\n  // A Boolean value indicating whether the debug logging is enabled.\n  debug: true,\n  // A string which is used as prefix for download.\n  downloadFilePrefix: \"lotivis\",\n  // A string which is used as separator between shared.components when creating a file name.\n  filenameSeparator: \"_\",\n  // A string which is used for unknown values.\n  unknown: \"LOTIVIS_UNKNOWN\",\n};\n","import { LotivisConfig } from \"./config\";\n\n/**\n * A collection of messages which already hast been printed.\n * @type {*[]}\n */\nlet alreadyLogged = [];\n\nexport var lotivis_log_once = function (message) {\n  if (alreadyLogged.includes(message)) return;\n  alreadyLogged.push(message);\n  console.warn(`[lotivis]  Warning only once: ${message}`);\n};\n\nexport var lotivis_log = () => null;\n\n/**\n * Sets whether lotivis prints debug log messages to the console.\n * @param enabled A Boolean value indicating whether to enable debug logging.\n * @param printConfig A Boolean value indicating whether to print the global lotivis configuration.  Default is false.\n */\nexport function debug(enabled, printConfig = false) {\n  lotivis_log = enabled ? console.log : () => null;\n  lotivis_log(`[lotivis]  ${enabled ? \"En\" : \"Dis\"}abled debug mode.`);\n  if (!printConfig) return;\n  lotivis_log(`LotivisConfig = ${JSON.stringify(LotivisConfig, null, 2)}`);\n}\n","import { Component } from \"../shared.components/component\";\nimport { createID } from \"../shared/selector\";\nimport { LotivisUnimplementedMethodError } from \"../data.juggle/data.validate.error\";\nimport { lotivis_log } from \"../shared/debug\";\n\n/**\n * Superclass for lotivis charts.\n * @class Chart\n * @extends Component\n * @see DateChart\n * @see MapChart\n * @see PlotChart\n */\nexport class Chart extends Component {\n  /**\n   * Creates an instance of DiachronicChart.\n   * @constructor\n   * @param {Component} parent The parental component.\n   * @param config The configuration of the chart.\n   */\n  constructor(parent, config) {\n    super(parent);\n\n    this.svgSelector = (this.selector || createID()) + \"-svg\";\n    this.element = this.parent;\n    this.element.attr(\"id\", this.selector);\n    this.config = config || {};\n    this.updateSensible = true;\n    this.initialize();\n\n    if (this.config.datasets) {\n      this.setDatasets(this.config.datasets);\n    } else {\n      this.update();\n    }\n  }\n\n  /**\n   * Initializes this chart.\n   */\n  initialize() {\n    return new LotivisUnimplementedMethodError(`initialize()`);\n  }\n\n  /**\n   * Updates the content of this chart by calling the 'update'-chain:\n   *\n   * ```\n   * remove();\n   * precalculate();\n   * draw();\n   * ```\n   */\n  update(datasetsController, reason) {\n    // lotivis_log(\"[lotivis] \", this.constructor.name, \"update\", reason);\n    if (!this.updateSensible) return;\n    if (datasetsController) {\n      this.snapshot = datasetsController.snapshot;\n    }\n    // lotivis_log(\n    //   \"[lotivis] \",\n    //   this.constructor.name,\n    //   \"update\",\n    //   datasetsController\n    // );\n    // lotivis_log(\"[lotivis] \", this.constructor.name, \"update\", this.snapshot);\n    this.remove();\n    this.precalculate();\n    this.draw();\n  }\n\n  /**\n   * Removes any old content from this chart.\n   * @returns {LotivisUnimplementedMethodError}\n   */\n  remove() {\n    throw new LotivisUnimplementedMethodError(`remove()`);\n  }\n\n  /**\n   * Precalculates data for this chart.\n   * @returns {LotivisUnimplementedMethodError}\n   */\n  precalculate() {\n    throw new LotivisUnimplementedMethodError(`precalculate()`);\n  }\n\n  /**\n   * Appends / draw the shared.components of this chart.\n   * @returns {LotivisUnimplementedMethodError}\n   */\n  draw() {\n    throw new LotivisUnimplementedMethodError(`draw()`);\n  }\n\n  /**\n   * Tells this chart to ignore updates of a datasets controller.\n   */\n  makeUpdateInsensible() {\n    this.updateSensible = false;\n  }\n\n  /**\n   * Tells this chart to listen to update of a datasets controller.\n   */\n  makeUpdateSensible() {\n    this.updateSensible = true;\n  }\n}\n","import * as d3 from \"d3\";\n\n/**\n * @class DateChartAxisRenderer\n */\nexport class DateChartAxisRenderer {\n  /**\n   * Creates a new instance of DateChartAxisRenderer.\n   *\n   * @param dateChart The parental date.chart chart.\n   */\n  constructor(dateChart) {\n    /**\n     * Appends the `left` and `bottom` axis to the date.chart chart.\n     */\n    this.render = function () {\n      let height = dateChart.config.height;\n      let margin = dateChart.config.margin;\n\n      // left axis\n      dateChart.svg\n        .append(\"g\")\n        .call(d3.axisLeft(dateChart.yChart))\n        .attr(\"transform\", () => `translate(${margin.left},0)`);\n\n      // bottom axis\n      dateChart.svg\n        .append(\"g\")\n        .call(d3.axisBottom(dateChart.xChartScale))\n        .attr(\"transform\", () => `translate(0,${height - margin.bottom})`);\n    };\n  }\n}\n","/**\n * Appends labels on top of the bars of a date.chart chart.\n * @class TimeChartLabelRenderer\n */\nexport class TimeChartLabelRenderer {\n\n  /**\n   * Creates a new instance of TimeChartLabelRenderer.\n   * @param dateChart The parental date.chart chart.\n   */\n  constructor(dateChart) {\n\n    /**\n     * Appends a label for the given stack.\n     * @param stack The stack to create a label for.\n     */\n    this.renderBarLabels = function (stack) {\n\n      let xChartRef = dateChart.xChartScale;\n      let yChartRef = dateChart.yChart;\n      let xStackRef = dateChart.xStack;\n      let numberFormat = dateChart.config.numberFormat;\n      let labelColor = dateChart.config.labelColor;\n      let numberOfSeries = stack.length;\n      let seriesIndex = 0;\n      let bandwidth = xStackRef.bandwidth() / 2;\n\n      dateChart\n        .svg\n        .append(\"g\")\n        .selectAll('g')\n        .data(stack)\n        .enter()\n        .append('g')\n        .attr('fill', labelColor)\n        .selectAll('.text')\n        .data(dataset => dataset)\n        .enter()\n        .append('text')\n        .attr('class', 'lotivis-date.chart-chart-label')\n        .attr(\"transform\", function (item) {\n          let x = xChartRef(item.data.date) + xStackRef(stack.label) + bandwidth;\n          let y = yChartRef(item[1]) - 5;\n          return `translate(${x},${y})rotate(-60)`;\n        })\n        .text(function (item, index) {\n          if (index === 0) seriesIndex += 1;\n          if (seriesIndex !== numberOfSeries) return;\n          let value = item[1];\n          return value === 0 ? '' : numberFormat.format(value);\n        });\n    };\n  }\n}\n","/**\n * Returns the sum of samples values for the given dataset.\n *\n * @param flatData The flat samples array.\n * @param dataset The dataset name.\n * @returns {*} The sum.\n */\nexport function sumOfDataset(flatData, dataset) {\n  return sumOfValues(flatData.filter((item) => item.dataset === dataset));\n}\n\n/**\n * Returns the sum of samples values for the given label.\n *\n * @param flatData The flat samples array.\n * @param label The label.\n * @returns {*} The sum.\n */\nexport function sumOfLabel(flatData, label) {\n  return sumOfValues(flatData.filter((item) => item.label === label));\n}\n\n/**\n * Returns the sum of samples values for the given stack.\n *\n * @param flatData The flat samples array.\n * @param stack The stack name.\n * @returns {*} The sum.\n */\nexport function sumOfStack(flatData, stack) {\n  return sumOfValues(flatData.filter((item) => item.stack === stack));\n}\n\n/**\n * Returns the sum of the value properties of each item.\n *\n * @param flatData\n * @returns {*}\n */\nexport function sumOfValues(flatData) {\n  return flatData\n    .map((item) => +(item.value || 0))\n    .reduce((acc, next) => acc + next, 0);\n}\n","import * as d3 from \"d3\";\n\n/**\n * Color defined by r,g,b.\n * @class Color\n */\nexport class Color {\n  /**\n   * Creates a new instance of Color.\n   * @param r The red value.\n   * @param g The green value.\n   * @param b The blue value.\n   */\n  constructor(r, g, b) {\n    if ((r || r === 0) && (g || g === 0) && (b || b === 0)) {\n      this.initialize(r, g, b);\n    } else if (typeof r === `object`) {\n      this.initialize(r.r, r.g, r.b);\n    } else if (r) {\n    } else if (r) {\n      this.initialize(r, r, r);\n    } else {\n      throw new Error(`Invalid argument: ${r}`);\n    }\n  }\n\n  initialize(r, g, b) {\n    this.r = Math.round(r);\n    this.g = Math.round(g);\n    this.b = Math.round(b);\n  }\n\n  rgbString() {\n    return `rgb(${this.r},${this.g},${this.b})`;\n  }\n\n  toString() {\n    return this.rgbString();\n  }\n\n  colorAdding(r, g, b) {\n    return new Color(this.r + r, this.g + g, this.b + b);\n  }\n\n  // MARK: - Statics\n\n  static mapColors(till) {\n    return d3\n      .scaleLinear()\n      .domain([0, (1 / 3) * till, (2 / 3) * till, till])\n      .range([\"yellow\", \"orange\", \"red\", \"purple\"]);\n  }\n\n  static plotColor(till) {\n    return Color.mapColors(till);\n    // return d3\n    //   .scaleLinear()\n    //   .domain([0, 1 / 2 * till, till])\n    //   .range(['lightgreen', 'steelblue', 'purple']);\n  }\n}\n\n/**\n * Returns a randomly generated shared.color.\n * @returns {[]}\n */\nColor.colorsForStack = function (stackNumber, amount = 1) {\n  let colorCouple = Color.stackColors[stackNumber % Color.stackColors.length];\n  let colorGenerator = d3\n    .scaleLinear()\n    .domain([0, amount])\n    .range([colorCouple[0], colorCouple[1]]);\n\n  let colors = [];\n  for (let i = 0; i < amount; i++) {\n    let color = colorGenerator(i);\n    colors.push(new Color(color));\n  }\n\n  return colors;\n};\n\n// MARK: - Defaults\n\nColor.defaultTint = new Color(0, 122, 255);\nColor.organgeLow = new Color(250, 211, 144);\nColor.organgeHigh = new Color(229, 142, 38);\nColor.redLow = new Color(248, 194, 145);\nColor.redHigh = new Color(183, 21, 64);\nColor.blueLow = new Color(106, 137, 204);\nColor.blueHigh = new Color(12, 36, 97);\nColor.lightBlueLow = new Color(130, 204, 221);\nColor.lightBlueHight = new Color(10, 61, 98);\nColor.greenLow = new Color(184, 233, 148);\nColor.greenHight = new Color(7, 153, 146);\nColor.stackColors = [\n  [Color.blueHigh, Color.blueLow],\n  [Color.redHigh, Color.redLow],\n  [Color.greenHight, Color.greenLow],\n  [Color.organgeHigh, Color.organgeLow],\n  [Color.lightBlueHight, Color.lightBlueLow],\n];\n","import { sumOfStack } from \"../data.juggle/data.sum\";\nimport { Color } from \"../shared/color\";\nimport * as d3 from \"d3\";\n\n/**\n *\n */\nexport class TimeChartLegendRenderer {\n  constructor(dateChart) {\n    /**\n     * Renders the legend of the date chart.\n     */\n    this.render = function() {\n      if (dateChart.config.combineStacks) {\n        renderCombinedStacksLegend();\n      } else {\n        renderDefaultLegend();\n      }\n    };\n\n    function renderDefaultLegend() {\n      let config = dateChart.config;\n      let controller = dateChart.datasetController;\n      let numberFormat = dateChart.config.numberFormat;\n      let datasets = controller.datasets;\n      let datasetNames = controller.labels;\n      let circleRadius = 6;\n      let labelMargin = 50;\n\n      let xLegend = d3\n        .scaleBand()\n        .domain(datasetNames)\n        .rangeRound([config.margin.left, config.width - config.margin.right]);\n\n      let legends = dateChart.graph\n        .selectAll(\".legend\")\n        .data(datasets)\n        .enter();\n\n      legends\n        .append(\"text\")\n        .attr(\"class\", \"lotivis-date.chart-chart-legend-label\")\n        .attr(\"font-size\", 13)\n        .attr(\"x\", item => xLegend(item.label) - 30)\n        .attr(\"y\", dateChart.graphHeight + labelMargin)\n        .style(\"cursor\", \"pointer\")\n        .style(\"fill\", function(item) {\n          return controller.getColorForDataset(item.label);\n        })\n        .text(function(item) {\n          let value = controller.getSumOfDataset(item.label);\n          let formatted = numberFormat.format(value);\n          return `${item.label} (${formatted})`;\n        })\n        .on(\n          \"click\",\n          function(event) {\n            if (!event || !event.target) return;\n            if (!event.target.innerHTML) return;\n            let components = event.target.innerHTML.split(\" (\");\n            components.pop();\n            let label = components.join(\" (\");\n            console.log(\"label\", label);\n            dateChart.toggleDataset(label);\n          }.bind(this)\n        );\n\n      legends\n        .append(\"circle\")\n        .attr(\"class\", \"lotivis-date.chart-chart-legend-circle\")\n        .attr(\"r\", circleRadius)\n        .attr(\"cx\", item => xLegend(item.label) - circleRadius * 2 - 30)\n        .attr(\"cy\", dateChart.graphHeight + labelMargin - circleRadius + 2)\n        .style(\"stroke\", item => controller.getColorForDataset(item.label))\n        .style(\n          \"fill\",\n          function(item) {\n            return item.isEnabled\n              ? controller.getColorForDataset(item.label)\n              : \"white\";\n          }.bind(this)\n        );\n    }\n\n    function renderCombinedStacksLegend() {\n      let stackNames = dateChart.datasetController.stacks;\n      let numberFormat = dateChart.config.numberFormat;\n      let circleRadius = 6;\n      let labelMargin = 50;\n\n      let xLegend = d3\n        .scaleBand()\n        .domain(stackNames)\n        .rangeRound([\n          dateChart.config.margin.left,\n          dateChart.config.width - dateChart.config.margin.right\n        ]);\n\n      let legends = dateChart.graph\n        .selectAll(\".lotivis-date.chart-chart-legend-label\")\n        .data(stackNames)\n        .enter();\n\n      legends\n        .append(\"text\")\n        .attr(\"class\", \"lotivis-date.chart-chart-legend-label\")\n        .attr(\"font-size\", 23)\n        .attr(\"x\", item => xLegend(item) - 30)\n        .attr(\n          \"y\",\n          function() {\n            return dateChart.graphHeight + labelMargin;\n          }.bind(this)\n        )\n        .style(\"cursor\", \"pointer\")\n        .style(\n          \"fill\",\n          function(item, index) {\n            return Color.colorsForStack(index)[0].rgbString();\n          }.bind(this)\n        )\n        .text(\n          function(item) {\n            let value = sumOfStack(dateChart.datasetController.flatData, item);\n            let formatted = numberFormat.format(value);\n            let labels = item.split(\",\");\n            let text;\n\n            if (labels.length > 3) {\n              labels = labels.splice(0, 3);\n              text = labels.join(\", \") + \",...\";\n            } else {\n              text = item;\n            }\n\n            return `${text} (${formatted})`;\n          }.bind(this)\n        );\n\n      legends\n        .append(\"circle\")\n        .attr(\"r\", circleRadius)\n        .attr(\"cx\", item => xLegend(item) - circleRadius * 2 - 30)\n        .attr(\"cy\", dateChart.graphHeight + labelMargin - circleRadius + 2)\n        .style(\"cursor\", \"pointer\")\n        .style(\n          \"stroke\",\n          function(item, index) {\n            return Color.colorsForStack(index)[0].rgbString();\n          }.bind(this)\n        )\n        .style(\n          \"fill\",\n          function(item, index) {\n            return item.isEnabled\n              ? Color.colorsForStack(index)[0].rgbString()\n              : \"white\";\n          }.bind(this)\n        )\n        .style(\"stroke-width\", 2);\n    }\n  }\n}\n","import { LotivisConfig } from \"../shared/config\";\n\n/**\n * Appends the bars to a date.chart chart.\n * @class TimeChartBarsRenderer\n */\nexport class TimeChartBarsRenderer {\n  /**\n   * Creates a new instance of TimeChartBarsRenderer.\n   * @param dateChart The parental date.chart chart.\n   */\n  constructor(dateChart) {\n    /**\n     * Appends the bar for the given stack.\n     * @param stack The stack to append the bar for.\n     */\n    this.renderBars = function (stack) {\n      console.log(\"stack\", stack);\n\n      let config = dateChart.config || {};\n      let isCombineStacks = config.combineStacks || false;\n      let colors =\n        dateChart.datasetController.getColorsForStack(stack.stack) ||\n        Color.defaultTint;\n      let barRadius = config.barRadius || LotivisConfig.barRadius;\n\n      dateChart.svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(stack.series)\n        .enter()\n        .append(\"g\")\n        .attr(\"fill\", (stackData, index) =>\n          isCombineStacks ? colors[0] : stack.colors[index]\n        )\n        .selectAll(\"rect\")\n        .data((serie) => serie)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"ltv-date-chart-bar\")\n        .attr(\"rx\", isCombineStacks ? 0 : barRadius)\n        .attr(\"ry\", isCombineStacks ? 0 : barRadius)\n        .attr(\"x\", (item) => {\n          return (\n            dateChart.xChartScale(item.data.date) +\n            dateChart.xStack(stack.label)\n          );\n        })\n        .attr(\"y\", (d) => dateChart.yChart(d[1]))\n        .attr(\"width\", dateChart.xStack.bandwidth())\n        .attr(\"height\", (d) => dateChart.yChart(d[0]) - dateChart.yChart(d[1]));\n    };\n  }\n}\n","import { toSaveID } from \"../shared/selector\";\n\n/**\n *\n * @class TimeChartHoverBarsRenderer\n */\nexport class TimeChartHoverBarsRenderer {\n  /**\n   * Creates a new instance of TimeChartHoverBarsRenderer.\n   *\n   * @param dateChart\n   */\n  constructor(dateChart) {\n    function createID(date) {\n      return `ltv-date-chart-hover-bar-id-${toSaveID(String(date))}`;\n    }\n\n    this.hideAll = function() {\n      dateChart.svg.selectAll(`.ltv-date-chart-hover-bar`).attr(`opacity`, 0);\n    };\n\n    function onMouseEnter(event, date) {\n      this.hideAll();\n      dateChart.svg.select(`#${createID(date)}`).attr(\"opacity\", 0.3);\n      dateChart.tooltipRenderer.showTooltip(event, date);\n    }\n\n    function onMouserOut(event, date) {\n      this.hideAll();\n      dateChart.tooltipRenderer.hideTooltip(event, date);\n\n      // check for mouse down\n      if (event.buttons === 1) {\n        onMouseClick(event, date);\n      }\n    }\n\n    function onMouseClick(even, date) {\n      if (dateChart.config.sendsNotifications) {\n        dateChart.makeUpdateInsensible();\n        dateChart.datasetController.toggleDate(date);\n        dateChart.makeUpdateSensible();\n      }\n      dateChart.selectionRenderer.update();\n    }\n\n    this.renderGhostBars = function() {\n      let config = dateChart.config;\n      let margin = config.margin;\n      let dates = dateChart.config.dateLabels || dateChart.dataview.dates;\n\n      dateChart.svg\n        .append(\"g\")\n        .selectAll(\"rect\")\n        .data(dates)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"ltv-date-chart-hover-bar\")\n        .attr(\"id\", date => createID(date))\n        .attr(\"opacity\", 0)\n        .attr(\"x\", date => dateChart.xChartScale(date))\n        .attr(\"y\", margin.top)\n        .attr(\"width\", dateChart.xChartScale.bandwidth())\n        .attr(\"height\", config.height - margin.bottom - margin.top)\n        .on(\"mouseenter\", onMouseEnter.bind(this))\n        .on(\"mouseout\", onMouserOut.bind(this))\n        .on(\"mousedrag\", onMouserOut.bind(this))\n        .on(\"click\", onMouseClick.bind(this));\n    };\n  }\n}\n","/**\n * Returns a copy of the passed object.  The copy is created by using the\n * JSON's `parse` and `stringify` functions.\n * @param object The java script object to copy.\n * @returns {any} The copy of the object.\n */\nexport function copy(object) {\n  return JSON.parse(JSON.stringify(object));\n}\n","import { LotivisConfig } from \"./config\";\n\n/**\n * Returns `true` if the given value not evaluates to false and is not 0. false else.\n * @param value The value to check.\n * @returns {boolean} A Boolean value indicating whether the given value is valid.\n */\nexport function isValue(value) {\n  return Boolean(value || value === 0);\n}\n\n/**\n * Returns the value if it evaluates to true or is 0.  Returns `GlobalConfig.unknown` else.\n * @param value The value to check.\n * @returns The value or `GlobalConfig.unknown`.\n */\nexport function toValue(value) {\n  return value || (value === 0 ? 0 : LotivisConfig.unknown);\n}\n","import { copy } from \"../shared/copy\";\nimport { isValue } from \"../shared/value\";\n\n/**\n *\n * @param flattenList\n * @returns {[]}\n */\nexport function combine(flattenList) {\n  let combined = [];\n  let copiedList = copy(flattenList);\n  for (let index = 0; index < copiedList.length; index++) {\n    let listItem = copiedList[index];\n    let entry = combined.find(function (entryItem) {\n      return (\n        entryItem.dataset === listItem.dataset &&\n        entryItem.stack === listItem.stack &&\n        entryItem.label === listItem.label &&\n        entryItem.location === listItem.location &&\n        entryItem.date === listItem.date\n      );\n    });\n    if (entry) {\n      entry.value += listItem.value + 0;\n    } else {\n      let entry = {};\n      if (isValue(listItem.label)) entry.label = listItem.label;\n      if (isValue(listItem.dataset)) entry.dataset = listItem.dataset;\n      if (isValue(listItem.stack)) entry.stack = listItem.stack;\n      if (isValue(listItem.location)) entry.location = listItem.location;\n      if (isValue(listItem.locationTotal))\n        entry.locationTotal = listItem.locationTotal;\n      if (isValue(listItem.date)) entry.date = listItem.date;\n      if (isValue(listItem.dateTotal)) entry.dateTotal = listItem.dateTotal;\n      if (isValue(listItem.locationName))\n        entry.locationName = listItem.locationName;\n      entry.value = listItem.value || 0;\n      combined.push(entry);\n    }\n  }\n  return combined;\n}\n\n/**\n * Returns\n *\n * @param flattenList\n * @returns {[]}\n */\nexport function combineByStacks(flattenList) {\n  let combined = [];\n  for (let index = 0; index < flattenList.length; index++) {\n    let listItem = flattenList[index];\n\n    let entry = combined.find(function (entryItem) {\n      return (\n        entryItem.stack === listItem.stack &&\n        entryItem.location === listItem.location &&\n        entryItem.date === listItem.date\n      );\n    });\n\n    if (entry) {\n      entry.value += listItem.value + 0;\n    } else {\n      let entry = {};\n      if (isValue(listItem.label)) entry.label = listItem.label;\n      if (isValue(listItem.dataset)) entry.dataset = listItem.dataset;\n      if (isValue(listItem.stack)) entry.stack = listItem.stack;\n      if (isValue(listItem.location)) entry.location = listItem.location;\n      if (isValue(listItem.locationTotal))\n        entry.locationTotal = listItem.locationTotal;\n      if (isValue(listItem.date)) entry.date = listItem.date;\n      if (isValue(listItem.dateTotal)) entry.dateTotal = listItem.dateTotal;\n      if (isValue(listItem.locationName))\n        entry.locationName = listItem.locationName;\n      entry.value = listItem.value || 0;\n      combined.push(entry);\n    }\n  }\n  return combined;\n}\n\n/**\n *\n * @param flatData\n * @returns {[]}\n */\nexport function combineByDate(flatData) {\n  let combined = [];\n  for (let index = 0; index < flatData.length; index++) {\n    let listItem = flatData[index];\n    let entry = combined.find(function (entryItem) {\n      return (\n        entryItem.dataset === listItem.dataset &&\n        entryItem.stack === listItem.stack &&\n        entryItem.label === listItem.label &&\n        entryItem.date === listItem.date\n      );\n    });\n    if (entry) {\n      entry.value += listItem.value + 0;\n    } else {\n      let entry = {};\n      if (isValue(listItem.label)) entry.label = listItem.label;\n      if (isValue(listItem.dataset)) entry.dataset = listItem.dataset;\n      if (isValue(listItem.stack)) entry.stack = listItem.stack;\n      if (isValue(listItem.date)) entry.date = listItem.date;\n      if (isValue(listItem.dateTotal)) entry.dateTotal = listItem.dateTotal;\n      entry.value = listItem.value || 0;\n      combined.push(entry);\n    }\n  }\n  return combined;\n}\n\n/**\n *\n * @param flatData\n * @returns {[]}\n */\nexport function combineByLocation(flatData) {\n  let combined = [];\n  for (let index = 0; index < flatData.length; index++) {\n    let listItem = flatData[index];\n    let entry = combined.find(function (entryItem) {\n      return (\n        entryItem.dataset === listItem.dataset &&\n        entryItem.stack === listItem.stack &&\n        entryItem.label === listItem.label &&\n        entryItem.location === listItem.location\n      );\n    });\n    if (entry) {\n      entry.value += listItem.value;\n    } else {\n      let entry = {};\n      if (isValue(listItem.label)) entry.label = listItem.label;\n      if (isValue(listItem.dataset)) entry.dataset = listItem.dataset;\n      if (isValue(listItem.stack)) entry.stack = listItem.stack;\n      if (isValue(listItem.location)) entry.location = listItem.location;\n      if (isValue(listItem.locationTotal))\n        entry.locationTotal = listItem.locationTotal;\n      if (isValue(listItem.locationName))\n        entry.locationName = listItem.locationName;\n      entry.value = listItem.value;\n      combined.push(entry);\n    }\n  }\n  return combined;\n}\n","import { combineByDate } from \"../data.juggle/data.combine\";\nimport { LotivisConfig } from \"../shared/config\";\n\n/**\n * Injects and presents a tooltip on a date.chart chart.\n *\n * @class TimeChartTooltipRenderer\n */\nexport class TimeChartTooltipRenderer {\n  /**\n   * Creates a new instance of TimeChartTooltipRenderer.\n   *\n   * @constructor\n   */\n  constructor(dateChart) {\n    const tooltip = dateChart.element\n      .append(\"div\")\n      .attr(\"class\", \"ltv-tooltip\")\n      .attr(\"rx\", 5) // corner radius\n      .attr(\"ry\", 5)\n      .style(\"opacity\", 0);\n\n    /**\n     * Returns the size [width, height] of the tooltip.\n     *\n     * @returns {number[]}\n     */\n    function getTooltipSize() {\n      let tooltipWidth = Number(tooltip.style(\"width\").replace(\"px\", \"\"));\n      let tooltipHeight = Number(tooltip.style(\"height\").replace(\"px\", \"\"));\n      return [tooltipWidth, tooltipHeight];\n    }\n\n    /**\n     * Calculates and returns the top pixel position for the tooltip.\n     *\n     * @param factor The size factor of the chart.\n     * @param offset The offset of the chart.\n     * @param tooltipSize The size of the tooltip.\n     * @returns {number}\n     */\n    function getTop(factor, offset, tooltipSize) {\n      let top = dateChart.config.margin.top * factor;\n      top += (dateChart.graphHeight * factor - tooltipSize[1]) / 2;\n      top += offset[1] - 10;\n      return top;\n    }\n\n    /**\n     * Calculates the x offset to position the tooltip on the left side\n     * of a bar.\n     *\n     * @param date The presented date.chart of selected bar.\n     * @param factor The size factor of the chart.\n     * @param offset The offset of the chart.\n     * @param tooltipSize The size of the tooltip.\n     * @returns {number} The x offset for the tooltip.\n     */\n    function getXLeft(date, factor, offset, tooltipSize) {\n      let x = dateChart.xChartScalePadding(date) * factor;\n      return x + offset[0] - tooltipSize[0] - 22 - LotivisConfig.tooltipOffset;\n    }\n\n    /**\n     * Calculates the x offset to position the tooltip on the right side\n     * of a bar.\n     *\n     * @param date The presented date.chart of selected bar.\n     * @param factor The size factor of the chart.\n     * @param offset The offset of the chart.\n     * @returns {number} The x offset for the tooltip.\n     */\n    function getXRight(date, factor, offset) {\n      let x =\n        dateChart.xChartScalePadding(date) +\n        dateChart.xChartScalePadding.bandwidth();\n      x *= factor;\n      x += offset[0] + LotivisConfig.tooltipOffset;\n      return x;\n    }\n\n    /**\n     * Returns the HTML content for the given date.chart.\n     *\n     * @param date The date.chart to get the HTML content for.\n     * @returns {string} Return the rendered HTML content.\n     */\n    function getHTMLForDate(date) {\n      let flatData = dateChart.snapshot.flatData.filter(\n        (item) => `${item.date}` === `${date}`\n      );\n\n      let first = flatData.first();\n      let title;\n      if (first && first.from && first.till) {\n        title = `${first.from} - ${first.till}`;\n      } else {\n        title = `${date}`;\n      }\n\n      let sum = 0;\n      let dataHTML = combineByDate(flatData)\n        .filter((item) => item.value > 0)\n        .map(function (item) {\n          let color = dateChart.datasetController.getColorForDataset(\n            item.dataset\n          );\n          let divHTML = `<div style=\"background: ${color};color: ${color}; display: inline;\">__</div>`;\n          let valueFormatted = dateChart.config.numberFormat.format(item.value);\n          sum += item.value;\n          return `${divHTML} ${item.dataset}: <b>${valueFormatted}</b>`;\n        })\n        .join(\"<br>\");\n\n      let sumFormatted = dateChart.config.numberFormat.format(sum);\n      return `<b>${title}</b><br>${dataHTML}<br><br>Sum: <b>${sumFormatted}</b>`;\n    }\n\n    /**\n     * Presents the tooltip next to bar presenting the given date.chart.\n     *\n     * @param event The mouse event.\n     * @param date The date.chart which is presented.\n     */\n    this.showTooltip = function (event, date) {\n      // set examples content before positioning the tooltip cause the size is\n      // calculated based on the size\n      const html = getHTMLForDate(date);\n      tooltip.html(html);\n\n      // position tooltip\n      let tooltipSize = getTooltipSize();\n      let factor =\n        dateChart.getElementEffectiveSize()[0] / dateChart.config.width;\n      let offset = dateChart.getElementPosition();\n      let top = getTop(factor, offset, tooltipSize);\n      let left = dateChart.xChartScalePadding(date);\n\n      // differ tooltip position on bar position\n      if (left > dateChart.config.width / 2) {\n        left = getXLeft(date, factor, offset, tooltipSize);\n      } else {\n        left = getXRight(date, factor, offset);\n      }\n\n      // update position and opacity of tooltip\n      tooltip\n        .style(\"left\", `${left}px`)\n        .style(\"top\", `${top}px`)\n        .style(\"opacity\", 1);\n    };\n\n    /**\n     * Hides the tooltip.  Does nothing if tooltips opacity is already 0.\n     */\n    this.hideTooltip = function () {\n      if (+tooltip.style(\"opacity\") === 0) return;\n      tooltip.style(\"opacity\", 0);\n    };\n  }\n}\n","import * as d3 from \"d3\";\n\n/**\n * @class TimeChartGridRenderer\n */\nexport class TimeChartGridRenderer {\n  /**\n   * Creates a new instance of TimeChartGridRenderer.\n   *\n   * @param dateChart\n   */\n  constructor(dateChart) {\n    /**\n     *\n     */\n    this.createAxis = function() {\n      this.xAxisGrid = d3\n        .axisBottom(dateChart.xChartScale)\n        .tickSize(-dateChart.graphHeight)\n        .tickFormat(\"\");\n\n      this.yAxisGrid = d3\n        .axisLeft(dateChart.yChart)\n        .tickSize(-dateChart.graphWidth)\n        .tickFormat(\"\")\n        .ticks(20);\n    };\n\n    /**\n     *\n     */\n    this.renderGrid = function() {\n      let config = dateChart.config;\n      let color = \"lightgray\";\n      let width = \"0.5\";\n      let opacity = 0.3;\n\n      dateChart.svg\n        .append(\"g\")\n        .attr(\"class\", \"x axis-grid\")\n        .attr(\n          \"transform\",\n          \"translate(0,\" + (config.height - config.margin.bottom) + \")\"\n        )\n        .attr(\"stroke\", color)\n        .attr(\"stroke-width\", width)\n        .attr(\"opacity\", opacity)\n        .call(this.xAxisGrid);\n\n      dateChart.svg\n        .append(\"g\")\n        .attr(\"class\", \"y axis-grid\")\n        .attr(\"transform\", `translate(${config.margin.left},0)`)\n        .attr(\"stroke\", color)\n        .attr(\"stroke-width\", width)\n        .attr(\"opacity\", opacity)\n        .call(this.yAxisGrid);\n    };\n  }\n}\n","import { toSaveID } from \"../shared/selector\";\n\n/**\n *\n * @class TimeChartSelectionRenderer\n */\nexport class TimeChartSelectionRenderer {\n  /**\n   * Creates a new instance of TimeChartHoverBarsRenderer.\n   * @param dateChart\n   */\n  constructor(dateChart) {\n    function createID(date) {\n      return `ltv-date-chart-selection-rect-id-${toSaveID(String(date))}`;\n    }\n\n    function getSelectedDates() {\n      if (!dateChart.datasetController) {\n        return [];\n      }\n      return dateChart.datasetController.filters.dates || [];\n    }\n\n    this.hideAll = function() {\n      dateChart.svg\n        .selectAll(`.ltv-date-chart-selection-rect`)\n        .attr(`opacity`, 0);\n    };\n\n    this.render = function() {\n      let margin = dateChart.config.margin;\n      let dates = dateChart.config.dateLabels || dateChart.dataview.dates;\n\n      dateChart.svg\n        .append(\"g\")\n        .selectAll(\"rect\")\n        .data(dates)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"ltv-date-chart-selection-rect\")\n        .attr(\"id\", date => createID(date))\n        .attr(\"x\", date => dateChart.xChartScale(date))\n        .attr(\"y\", margin.top)\n        .attr(\"opacity\", 0)\n        .attr(\"width\", dateChart.xChartScale.bandwidth())\n        .attr(\"height\", dateChart.config.height - margin.bottom - margin.top);\n    };\n\n    this.update = function() {\n      let selectedDates = getSelectedDates();\n      dateChart.svg\n        .selectAll(`.ltv-date-chart-selection-rect`)\n        .attr(`opacity`, date =>\n          selectedDates.includes(String(date)) ? 0.15 : 0\n        );\n    };\n  }\n}\n","import { LotivisConfig } from \"../shared/config\";\nimport { Color } from \"../shared/color\";\n\nexport const DATE_CHART_CONFIG = {\n  width: 1000,\n  height: 600,\n  margin: {\n    top: LotivisConfig.defaultMargin,\n    right: LotivisConfig.defaultMargin,\n    bottom: LotivisConfig.defaultMargin,\n    left: LotivisConfig.defaultMargin,\n  },\n  showLabels: false,\n  combineStacks: false,\n  sendsNotifications: true,\n  labelColor: new Color(155, 155, 155),\n  numberFormat: Intl.NumberFormat(\"de-DE\", {\n    maximumFractionDigits: 3,\n  }),\n  dateAccess: function (date) {\n    return Date.parse(date);\n  },\n};\n","import { Chart } from \"../chart/chart\";\nimport { DateChartAxisRenderer } from \"./date.chart.axis.renderer\";\nimport { TimeChartLabelRenderer } from \"./time.chart.label.renderer\";\nimport { TimeChartLegendRenderer } from \"./time.chart.legend.renderer\";\nimport { TimeChartBarsRenderer } from \"./time.chart.bars.renderer\";\nimport { TimeChartHoverBarsRenderer } from \"./time.chart.hover.bars.renderer\";\nimport { TimeChartTooltipRenderer } from \"./time.chart.tooltip.renderer\";\nimport { TimeChartGridRenderer } from \"./time.chart.grid.renderer\";\nimport { TimeChartSelectionRenderer } from \"./time.chart.selection.renderer\";\nimport { DATE_CHART_CONFIG } from \"./date.chart.config\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @class DateChart\n * @extends Chart\n */\nexport class DateChart extends Chart {\n  // called by `Chart` superclass\n  /**\n   * Initializes this diachronic chart by setting the default values.\n   *\n   * @override\n   */\n  initialize() {\n    this.initializeDefaultValues();\n    this.initializeRenderers();\n  }\n\n  /**\n   *\n   */\n  initializeDefaultValues() {\n    let margin, config;\n\n    margin = Object.assign({}, DATE_CHART_CONFIG.margin);\n    margin = Object.assign(margin, this.config.margin);\n\n    config = Object.assign({}, DATE_CHART_CONFIG);\n\n    this.config = Object.assign(config, this.config);\n    this.config.margin = margin;\n  }\n\n  initializeRenderers() {\n    this.axisRenderer = new DateChartAxisRenderer(this);\n    this.gridRenderer = new TimeChartGridRenderer(this);\n    this.labelRenderer = new TimeChartLabelRenderer(this);\n    this.legendRenderer = new TimeChartLegendRenderer(this);\n    this.barsRenderer = new TimeChartBarsRenderer(this);\n    this.ghostBarsRenderer = new TimeChartHoverBarsRenderer(this);\n    this.selectionRenderer = new TimeChartSelectionRenderer(this);\n    this.tooltipRenderer = new TimeChartTooltipRenderer(this);\n  }\n\n  /**\n   * Removes all `svg`s from the parental element.\n   * @override\n   */\n  remove() {\n    this.element.selectAll(\"svg\").remove();\n  }\n\n  /**\n   * @override\n   */\n  precalculate() {\n    let config = this.config;\n    let margin = config.margin;\n    this.graphWidth = config.width - margin.left - margin.right;\n    this.graphHeight = config.height - margin.top - margin.bottom;\n    if (!this.datasetController) return;\n    let groupSize = this.config.groupSize || 1;\n\n    if (this.config.combineStacks) {\n      this.dataview =\n        this.datasetController.getDateDataviewCombinedStacks(groupSize);\n    } else {\n      this.dataview = this.datasetController.getDateDataview(groupSize);\n    }\n    this.createScales();\n  }\n\n  /**\n   * Creates scales which are used to calculate the x and y positions of bars or circles.\n   */\n  createScales() {\n    if (!this.dataview) return;\n\n    let config = this.config;\n    let margin = config.margin;\n\n    /*\n     * Prefer dates specified by configuration. Fallback to dates of datasets.\n     */\n    let dates = config.dateLabels || this.dataview.dates;\n    console.log(\"dates\", dates);\n\n    this.xChartScale = d3\n      .scaleBand()\n      .domain(dates)\n      .rangeRound([margin.left, config.width - margin.right]);\n\n    this.xChartScalePadding = d3\n      .scaleBand()\n      .domain(dates)\n      .rangeRound([margin.left, config.width - margin.right])\n      .paddingInner(0.2);\n\n    this.xStack = d3\n      .scaleBand()\n      .domain(this.dataview.enabledStacks)\n      .rangeRound([0, this.xChartScale.bandwidth()])\n      .padding(0.05);\n\n    this.yChart = d3\n      .scaleLinear()\n      .domain([0, this.dataview.max])\n      .nice()\n      .rangeRound([config.height - margin.bottom, margin.top]);\n  }\n\n  /**\n   * Creates and renders the chart.\n   *\n   * @override\n   */\n  draw() {\n    this.renderSVG();\n    if (\n      !this.dataview ||\n      !this.dataview.datasetStacks ||\n      this.dataview.datasetStacks.length === 0\n    )\n      return;\n\n    this.axisRenderer.render();\n    this.gridRenderer.createAxis();\n    this.gridRenderer.renderGrid();\n    this.selectionRenderer.render();\n    this.ghostBarsRenderer.renderGhostBars();\n    this.legendRenderer.render();\n\n    console.log(\"this.dataview\", this.dataview);\n\n    for (\n      let index = 0;\n      index < this.dataview.datasetStacksPresented.length;\n      index++\n    ) {\n      let stack = this.dataview.datasetStacksPresented[index];\n      this.barsRenderer.renderBars(stack, index);\n      if (this.config.showLabels === false) continue;\n      this.labelRenderer.renderBarLabels(stack, index);\n    }\n  }\n\n  /**\n   *\n   */\n  renderSVG() {\n    this.svg = this.element\n      .append(\"svg\")\n      .attr(\"class\", \"ltv-chart-svg ltv-date-chart-svg\")\n      .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n      .attr(\"viewBox\", `0 0 ${this.config.width} ${this.config.height}`)\n      .attr(\"id\", this.svgSelector);\n\n    this.background = this.svg\n      .append(\"rect\")\n      .attr(\"width\", this.config.width)\n      .attr(\"height\", this.config.height)\n      .attr(\"fill\", \"white\")\n      .attr(\"opacity\", 0)\n      .attr(\"cursor\", \"pointer\")\n      .on(\"click\", (event, some) => {\n        this.datasetController.resetDateFilters();\n      });\n\n    this.graph = this.svg\n      .append(\"g\")\n      .attr(\"width\", this.graphWidth)\n      .attr(\"height\", this.graphHeight)\n      .attr(\n        \"transform\",\n        `translate(${this.config.margin.left},${this.config.margin.top})`\n      );\n  }\n\n  /**\n   * Toggle the enabled of the dataset with the given label.\n   * @param label The label of the dataset.\n   */\n  toggleDataset(label) {\n    this.datasetController.toggleDataset(\n      label,\n      this.config.sendsNotifications === true\n    );\n    this.update();\n  }\n}\n","import { Component } from \"./component\";\n\n/**\n * A lotivis card.\n * @class Card\n * @extends Component\n */\nexport class Card extends Component {\n  /**\n   * Creates a new instance of Card.\n   * @param parent The parental component.\n   */\n  constructor(parent) {\n    super(parent);\n    this.injectCard();\n    this.injectHeader();\n    this.injectBody();\n  }\n\n  /**\n   * Appends the card element.\n   */\n  injectCard() {\n    this.element = this.parent.append(\"div\").classed(\"ltv-card\", true);\n  }\n\n  /**\n   * Appends the header of the card.\n   */\n  injectHeader() {\n    this.header = this.element.append(\"div\").attr(\"class\", \"ltv-card-header\");\n    this.headerLeftComponent = this.header\n      .append(\"div\")\n      .attr(\"class\", \"ltv-left\");\n    this.headerCenterComponent = this.header\n      .append(\"div\")\n      .attr(\"class\", \"ltv-center\");\n    this.headerRightComponent = this.header\n      .append(\"div\")\n      .attr(\"class\", \"ltv-right ltv-button-group\");\n    this.titleLabel = this.headerLeftComponent\n      .append(\"div\")\n      .attr(\"class\", \"ltv-title-label\");\n  }\n\n  /**\n   * Appends the body of the card.\n   */\n  injectBody() {\n    this.body = this.element.append(\"div\").attr(\"class\", \"ltv-card-body\");\n    this.content = this.body.append(\"div\").attr(\"class\", \"ltv-card-body\");\n  }\n\n  /**\n   * Sets the text of the title label.\n   * @param newTitle The text of the title label.\n   */\n  setTitle(newTitle) {\n    this.titleLabel.text(newTitle);\n  }\n\n  /**\n   * Shows the footer by resetting its style display value.\n   */\n  showFooter() {\n    this.footer.style(\"display\", \"\");\n  }\n\n  /**\n   * Hides the footer by setting its style display value to `none`.\n   */\n  hideFooter() {\n    this.footer.style(\"display\", \"none\");\n  }\n}\n","import { Component } from \"./component\";\n\nexport class Checkbox extends Component {\n  constructor(parent) {\n    super(parent);\n    this.renderInput();\n    this.renderLabel();\n  }\n\n  // MARK: - Life Cycle\n  renderInput() {\n    let thisReference = this;\n    this.element = this.parent\n      .classed(\"radio-group\", true)\n      .append(\"input\")\n      .attr(\"type\", \"checkbox\")\n      .attr(\"id\", this.selector)\n      .on(\"click\", function (event) {\n        if (!event || !event.target) {\n          return;\n        }\n\n        let checkbox = event.target;\n\n        if (thisReference.onClick) {\n          thisReference.onClick(checkbox.checked);\n        }\n      });\n  }\n\n  renderLabel() {\n    this.label = this.parent\n      .append(\"label\")\n      .attr(\"for\", this.selector)\n      .text(\"Unknown\");\n  }\n\n  // MARK: - Functions\n  setText(text) {\n    this.label.text(text);\n    return this;\n  }\n\n  setChecked(checked) {\n    this.element.attr(\"checked\", checked === true ? checked : null);\n    return this;\n  }\n\n  onClick(checked) {\n    // empty\n    console.log(\"onClick: \" + checked);\n  }\n\n  enable() {\n    this.element.attr(\"disabled\", null);\n    this.label.style(\"color\", \"black\");\n  }\n\n  disable() {\n    this.element.attr(\"disabled\", true);\n    this.label.style(\"color\", \"gray\");\n  }\n}\n","import * as d3 from \"d3\";\n\n/**\n *\n * @class UrlParameters\n */\nexport class UrlParameters {\n  /**\n   * Returns the singleton instance.\n   *\n   * @returns {UrlParameters}\n   */\n  static getInstance() {\n    if (!UrlParameters.instance) {\n      UrlParameters.instance = new UrlParameters();\n    }\n    return UrlParameters.instance;\n  }\n\n  /**\n   * Return the current window URL.\n   * @returns {URL}\n   */\n  getURL() {\n    return new URL(window.location.href);\n  }\n\n  getBoolean(parameter, defaultValue = false) {\n    let value = this.getURL().searchParams.get(parameter);\n    return value ? value === \"true\" : defaultValue;\n  }\n\n  getString(parameter, defaultValue = \"\") {\n    return this.getURL().searchParams.get(parameter) || defaultValue;\n  }\n\n  set(parameter, newValue) {\n    const url = this.getURL();\n\n    if (newValue === false) {\n      url.searchParams.delete(parameter);\n    } else {\n      url.searchParams.set(parameter, newValue);\n    }\n\n    window.history.replaceState(null, null, url);\n    this.updateCurrentPageFooter();\n  }\n\n  setWithoutDeleting(parameter, newValue) {\n    const url = this.getURL();\n    url.searchParams.set(parameter, newValue);\n    window.history.replaceState(null, null, url);\n    this.updateCurrentPageFooter();\n  }\n\n  clear() {\n    const url = this.getURL();\n    const newPath = url.protocol + url.host;\n    const newURL = new URL(newPath);\n    window.history.replaceState(null, null, newURL);\n    this.updateCurrentPageFooter();\n  }\n\n  updateCurrentPageFooter() {\n    // console.log('window.lotivisApplication: ' + window.lotivisApplication);\n    // window.lotivisApplication.currentPage.updateFooter();\n    const url = this.getURL();\n    d3.select(\"#lotivis-url-container\").text(url);\n  }\n}\n\nUrlParameters.language = \"language\";\nUrlParameters.page = \"page\";\nUrlParameters.query = \"query\";\nUrlParameters.searchViewMode = \"search-view-mode\";\nUrlParameters.chartType = \"chart-type\";\nUrlParameters.chartShowLabels = \"chart-show-labels\";\nUrlParameters.chartCombineStacks = \"combine-stacks\";\nUrlParameters.contentType = \"content-type\";\nUrlParameters.valueType = \"value-type\";\nUrlParameters.searchSensitivity = \"search-sensitivity\";\nUrlParameters.startYear = \"start-year\";\nUrlParameters.endYear = \"end-year\";\n\nUrlParameters.showTestData = \"show-samples\";\n","import { Component } from \"./component\";\n\n/**\n * A button\n *\n * @class Button\n * @extends Component\n */\nexport class Button extends Component {\n  /**\n   * Creates an instance of Button.\n   *\n   * @constructor\n   * @param {Component} parent The parental component.\n   * @param style The style of the button.  One of default|back|forward\n   */\n  constructor(parent, style = \"default\") {\n    super(parent);\n\n    this.element = parent\n      .append(\"button\")\n      .attr(\"id\", this.selector)\n      .attr(\"class\", \"ltv-button\")\n      .on(\n        \"click\",\n        function (event) {\n          if (!this.onClick) return;\n          this.onClick(event);\n        }.bind(this)\n      );\n  }\n\n  /**\n   * Sets the text of the button.\n   * @param text The text of the button.\n   */\n  setText(text) {\n    this.element.text(text);\n  }\n\n  onClick(event) {\n    // empty\n  }\n}\n","import { Component } from \"./component\";\nimport { createID } from \"../shared/selector\";\nimport { Card } from \"./card\";\nimport { Button } from \"./button\";\nimport * as d3 from \"d3\";\n\n/**\n * A lotivis popup.\n *\n * +----------------------------------------------------------------+\n * |                                                                |\n * |                                                                |\n *\n * @class Popup\n * @extends Component\n */\nexport class Popup extends Component {\n  /**\n   * Creates a new instance of Popup.\n   * @param parent The parental component.\n   */\n  constructor(parent = d3.select(\"body\")) {\n    super(parent);\n    this.injectUnderground(parent);\n    this.injectContainer();\n    this.injectCard();\n    this.inject();\n    this.injectCloseButton();\n    this.addCloseActionListeners();\n  }\n\n  // MARK: - Render\n\n  /**\n   * Appends shared.components to this popup.\n   * Should be overridden by subclasses.\n   */\n  inject() {\n    // empty\n  }\n\n  /**\n   * Appends the 'dim' background to the given parent.\n   *\n   * @param parent The parental element.\n   */\n  injectUnderground(parent) {\n    this.modalBackgroundId = createID();\n    this.modalBackground = parent\n      .append(\"div\")\n      .classed(\"ltv-popup-underground ltv-fade-in\", true)\n      .attr(\"id\", this.modalBackgroundId);\n  }\n\n  /**\n   *\n   */\n  injectContainer() {\n    this.elementId = createID();\n    this.element = this.modalBackground\n      .append(\"div\")\n      .classed(\"ltv-popup\", true)\n      .attr(\"id\", this.elementId);\n  }\n\n  /**\n   *\n   */\n  injectCard() {\n    this.card = new Card(this.element);\n    this.card.element.classed(\"ltv-popup\", true);\n  }\n\n  /**\n   * Appends a close button to the right header component.\n   */\n  injectCloseButton() {\n    this.closeButton = new Button(this.card.headerRightComponent);\n    this.closeButton.setText(\"Close\");\n  }\n\n  /**\n   * Appends an on click listener to the button.\n   */\n  addCloseActionListeners() {\n    let validIDs = [this.closeButton.selector, this.modalBackgroundId];\n    let popup = this;\n    this.modalBackground.on(\"click\", function (event) {\n      if (!event || !event.target) return;\n      if (!validIDs.includes(event.target.id)) return;\n      popup.dismiss();\n    });\n  }\n\n  // MARK: - Life Cycle\n\n  /**\n   * Tells the receiving popup that it is about to be presented.\n   *\n   * Subclasses may override.\n   */\n  willShow() {\n    // empty\n  }\n\n  /**\n   * Tells the receiving popup that it is now presented.\n   *\n   * Subclasses may override.\n   */\n  didShow() {\n    // empty\n  }\n\n  /**\n   * Presents the popup.\n   */\n  show() {\n    if (this.willShow) this.willShow();\n    this.getUnderground().style.display = \"block\";\n    if (this.didShow) this.didShow();\n  }\n\n  /**\n   * Tells the receiving popup that it is about to be dismissed.\n   *\n   * Subclasses may override.\n   */\n  willDismiss() {\n    // empty\n  }\n\n  /**\n   * Tells the receiving popup that the DOM element will be removed.\n   *\n   * Subclasses may override.\n   */\n  willRemoveDOMElement() {\n    // empty\n  }\n\n  /**\n   * Dismisses the popup.\n   */\n  dismiss() {\n    if (this.willDismiss) this.willDismiss();\n    this.getUnderground().style.display = \"none\";\n    if (this.willRemoveDOMElement) this.willRemoveDOMElement();\n    this.getUnderground().remove();\n  }\n\n  getUnderground() {\n    return document.getElementById(this.modalBackgroundId);\n  }\n\n  showUnder(sourceElement, position = \"center\") {\n    if (!sourceElement) return;\n\n    let preferredSize = this.preferredSize();\n    let origin = this.calculateBottomCenter(sourceElement);\n\n    if (position === \"left\") {\n      origin.x -= origin.width / 2;\n    } else if (position === \"right\") {\n      origin.x -= preferredSize.width - origin.width / 2;\n    } else {\n      // assume center\n      origin.x -= preferredSize.width / 2;\n    }\n\n    let id = this.elementId;\n    let popup = document.getElementById(id);\n\n    popup.style.position = \"absolute\";\n    popup.style.width = preferredSize.width + \"px\";\n    // popup.style.height = preferredSize.height + 'px';\n    popup.style.left = origin.x + \"px\";\n    popup.style.top = origin.y + \"px\";\n\n    this.show();\n  }\n\n  showBigModal() {\n    let id = this.elementId;\n    let popup = document.getElementById(id);\n    let preferredSize = this.preferredSize();\n\n    popup.style.position = \"relative\";\n    popup.style.margin = \"50px auto\";\n    popup.style.width = preferredSize.width + \"px\";\n\n    this.show();\n  }\n\n  /**\n   * Returns the preferred size of the popup.  Subclasses may override in order to\n   * change the size of the popup.\n   *\n   * @returns {{width: number, height: number}}\n   */\n  preferredSize() {\n    return {\n      width: 300,\n      height: 300,\n    };\n  }\n\n  /**\n   * Returns the bottom middle point of the passed element.\n   *\n   * @param element\n   * @param respectWindowScroll\n   * @returns {{x: number, width: number, y: number, height: number}}\n   */\n  calculateBottomCenter(element, respectWindowScroll = false) {\n    let rect = element.getBoundingClientRect();\n    let x = rect.x + rect.width / 2;\n    let y = rect.y + rect.height;\n\n    if (respectWindowScroll) {\n      x += window.scrollX;\n      y += window.scrollY;\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: rect.width,\n      height: rect.height,\n    };\n  }\n}\n","import { LotivisConfig } from \"./config\";\n\n/**\n * Appends the given string in extension to the given string filename if filename not already ends with this extension.\n *\n * @param filename A string with or without an extension.\n * @param extension The extension the filename will end with.\n *\n * @returns {*|string} The filename with the given extension.\n */\nexport function appendExtensionIfNeeded(filename, extension) {\n  if (extension === \"\" || extension === \".\") return filename;\n  extension = extension.startsWith(\".\") ? extension : `.${extension}`;\n  return filename.endsWith(extension) ? filename : `${filename}${extension}`;\n}\n\nexport function createDownloadFilename() {\n  let components = [LotivisConfig.downloadFilePrefix];\n  let separator = LotivisConfig.filenameSeparator;\n  for (let i = 0; i < arguments.length; i++) {\n    components.push(String(arguments[i]));\n  }\n  return components.join(separator);\n}\n","// http://bl.ocks.org/Rokotyan/0556f8facbaf344507cdc45dc3622177\n/**\n * Parses a String from the given (D3.js) SVG node.\n *\n * @param svgNode The node of the SVG.\n * @returns {string} The parsed String.\n */\nexport function getSVGString(svgNode) {\n  svgNode.setAttribute(\"xlink\", \"http://www.w3.org/1999/xlink\");\n  let cssStyleText = getCSSStyles(svgNode);\n  appendCSS(cssStyleText, svgNode);\n\n  let serializer = new XMLSerializer();\n  let svgString = serializer.serializeToString(svgNode);\n\n  // Fix root xlink without namespace\n  svgString = svgString.replace(/(\\w+)?:?xlink=/g, \"xmlns:xlink=\");\n\n  // Safari NS namespace fix\n  svgString = svgString.replace(/NS\\d+:href/g, \"xlink:href\");\n\n  return svgString;\n\n  function getCSSStyles(parentElement) {\n    let selectorTextArr = [];\n\n    // Add Parent element Id and Classes to the list\n    selectorTextArr.push(\"#\" + parentElement.id);\n    for (let c = 0; c < parentElement.classList.length; c++) {\n      if (!contains(\".\" + parentElement.classList[c], selectorTextArr)) {\n        selectorTextArr.push(\".\" + parentElement.classList[c]);\n      }\n    }\n\n    // Add Children element Ids and Classes to the list\n    let nodes = parentElement.getElementsByTagName(\"*\");\n    for (let i = 0; i < nodes.length; i++) {\n      let id = nodes[i].id;\n      if (!contains(\"#\" + id, selectorTextArr)) {\n        selectorTextArr.push(\"#\" + id);\n      }\n\n      let classes = nodes[i].classList;\n      for (let c = 0; c < classes.length; c++) {\n        if (!contains(\".\" + classes[c], selectorTextArr)) {\n          selectorTextArr.push(\".\" + classes[c]);\n        }\n      }\n    }\n\n    // Extract CSS Rules\n    let extractedCSSText = \"\";\n    for (let i = 0; i < document.styleSheets.length; i++) {\n      let s = document.styleSheets[i];\n\n      try {\n        if (!s.cssRules) continue;\n      } catch (e) {\n        if (e.name !== \"SecurityError\") throw e; // for Firefox\n        continue;\n      }\n\n      let cssRules = s.cssRules;\n      for (let r = 0; r < cssRules.length; r++) {\n        if (contains(cssRules[r].selectorText, selectorTextArr)) {\n          extractedCSSText += cssRules[r].cssText;\n        }\n      }\n    }\n\n    return extractedCSSText;\n\n    function contains(str, arr) {\n      return arr.indexOf(str) !== -1;\n    }\n  }\n\n  function appendCSS(cssText, element) {\n    let styleElement = document.createElement(\"style\");\n    styleElement.setAttribute(\"type\", \"text/css\");\n    styleElement.innerHTML = cssText;\n    let refNode = element.hasChildNodes() ? element.children[0] : null;\n    element.insertBefore(styleElement, refNode);\n  }\n}\n\n/**\n *\n * @param svgString\n * @param width\n * @param height\n * @param callback\n */\nexport function svgString2Image(svgString, width, height, callback) {\n  // Convert SVG string to samples URL\n  let imageSource =\n    \"data:image/svg+xml;base64,\" +\n    btoa(unescape(encodeURIComponent(svgString)));\n\n  let canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n\n  let context = canvas.getContext(\"2d\");\n  let image = new Image();\n  image.onload = function () {\n    context.clearRect(0, 0, width, height);\n    context.drawImage(image, 0, 0, width, height);\n\n    let data = canvas.toDataURL(\"image/png\");\n    if (callback) callback(data);\n  };\n\n  image.src = imageSource;\n}\n\n/**\n * Returns the size of the viewBox or the normal size of the given svg element.\n *\n * @param svgElement The svg element.\n * @returns {number[]} The size [width, height].\n */\nexport function getOriginalSizeOfSVG(svgElement) {\n  let viewBoxBaseValue = svgElement.viewBox.baseVal;\n  if (viewBoxBaseValue.width !== 0 && viewBoxBaseValue.height !== 0) {\n    return [viewBoxBaseValue.width, viewBoxBaseValue.height];\n  } else {\n    return [svgElement.width.baseVal.value, svgElement.height.baseVal.value];\n  }\n}\n","import { appendExtensionIfNeeded } from \"./filename\";\nimport {\n  getOriginalSizeOfSVG,\n  getSVGString,\n  svgString2Image,\n} from \"./screenshot\";\nimport * as d3 from \"d3\";\n\n/**\n * Creates and appends an anchor linked to the given samples which is then immediately clicked.\n *\n * @param blob The samples to be downloaded.\n * @param filename The name of the file.\n */\nexport function downloadBlob(blob, filename) {\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveBlob(blob, filename);\n  } else {\n    let anchor = document.createElement(\"a\");\n    anchor.href = URL.createObjectURL(blob);\n    anchor.download = filename;\n    document.body.appendChild(anchor);\n    anchor.click();\n    document.body.removeChild(anchor);\n  }\n}\n\n/**\n * Initiates a download of a JSON file with the given content and the given filename.\n * @param jsonString The JSON content.\n * @param filename The filename of the file to be downloaded. Will append '.json' extension\n * if needed.\n */\nexport function downloadJSON(jsonString, filename) {\n  let blob = new Blob([jsonString], { type: \"text/json\" });\n  let saveFilename = appendExtensionIfNeeded(filename, \"json\");\n  downloadBlob(blob, saveFilename);\n}\n\nexport function downloadCSV(jsonString, filename) {\n  let blob = new Blob([jsonString], { type: \"text/csv\" });\n  let saveFilename = appendExtensionIfNeeded(filename, \"csv\");\n  downloadBlob(blob, saveFilename);\n}\n\n/**\n * Initiates a download of the PNG image of the SVG with the given selector (id).\n *\n * @param selector The id of the SVG element to create the image of.\n * @param filename The name of the file which is been downloaded.\n */\nexport function downloadImage(selector, filename) {\n  // console.log('selector:' + selector);\n  // console.log('filename:' + filename);\n  let svgElement = d3.select(\"#\" + selector);\n  let node = svgElement.node();\n  let size = getOriginalSizeOfSVG(node);\n  let svgString = getSVGString(node);\n\n  svgString2Image(svgString, 2 * size[0], 2 * size[1], function (dataURL) {\n    // console.log('dataURL:' + dataURL);\n    fetch(dataURL)\n      .then((res) => res.blob())\n      .then(function (dataBlob) {\n        let saveFilename = appendExtensionIfNeeded(filename, \"png\");\n\n        // console.log('saveFilename:' + saveFilename);\n\n        downloadBlob(dataBlob, saveFilename);\n      });\n  });\n}\n","import { Popup } from \"./popup\";\nimport { Button } from \"./button\";\nimport { downloadImage } from \"../shared/download\";\nimport { createDownloadFilename } from \"../shared/filename\";\n\n/**\n * @class SettingsPopup\n * @extends Popup\n */\nexport class SettingsPopup extends Popup {\n  /**\n   * Creates a new instance of SettingsPopup.\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  /**\n   * Appends the content of the settings popup.\n   * @override\n   */\n  inject() {\n    super.inject();\n    this.card.setTitle(\"\");\n    this.row = this.card.content.append(\"div\").classed(\"row\", true);\n\n    let container = this.row.append(\"div\");\n    this.screenshotButton = new Button(container);\n    this.screenshotButton.setText(\"Make Screenshot\");\n    this.screenshotButton.element.classed(\"ltv-button ltv-button-block\", true);\n    this.screenshotButton.onClick = this.screenshotButtonAction.bind(this);\n  }\n\n  /**\n   * Returns the preferred size of the popup.\n   * @returns {{width: number, height: number}}\n   * @override\n   */\n  preferredSize() {\n    return { width: 240, height: 600 };\n  }\n\n  /**\n   * Triggered when the screenshot button is pushed.\n   *\n   * Should be overridden by subclasses.\n   */\n  screenshotButtonAction() {\n    let filename = this.chart.datasetController.getFilename() || \"unknown\";\n    let downloadFilename = createDownloadFilename(filename, `chart`);\n    downloadImage(this.chart.svgSelector, downloadFilename);\n  }\n}\n","import { Checkbox } from \"../shared.components/checkbox\";\nimport { UrlParameters } from \"../shared/url.parameters\";\nimport { SettingsPopup } from \"../shared.components/settings.popup\";\n\n/**\n *\n * @class DateChartCardSettingsPopup\n * @extends SettingsPopup\n */\nexport class DateChartCardSettingsPopup extends SettingsPopup {\n  inject() {\n    super.inject();\n    this.injectShowLabelsCheckbox();\n    this.injectCombineStacksCheckbox();\n  }\n\n  injectShowLabelsCheckbox() {\n    let container = this.row.append(\"div\");\n    this.showLabelsCheckbox = new Checkbox(container);\n    this.showLabelsCheckbox.setText(\"Labels\");\n    this.showLabelsCheckbox.onClick = function(checked) {\n      this.chart.config.showLabels = checked;\n      this.chart.update();\n      UrlParameters.getInstance().set(\n        `showLabels-${this.chart.selector}`,\n        checked\n      );\n    }.bind(this);\n  }\n\n  injectCombineStacksCheckbox() {\n    let container = this.row.append(\"div\");\n    this.combineStacksCheckbox = new Checkbox(container);\n    this.combineStacksCheckbox.setText(\"Combine Stacks\");\n    this.combineStacksCheckbox.onClick = function(checked) {\n      this.chart.config.combineStacks = checked;\n      this.chart.update();\n      UrlParameters.getInstance().set(\n        `combineStacks-${this.chart.selector}`,\n        checked\n      );\n    }.bind(this);\n  }\n\n  willShow() {\n    this.showLabelsCheckbox.setChecked(this.chart.config.showLabels);\n    this.combineStacksCheckbox.setChecked(this.chart.config.combineStacks);\n  }\n}\n","import { Component } from \"./component\";\nimport { createID } from \"../shared/selector\";\n\n/**\n *\n * @class Dropdown\n * @extends Component\n */\nexport class Dropdown extends Component {\n  /**\n   * Creates a new instance of Dropdown.\n   * @param parent The parent or selector.\n   */\n  constructor(parent) {\n    super(parent);\n    this.inputElements = [];\n    this.selector = createID();\n    this.element = parent\n      .append(\"div\")\n      .classed(\"lotivis-dropdown-container\", true);\n    this.selectId = createID();\n    this.renderLabel();\n    this.renderSelect();\n    this.hide();\n  }\n\n  renderLabel() {\n    this.label = this.element\n      .append(\"label\")\n      .classed(\"lotivis-dropdown-label\", true)\n      .attr(\"for\", this.selectId);\n  }\n\n  renderSelect() {\n    let thisReference = this;\n    this.select = this.element\n      .append(\"select\")\n      .attr(\"id\", this.selectId)\n      .on(\"change\", function (event) {\n        thisReference.onClick(event);\n      });\n  }\n\n  addOption(optionId, optionName) {\n    return this.select\n      .append(\"option\")\n      .attr(\"id\", optionId)\n      .attr(\"value\", optionId)\n      .text(optionName);\n  }\n\n  setOptions(options) {\n    this.removeAllInputs();\n    for (let i = 0; i < options.length; i++) {\n      let id, name;\n\n      if (Array.isArray(options[i])) {\n        id = options[i][0] || options[i].id;\n        name = options[i][1] || options[i].translatedTitle;\n      } else if (typeof options[i] === \"string\") {\n        id = options[i];\n        name = options[i];\n      } else {\n        id = options[i].id;\n        name = options[i].title;\n      }\n\n      let inputElement = this.addOption(name, name);\n      this.inputElements.push(inputElement);\n    }\n\n    if (options.length === 0) {\n      this.hide();\n    } else {\n      this.show();\n    }\n\n    return this;\n  }\n\n  removeAllInputs() {\n    this.element.selectAll(\"input\").remove();\n    return this;\n  }\n\n  onClick(event) {\n    let element = event.target;\n    if (!element) {\n      return;\n    }\n    let value = element.value;\n    if (!this.onChange) {\n      return;\n    }\n    this.onChange(value);\n    return this;\n  }\n\n  onChange(argument) {\n    console.log(\"argument: \" + argument);\n    if (typeof argument !== \"string\") {\n      this.onChange = argument;\n    } else {\n    }\n    return this;\n  }\n\n  // MARK: - Chaining Setter\n\n  setLabelText(text) {\n    this.label.text(text);\n    return this;\n  }\n\n  setOnChange(callback) {\n    this.onChange = callback;\n    return this;\n  }\n\n  setSelectedOption(optionID) {\n    if (\n      this.inputElements.find(function (item) {\n        return item.attr(\"value\") === optionID;\n      }) !== undefined\n    ) {\n      this.value = optionID;\n    }\n    return this;\n  }\n\n  set value(optionID) {\n    document.getElementById(this.selectId).value = optionID;\n  }\n\n  get value() {\n    return document.getElementById(this.selectId).value;\n  }\n}\n\nDropdown.create = function (selector, options, selectedOption, onChange) {\n  let div = d3.select(`#${selector}`);\n  let dropdown = new Dropdown(div);\n  dropdown.setLabelText(\"Group Size\");\n  dropdown.setOptions(options);\n  dropdown.setSelectedOption(selectedOption);\n  dropdown.setOnChange(onChange);\n  return dropdown;\n};\n","import {toSaveID} from \"../shared/selector\";\n\n/**\n * Represents an option of a dropdown or radio group.\n * @class Option\n */\nexport class Option {\n\n  /**\n   * Creates a new instance of Option.\n   * @param title The title of the option.\n   */\n  constructor(title) {\n    this.title = title;\n    this.id = toSaveID(title);\n  }\n}\n","import { Card } from \"./card\";\nimport { Button } from \"./button\";\nimport { Dropdown } from \"./dropdown\";\nimport { Option } from \"./option\";\nimport { LotivisUnimplementedMethodError } from \"../data.juggle/data.validate.error\";\nimport { lotivis_log } from \"../shared/debug\";\n\n/**\n * A lotivis card with a chart.\n * @class ChartCard\n * @extends Card\n */\nexport class ChartCard extends Card {\n  /**\n   * Creates a new instance of ChartCard.\n   * @param parent The parental component.\n   * @param config The configuration\n   */\n  constructor(parent, config) {\n    if (parent && config && typeof parent === \"string\") {\n      config.selector = parent;\n      super(config);\n    } else {\n      super(parent);\n    }\n\n    this.chart = null;\n    this.config = config;\n    this.injectButtons();\n    this.injectRadioGroup();\n    this.injectChart();\n\n    let cardSelector = this.selector;\n    this.setTitle(\n      config && config.title ? config.title : cardSelector || \"No Title\"\n    );\n  }\n\n  /**\n   * Creates and injects the chart.\n   * Should be overridden by subclasses.\n   */\n  injectChart() {\n    return new LotivisUnimplementedMethodError(`injectChart()`);\n  }\n\n  /**\n   * Creates and injects a screenshot button and a more button.\n   */\n  injectButtons() {\n    this.moreButton = new Button(this.headerRightComponent);\n    this.moreButton.setText(\"More\");\n    this.moreButton.element.classed(\"ltv-button\", true);\n    this.moreButton.onClick = this.presentSettingsPopupAction.bind(this);\n  }\n\n  /**\n   * Creates and injects a radio button group.\n   */\n  injectRadioGroup() {\n    this.dropdown = new Dropdown(this.headerCenterComponent);\n    this.dropdown.onChange = function (value) {\n      let dataset = this.datasets.find(function (dataset) {\n        if (!dataset.label) return false;\n        return dataset.label.split(` `).join(`-`) === value;\n      });\n      dataset = this.datasets.find((dataset) => dataset.label === value);\n      if (!dataset)\n        return lotivis_log(`Can't find dataset with label ${value}`);\n      this.setDataset(dataset);\n    }.bind(this);\n  }\n\n  /**\n   * Updates the options of the radio button group dependant on the given datasets.\n   */\n  updateRadioGroup() {\n    if (!this.datasets) return;\n    let names = this.datasets.map(\n      (dataset) => dataset.label || \"Unknown Label\"\n    );\n    let options = names.map((name) => new Option(name));\n    this.dropdown.setOptions(options);\n  }\n\n  /**\n   *\n   * @param datasets\n   */\n  setDatasets(datasets) {\n    this.datasets = datasets;\n    this.updateRadioGroup();\n    let firstDataset = datasets[0];\n    this.setDataset(firstDataset);\n  }\n\n  /**\n   *\n   * @param dataset\n   */\n  setDataset(dataset) {\n    lotivis_log(\"this.chart: \" + this.chart);\n    lotivis_log(\"this.chart: \", dataset);\n    if (!this.chart) return;\n    if (Array.isArray(dataset)) {\n      this.chart.setDatasets(dataset);\n    } else {\n      this.chart.setDatasets([dataset]);\n    }\n\n    if (this.onSelectedDatasetChanged) {\n      let datasetLabel = dataset.stack || dataset.label || `Unknown`;\n      let index = (this.datasets || []).indexOf(dataset);\n      this.onSelectedDatasetChanged(dataset, index, datasetLabel);\n    }\n  }\n\n  /**\n   * Triggered when the more button is pushed.\n   *\n   * Should be overridden by subclasses.\n   */\n  presentSettingsPopupAction() {\n    return new LotivisUnimplementedMethodError(`presentSettingsPopupAction()`);\n  }\n\n  /**\n   * Triggered for a change of the radio group.\n   *\n   * Should be overridden by subclasses.\n   */\n  onSelectedDatasetChanged() {\n    return new LotivisUnimplementedMethodError(`onSelectedDatasetChanged()`);\n  }\n}\n","import { Card } from \"../shared.components/card\";\nimport { DateChart } from \"../date.chart/date.chart\";\nimport { DateChartCardSettingsPopup } from \"./date.chart.card.settings.popup\";\nimport { Dropdown } from \"../shared.components/dropdown\";\nimport { Option } from \"../shared.components/option\";\nimport { ChartCard } from \"../shared.components/chart.card\";\nimport { downloadImage } from \"../shared/download\";\nimport { createDownloadFilename } from \"../shared/filename\";\nimport { UrlParameters } from \"../shared/url.parameters\";\n\n/**\n * A lotivis date.chart chart card.\n * @class DateChartCard\n * @extends Card\n */\nexport class DateChartCard extends ChartCard {\n  /**\n   * Creates a new instance of DateChartCard.\n   * @param {Component| string} selector The parental component or the selector.\n   * @param config\n   */\n  constructor(selector, config = {}) {\n    let theSelector = selector || config.selector || \"date-chart-card\";\n    super(theSelector, config);\n    this.selector = theSelector;\n    this.datasets = [];\n  }\n\n  /**\n   * Appends the `DateChart` to this card.\n   * @override\n   */\n  injectChart() {\n    this.chartID = this.selector + \"-chart\";\n    this.body.attr(\"id\", this.chartID);\n    this.chart = new DateChart(this.chartID, this.config);\n    this.applyURLParameters();\n  }\n\n  /**\n   * Appends a radio group to the header of the card.\n   */\n  injectRadioGroup() {\n    this.dropdown = new Dropdown(this.headerCenterComponent);\n    this.dropdown.onChange = function(value) {\n      let dataset = this.datasets.find(dataset => dataset.label === value);\n      this.setDataset(dataset);\n    }.bind(this);\n  }\n\n  /**\n   * Updates the radio group dependant on the datasets of this card.\n   */\n  updateRadioGroup() {\n    if (!this.datasets) return;\n    let names = this.datasets.map(dataset => dataset.label);\n    let options = names.map(name => new Option(name));\n    this.dropdown.setOptions(options);\n  }\n\n  /**\n   *\n   */\n  applyURLParameters() {\n    let parameters = UrlParameters.getInstance();\n    this.chart.config.showLabels = parameters.getBoolean(\n      `showLabels-${this.chartID}`,\n      this.chart.config.showLabels\n    );\n    this.chart.config.combineStacks = parameters.getBoolean(\n      `combineStacks-${this.chartID}`,\n      this.chart.config.combineStacks\n    );\n  }\n\n  /**\n   * Tells this chart card to present the setting popup card.\n   * @override\n   */\n  presentSettingsPopupAction() {\n    let button = document.getElementById(this.moreButton.selector);\n    let settingsPopup = new DateChartCardSettingsPopup();\n    settingsPopup.chart = this.chart;\n    settingsPopup.showUnder(button, \"right\");\n  }\n\n  /**\n   * Creates and downloads a screenshot from the chart.\n   * @override\n   */\n  screenshotButtonAction() {\n    let filename =\n      this.chart.datasetController.getFilename() || \"date.chart-chart\";\n    let downloadFilename = createDownloadFilename(filename, `date-chart`);\n    downloadImage(this.chart.svgSelector, downloadFilename);\n  }\n}\n","/**\n *\n * @param geoJSON\n * @param removeCandidates\n * @returns {*}\n */\nexport function removeFeatures(geoJSON, removeCandidates) {\n  if (!Array.isArray(removeCandidates)) return geoJSON;\n  let newGeoJSON = geoJSON;\n  for (let index = 0; index < removeCandidates.length; index++) {\n    let code = removeCandidates[index];\n    let candidate = newGeoJSON.features.find(\n      feature => feature.properties.code === code\n    );\n    if (!candidate) continue;\n    let candidateIndex = newGeoJSON.features.indexOf(candidate);\n    if (candidateIndex < 0) continue;\n    newGeoJSON.features.splice(candidateIndex, 1);\n  }\n  return newGeoJSON;\n}\n","/**\n * Returns the style of the given CSS class or an empty object.\n *\n * @param className The CSS class name.\n * @returns {{}} The CSS style.\n */\nexport function styleForCSSClass(className) {\n  let selector = className;\n  if (!selector.startsWith(\".\")) selector = \".\" + selector;\n  let element = document.querySelector(selector);\n  if (!element) return {};\n  let style = getComputedStyle(element);\n  return style ? style : {};\n}\n","/**\n * The default number format.\n *\n * @type {Intl.NumberFormat}\n */\nconst numberFormat = new Intl.NumberFormat(\"de-DE\", {\n  maximumFractionDigits: 3,\n});\n\n/**\n * Returns the formatted version from the given number.\n *\n * @param number The number to format.\n * @returns {string} The formatted version of the number.\n */\nexport function formatNumber(number) {\n  if (typeof number !== \"number\") return number;\n  return numberFormat.format(number);\n}\n","/**\n * Compares the string version of each oof the two given values for equality.\n *\n * @param value1 The first value to compare.\n * @param value2 The second value to compare.\n * @returns {boolean} `True` if the string versions are equal, `false` if not.\n */\nexport function equals(value1, value2) {\n  return String(value1) === String(value2);\n}\n\n/**\n * Returns a Boolean value indicating whether the JSON string version of the given two objects are equal.\n *\n * @param object1 The first object to compare.\n * @param object2 The second object to compare.\n * @returns {boolean} `True` if the JSON strings of the given objects are equal,`false` if not.\n */\nexport function objectsEqual(object1, object2) {\n  if (object1 === object2) return true;\n  let string1 = JSON.stringify(object1);\n  let string2 = JSON.stringify(object2);\n  return string1 === string2;\n}\n","import { combineByLocation } from \"../data.juggle/data.combine\";\nimport { styleForCSSClass } from \"../shared/style\";\nimport { formatNumber } from \"../shared/format\";\nimport { equals } from \"../shared/equal\";\nimport { LotivisConfig } from \"../shared/config\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @class MapTooltipRenderer\n */\nexport class MapTooltipRenderer {\n  /**\n   * Creates a new instance of MapTooltipRenderer.\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    this.mapChart = mapChart;\n\n    let tooltip = mapChart.element\n      .append(\"div\")\n      .attr(\"class\", \"ltv-tooltip\")\n      .attr(\"rx\", 5) // corner radius\n      .attr(\"ry\", 5)\n      .style(\"opacity\", 0);\n\n    function featureMapID(feature) {\n      return `lotivis-map-area-${feature.lotivisId}`;\n    }\n\n    function htmlTitle(features) {\n      if (features.length > 3) {\n        let featuresSlice = features.slice(0, 3);\n        let ids = featuresSlice\n          .map(feature => `${feature.lotivisId}`)\n          .join(\", \");\n        let names = featuresSlice\n          .map(mapChart.config.featureNameAccessor)\n          .join(\", \");\n        let moreCount = features.length - 3;\n        return `IDs: ${ids} (+${moreCount})<br>Names: ${names} (+${moreCount})`;\n      } else {\n        let ids = features.map(feature => `${feature.lotivisId}`).join(\", \");\n        let names = features\n          .map(mapChart.config.featureNameAccessor)\n          .join(\", \");\n        return `IDs: ${ids}<br>Names: ${names}`;\n      }\n    }\n\n    function htmlValues(features) {\n      if (!mapChart.datasetController) {\n        return \"\";\n      }\n\n      let flatData = mapChart.datasetController.flatData;\n      let combined = combineByLocation(flatData);\n      let combinedByLabel = {};\n\n      for (let i = 0; i < features.length; i++) {\n        let feature = features[i];\n        let data = combined.filter(item =>\n          equals(item.location, feature.lotivisId)\n        );\n\n        for (let index = 0; index < data.length; index++) {\n          let item = data[index];\n          let label = item.label || item.dataset || item.stack;\n\n          if (combinedByLabel[label]) {\n            combinedByLabel[label] += item.value;\n          } else {\n            combinedByLabel[label] = item.value;\n          }\n        }\n      }\n\n      let components = [\"\"];\n      for (const label in combinedByLabel) {\n        components.push(label + \": \" + formatNumber(combinedByLabel[label]));\n      }\n\n      return components.join(\"<br>\");\n    }\n\n    /**\n     * Returns the size of the tooltip.\n     * @returns {number[]}\n     */\n    function getTooltipSize() {\n      let tooltipWidth = Number(\n        tooltip.style(\"width\").replace(\"px\", \"\") || 200\n      );\n      let tooltipHeight = Number(tooltip.style(\"height\").replace(\"px\", \"\"));\n      return [tooltipWidth + 20, tooltipHeight + 20];\n    }\n\n    function positionTooltip(event, feature) {\n      // position tooltip\n      let tooltipSize = getTooltipSize();\n      let projection = mapChart.projection;\n      let featureBounds = d3.geoBounds(feature);\n      let featureLowerLeft = projection(featureBounds[0]);\n      let featureUpperRight = projection(featureBounds[1]);\n      let featureBoundsWidth = featureUpperRight[0] - featureLowerLeft[0];\n\n      // svg is presented in dynamic sized view box so we need to get the actual size\n      // of the element in order to calculate a scale for the position of the tooltip.\n      let effectiveSize = mapChart.getElementEffectiveSize();\n      let factor = effectiveSize[0] / mapChart.config.width;\n      let positionOffset = mapChart.getElementPosition();\n\n      /**\n       * Calculates and returns the left position for the tooltip.\n       * @returns {*} The left position in pixels.\n       */\n      function getTooltipLeft() {\n        let left = featureLowerLeft[0];\n        left += featureBoundsWidth / 2;\n        left *= factor;\n        left -= tooltipSize[0] / 2;\n        left += positionOffset[0];\n        return left;\n      }\n\n      /**\n       * Calculates and returns the top tooltip position when displaying above a feature.\n       * @returns {*} The top position in pixels.\n       */\n      function getTooltipLocationAbove() {\n        let top = featureUpperRight[1] * factor;\n        top -= tooltipSize[1];\n        top += positionOffset[1];\n        top -= LotivisConfig.tooltipOffset;\n        return top;\n      }\n\n      /**\n       * Calculates and returns the top tooltip position when displaying under a feature.\n       * @returns {*} The top position in pixels.\n       */\n      function getTooltipLocationUnder() {\n        let top = featureLowerLeft[1] * factor;\n        top += positionOffset[1];\n        top += LotivisConfig.tooltipOffset;\n        return top;\n      }\n\n      let top = 0;\n      if (featureLowerLeft[1] > mapChart.config.height / 2) {\n        top = getTooltipLocationAbove();\n      } else {\n        top = getTooltipLocationUnder();\n      }\n\n      let left = getTooltipLeft();\n      tooltip\n        .style(\"opacity\", 1)\n        .style(\"left\", left + \"px\")\n        .style(\"top\", top + \"px\");\n    }\n\n    /**\n     * Called by map.chart geojson renderer when mouse enters an area drawn on the map.chart.\n     * @param event The mouse event.\n     * @param feature The drawn feature (area).\n     */\n    this.mouseEnter = function(event, feature) {\n      if (\n        mapChart.datasetController &&\n        mapChart.datasetController.filters.locations.includes(feature.lotivisId)\n      ) {\n        tooltip.html(\n          [\n            htmlTitle(mapChart.selectedFeatures),\n            htmlValues(mapChart.selectedFeatures)\n          ].join(\"<br>\")\n        );\n        positionTooltip(event, mapChart.selectionBorderGeoJSON.features[0]);\n      } else {\n        tooltip.html(\n          [htmlTitle([feature]), htmlValues([feature])].join(\"<br>\")\n        );\n        positionTooltip(event, feature);\n      }\n    };\n\n    /**\n     * Called by map.chart geojson renderer when mouse leaves an area drawn on the map.chart.\n     * @param event The mouse event.\n     * @param feature The drawn feature (area).\n     */\n    this.mouseOut = function(event, feature) {\n      let style = styleForCSSClass(\".lotivis-map.chart-area\");\n      let mapID = featureMapID(feature);\n      mapChart.svg\n        .select(`#${mapID}`)\n        .style(\"stroke\", style.stroke || \"black\")\n        .style(\"stroke-width\", style[\"stroke-width\"] || \"0.7\")\n        .style(\"stroke-dasharray\", feature =>\n          feature.departmentsData ? \"0\" : \"1,4\"\n        );\n      tooltip.style(\"opacity\", 0);\n    };\n\n    /**\n     * Raises the tooltip and the rectangle which draws the bounds.\n     */\n    this.raise = function() {\n      tooltip.raise();\n    };\n  }\n}\n","import { Color } from \"../shared/color\";\nimport { formatNumber } from \"../shared/format\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @class MapLegendRenderer\n */\nexport class MapLegendRenderer {\n  /**\n   * Creates a new instance of MapLegendRenderer.\n   *\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    let legend;\n\n    function appendLegend() {\n      legend = mapChart.svg\n        .append(\"svg\")\n        .attr(\"class\", \"ltv-map-chart-legend\")\n        .attr(\"width\", mapChart.width)\n        .attr(\"height\", 200)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0);\n    }\n\n    function removeDatasetLegend() {\n      legend.selectAll(\"rect\").remove();\n      legend.selectAll(\"text\").remove();\n    }\n\n    this.render = function() {\n      if (!mapChart.dataview) return;\n\n      let stackNames = mapChart.dataview.stacks;\n      let combinedData = mapChart.dataview.combinedData;\n\n      appendLegend();\n      legend.raise();\n      removeDatasetLegend();\n\n      for (let index = 0; index < stackNames.length; index++) {\n        let stackName = stackNames[index];\n        let dataForStack = combinedData.filter(\n          data => data.stack === stackName\n        );\n        let max = d3.max(dataForStack, item => item.value) || 0;\n        let offset = index * 80;\n        let color = Color.colorsForStack(index, 1)[0];\n\n        let steps = 4;\n        let data = [0, (1 / 4) * max, (1 / 2) * max, (3 / 4) * max, max];\n        let generator = Color.mapColors(max);\n\n        legend\n          .append(\"text\")\n          .attr(\"class\", \"ltv-map-chart-legend-title\")\n          .attr(\"x\", offset + 10)\n          .attr(\"y\", \"20\")\n          .style(\"fill\", color.rgbString())\n          .text(stackName);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"text\")\n          .data([\"No Data\"])\n          .enter()\n          .append(\"text\")\n          .attr(\"class\", \"ltv-map-chart-legend-text\")\n          .attr(\"x\", offset + 35)\n          .attr(\"y\", 44)\n          .text(d => d);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"rect\")\n          .data([0])\n          .enter()\n          .append(\"rect\")\n          .attr(\"class\", \"ltv-map-chart-legend-rect\")\n          .style(\"fill\", \"white\")\n          .attr(\"x\", offset + 10)\n          .attr(\"y\", 30)\n          .attr(\"width\", 18)\n          .attr(\"height\", 18)\n          .style(\"stroke-dasharray\", \"1,3\")\n          .style(\"stroke\", \"black\")\n          .style(\"stroke-width\", 1);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"text\")\n          .data([0])\n          .enter()\n          .append(\"text\")\n          .attr(\"class\", \"lotivis-location-chart-legend-text\")\n          .attr(\"x\", offset + 35)\n          .attr(\"y\", 64)\n          .text(d => d);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"rect\")\n          .data([0])\n          .enter()\n          .append(\"rect\")\n          .attr(\"class\", \"ltv-map-chart-legend-rect\")\n          .style(\"fill\", \"WhiteSmoke\")\n          .attr(\"x\", offset + 10)\n          .attr(\"y\", 50)\n          .attr(\"width\", 18)\n          .attr(\"height\", 18)\n          .style(\"stroke\", \"black\")\n          .style(\"stroke-width\", 1);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"rect\")\n          .data(data)\n          .enter()\n          .append(\"rect\")\n          .attr(\"class\", \"ltv-map-chart-legend-rect\")\n          .style(\"fill\", generator)\n          .attr(\"x\", offset + 10)\n          .attr(\"y\", (d, i) => i * 20 + 70)\n          .attr(\"width\", 18)\n          .attr(\"height\", 18)\n          .style(\"stroke\", \"black\")\n          .style(\"stroke-width\", 1);\n\n        legend\n          .append(\"g\")\n          .selectAll(\"text\")\n          .data(data)\n          .enter()\n          .append(\"text\")\n          .attr(\"class\", \"ltv-map-chart-legend-text\")\n          .attr(\"x\", offset + 35)\n          .attr(\"y\", (d, i) => i * 20 + 84)\n          .text(function(d, i) {\n            if (d === 0) {\n              return \"> 0\";\n            } else {\n              return formatNumber((i / steps) * max);\n            }\n          });\n\n        return;\n      }\n    };\n  }\n}\n","import { formatNumber } from \"../shared/format\";\nimport { equals } from \"../shared/equal\";\nimport { lotivis_log } from \"../shared/debug\";\n\n/**\n *\n * @class MapLabelRenderer\n */\nexport class MapLabelRenderer {\n  /**\n   * Creates a new instance of MapLabelRenderer.\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    /**\n     * Removes any old labels from the map.chart.\n     */\n    function removeLabels() {\n      mapChart.svg.selectAll(\".ltv-map.chart-label\").remove();\n    }\n\n    /**\n     * Appends labels from datasets.\n     */\n    this.render = function() {\n      removeLabels();\n\n      let geoJSON = mapChart.geoJSON;\n      if (!mapChart.geoJSON)\n        return lotivis_log(\n          `[lotivis]  No GeoJSON to render (${mapChart.selector}).`\n        );\n      let dataview = mapChart.dataview;\n\n      if (!dataview)\n        return lotivis_log(\n          `[lotivis]  No dataview in map chart (${mapChart.selector}).`\n        );\n      if (!mapChart.config.showLabels)\n        return lotivis_log(\n          `[lotivis]  Skip rendering labels due to configuration (${mapChart.selector}).`\n        );\n\n      mapChart.svg\n        .selectAll(\"text\")\n        .data(geoJSON.features)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"ltv-map-chart-label\")\n        .text(function(feature) {\n          let featureID = mapChart.config.featureIDAccessor(feature);\n          let dataset = dataview.combinedData.find(dataset =>\n            equals(dataset.location, featureID)\n          );\n          return dataset ? formatNumber(dataset.value) : \"\";\n        })\n        .attr(\n          \"x\",\n          function(feature) {\n            return mapChart.projection(feature.center)[0];\n          }.bind(this)\n        )\n        .attr(\n          \"y\",\n          function(feature) {\n            return mapChart.projection(feature.center)[1];\n          }.bind(this)\n        );\n    };\n  }\n}\n","import { equals } from \"../shared/equal\";\nimport { Color } from \"../shared/color\";\nimport { lotivis_log } from \"../shared/debug\";\nimport { styleForCSSClass } from \"../shared/style\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @class MapDatasetRenderer\n */\nexport class MapDatasetRenderer {\n  /**\n   * Creates a new instance of MapDatasetRenderer.\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    let generator = Color.mapColors(1);\n    let styleArea = styleForCSSClass(\"ltv-map-chart-area\");\n    let styleHover = styleForCSSClass(\"ltv-map-chart-area-hover\");\n\n    /**\n     * Resets the `fill` and `fill-opacity` property of each area.\n     */\n    function resetAreas() {\n      mapChart.svg\n        .selectAll(\".ltv-map-chart-area\")\n        .classed(\"ltv-map-chart-area-hover\", false);\n    }\n\n    function featureMapID(feature) {\n      return `ltv-map-chart-area-id-${feature.lotivisId}`;\n    }\n\n    /**\n     * Called by map chart GeoJSON renderer when mouse enters an area drawn\n     * on the location chart.\n     *\n     * @param event The mouse event.\n     * @param feature The drawn feature (area).\n     */\n    this.mouseEnter = function(event, feature) {\n      resetAreas();\n\n      let color = styleArea.stroke || Color.defaultTint.rgbString();\n      let mapID = featureMapID(feature);\n\n      mapChart.svg\n        .selectAll(`#${mapID}`)\n        .raise()\n        .classed(\"ltv-map-chart-area-hover\", true);\n      // .style('stroke', styleHover.stroke || color)\n      // .style('stroke-width', styleHover['stroke-width'] || '4')\n      // .style('stroke-dasharray', '0');\n\n      mapChart.svg.selectAll(\".ltv-location-chart-label\").raise();\n    };\n\n    /**\n     * Tells this renderer that the mouse moved out of an area.\n     */\n    this.mouseOut = function() {\n      resetAreas();\n    };\n\n    /**\n     * Iterates the datasets per stack and draws them on svg.\n     */\n    this.render = function() {\n      if (!mapChart.geoJSON)\n        return lotivis_log(\"[lotivis]  No GeoJSON to render.\");\n      if (!mapChart.dataview)\n        return lotivis_log(\"[lotivis]  No data view property.\");\n\n      let stackNames = mapChart.dataview.stacks;\n      let combinedData = mapChart.dataview.combinedData;\n      resetAreas();\n\n      for (let index = 0; index < stackNames.length; index++) {\n        let stackName = stackNames[index];\n        let dataForStack = combinedData.filter(\n          data => data.stack === stackName\n        );\n        let max = d3.max(dataForStack, item => item.value);\n\n        for (let index = 0; index < dataForStack.length; index++) {\n          let datasetEntry = dataForStack[index];\n          let locationID = datasetEntry.location;\n          let opacity = Number(datasetEntry.value / max);\n\n          mapChart.svg\n            .selectAll(\".ltv-map-chart-area\")\n            .filter(item =>\n              equals(mapChart.config.featureIDAccessor(item), locationID)\n            )\n            .style(\"fill\", function() {\n              if (opacity === 0) {\n                return \"WhiteSmoke\";\n              } else {\n                return generator(opacity);\n              }\n            });\n        }\n        return;\n      }\n    };\n  }\n}\n","import { lotivis_log } from \"../shared/debug\";\n\n/**\n * @class MapGeoJSONRenderer\n */\nexport class MapGeoJSONRenderer {\n  /**\n   * Creates a new instance of MapGeoJSONRenderer.\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    /**\n     * To be called when the mouse enters an area drawn on the map.chart.\n     *\n     * @param event The mouse event.\n     * @param feature The drawn feature (area).\n     */\n    function mouseEnter(event, feature) {\n      mapChart.datasetRenderer.mouseEnter(event, feature);\n      mapChart.tooltipRenderer.mouseEnter(event, feature);\n    }\n\n    /**\n     * To be called when the mouse leaves an area drawn on the map.chart.\n     *\n     * @param event The mouse event.\n     * @param feature The drawn feature (area).\n     */\n    function mouseOut(event, feature) {\n      mapChart.datasetRenderer.mouseOut(event, feature);\n      mapChart.tooltipRenderer.mouseOut(event, feature);\n      mapChart.selectionRenderer.raise();\n\n      if (event.buttons === 1) {\n        mouseClick(event, feature);\n      }\n    }\n\n    function mouseClick(event, feature) {\n      if (!feature || !feature.properties) return;\n      if (!mapChart.datasetController) return;\n\n      if (mapChart.config.sendsNotifications) {\n        let locationID = feature.lotivisId;\n        mapChart.makeUpdateInsensible();\n        mapChart.datasetController.toggleLocation(locationID);\n        mapChart.makeUpdateSensible();\n        mapChart.selectionRenderer.render();\n        mapChart.tooltipRenderer.mouseEnter(event, feature);\n      }\n    }\n\n    /**\n     * Renders the `presentedGeoJSON` property.\n     */\n    this.render = function() {\n      let geoJSON = mapChart.presentedGeoJSON;\n      if (!geoJSON) return;\n\n      mapChart.areas = mapChart.svg\n        .selectAll(\"path\")\n        .data(geoJSON.features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", mapChart.path)\n        .attr(\"id\", feature => `ltv-map-chart-area-id-${feature.lotivisId}`)\n        .classed(\"ltv-map-chart-area\", true)\n        .style(\"stroke-dasharray\", feature =>\n          feature.departmentsData ? \"0\" : \"1,4\"\n        )\n        .style(\"fill\", \"white\")\n        .style(\"fill-opacity\", 1)\n        .on(\"click\", mouseClick)\n        .on(\"mouseenter\", mouseEnter)\n        .on(\"mouseout\", mouseOut);\n    };\n  }\n}\n","export var hasOwnProperty = Object.prototype.hasOwnProperty;\n","import {hasOwnProperty} from \"./object.js\";\n\n// Computes the bounding box of the specified hash of GeoJSON objects.\nexport default function(objects) {\n  var x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  function boundGeometry(geometry) {\n    if (geometry != null && hasOwnProperty.call(boundGeometryType, geometry.type)) boundGeometryType[geometry.type](geometry);\n  }\n\n  var boundGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(boundGeometry); },\n    Point: function(o) { boundPoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates.forEach(boundPoint); },\n    LineString: function(o) { boundLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs.forEach(boundLine); },\n    Polygon: function(o) { o.arcs.forEach(boundLine); },\n    MultiPolygon: function(o) { o.arcs.forEach(boundMultiLine); }\n  };\n\n  function boundPoint(coordinates) {\n    var x = coordinates[0],\n        y = coordinates[1];\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  function boundLine(coordinates) {\n    coordinates.forEach(boundPoint);\n  }\n\n  function boundMultiLine(coordinates) {\n    coordinates.forEach(boundLine);\n  }\n\n  for (var key in objects) {\n    boundGeometry(objects[key]);\n  }\n\n  return x1 >= x0 && y1 >= y0 ? [x0, y0, x1, y1] : undefined;\n}\n","export default function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}\n","export default function(size, hash, equal, keyType, keyEmpty, valueType) {\n  if (arguments.length === 3) {\n    keyType = valueType = Array;\n    keyEmpty = null;\n  }\n\n  var keystore = new keyType(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      valstore = new valueType(size),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    keystore[i] = keyEmpty;\n  }\n\n  function set(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index] = value;\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function maybeSet(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function get(key, missingValue) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) break;\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    return missingValue;\n  }\n\n  function keys() {\n    var keys = [];\n    for (var i = 0, n = keystore.length; i < n; ++i) {\n      var matchKey = keystore[i];\n      if (matchKey != keyEmpty) keys.push(matchKey);\n    }\n    return keys;\n  }\n\n  return {\n    set: set,\n    maybeSet: maybeSet, // set if unset\n    get: get,\n    keys: keys\n  };\n}\n","export default function(pointA, pointB) {\n  return pointA[0] === pointB[0] && pointA[1] === pointB[1];\n}\n","// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16),\n    floats = new Float64Array(buffer),\n    uints = new Uint32Array(buffer);\n\nexport default function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n}\n","import hashset from \"./hash/hashset.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given an extracted (pre-)topology, identifies all of the junctions. These are\n// the points at which arcs (lines or rings) will need to be cut so that each\n// arc is represented uniquely.\n//\n// A junction is a point where at least one arc deviates from another arc going\n// through the same point. For example, consider the point B. If there is a arc\n// through ABC and another arc through CBA, then B is not a junction because in\n// both cases the adjacent point pairs are {A,C}. However, if there is an\n// additional arc ABD, then {A,D} != {A,C}, and thus B becomes a junction.\n//\n// For a closed ring ABCA, the first point A’s adjacent points are the second\n// and last point {B,C}. For a line, the first and last point are always\n// considered junctions, even if the line is closed; this ensures that a closed\n// line is never rotated.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      indexes = index(),\n      visitedByIndex = new Int32Array(coordinates.length),\n      leftByIndex = new Int32Array(coordinates.length),\n      rightByIndex = new Int32Array(coordinates.length),\n      junctionByIndex = new Int8Array(coordinates.length),\n      junctionCount = 0, // upper bound on number of junctions\n      i, n,\n      previousIndex,\n      currentIndex,\n      nextIndex;\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = leftByIndex[i] = rightByIndex[i] = -1;\n  }\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineStart = line[0],\n        lineEnd = line[1];\n    currentIndex = indexes[lineStart];\n    nextIndex = indexes[++lineStart];\n    ++junctionCount, junctionByIndex[currentIndex] = 1; // start\n    while (++lineStart <= lineEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[lineStart]);\n    }\n    ++junctionCount, junctionByIndex[nextIndex] = 1; // end\n  }\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = -1;\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0] + 1,\n        ringEnd = ring[1];\n    previousIndex = indexes[ringEnd - 1];\n    currentIndex = indexes[ringStart - 1];\n    nextIndex = indexes[ringStart];\n    sequence(i, previousIndex, currentIndex, nextIndex);\n    while (++ringStart <= ringEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[ringStart]);\n    }\n  }\n\n  function sequence(i, previousIndex, currentIndex, nextIndex) {\n    if (visitedByIndex[currentIndex] === i) return; // ignore self-intersection\n    visitedByIndex[currentIndex] = i;\n    var leftIndex = leftByIndex[currentIndex];\n    if (leftIndex >= 0) {\n      var rightIndex = rightByIndex[currentIndex];\n      if ((leftIndex !== previousIndex || rightIndex !== nextIndex)\n        && (leftIndex !== nextIndex || rightIndex !== previousIndex)) {\n        ++junctionCount, junctionByIndex[currentIndex] = 1;\n      }\n    } else {\n      leftByIndex[currentIndex] = previousIndex;\n      rightByIndex[currentIndex] = nextIndex;\n    }\n  }\n\n  function index() {\n    var indexByPoint = hashmap(coordinates.length * 1.4, hashIndex, equalIndex, Int32Array, -1, Int32Array),\n        indexes = new Int32Array(coordinates.length);\n\n    for (var i = 0, n = coordinates.length; i < n; ++i) {\n      indexes[i] = indexByPoint.maybeSet(i, i);\n    }\n\n    return indexes;\n  }\n\n  function hashIndex(i) {\n    return hashPoint(coordinates[i]);\n  }\n\n  function equalIndex(i, j) {\n    return equalPoint(coordinates[i], coordinates[j]);\n  }\n\n  visitedByIndex = leftByIndex = rightByIndex = null;\n\n  var junctionByPoint = hashset(junctionCount * 1.4, hashPoint, equalPoint), j;\n\n  // Convert back to a standard hashset by point for caller convenience.\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    if (junctionByIndex[j = indexes[i]]) {\n      junctionByPoint.add(coordinates[j]);\n    }\n  }\n\n  return junctionByPoint;\n}\n","import join from \"./join.js\";\n\n// Given an extracted (pre-)topology, cuts (or rotates) arcs so that all shared\n// point sequences are identified. The topology can then be subsequently deduped\n// to remove exact duplicate arcs.\nexport default function(topology) {\n  var junctions = join(topology),\n      coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      next,\n      i, n;\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineMid = line[0],\n        lineEnd = line[1];\n    while (++lineMid < lineEnd) {\n      if (junctions.has(coordinates[lineMid])) {\n        next = {0: lineMid, 1: line[1]};\n        line[1] = lineMid;\n        line = line.next = next;\n      }\n    }\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0],\n        ringMid = ringStart,\n        ringEnd = ring[1],\n        ringFixed = junctions.has(coordinates[ringStart]);\n    while (++ringMid < ringEnd) {\n      if (junctions.has(coordinates[ringMid])) {\n        if (ringFixed) {\n          next = {0: ringMid, 1: ring[1]};\n          ring[1] = ringMid;\n          ring = ring.next = next;\n        } else { // For the first junction, we can rotate rather than cut.\n          rotateArray(coordinates, ringStart, ringEnd, ringEnd - ringMid);\n          coordinates[ringEnd] = coordinates[ringStart];\n          ringFixed = true;\n          ringMid = ringStart; // restart; we may have skipped junctions\n        }\n      }\n    }\n  }\n\n  return topology;\n}\n\nfunction rotateArray(array, start, end, offset) {\n  reverse(array, start, end);\n  reverse(array, start, start + offset);\n  reverse(array, start + offset, end);\n}\n\nfunction reverse(array, start, end) {\n  for (var mid = start + ((end-- - start) >> 1), t; start < mid; ++start, --end) {\n    t = array[start], array[start] = array[end], array[end] = t;\n  }\n}\n","import hashmap from \"./hash/hashmap.js\";\nimport equalPoint from \"./hash/point-equal.js\";\nimport hashPoint from \"./hash/point-hash.js\";\n\n// Given a cut topology, combines duplicate arcs.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines, line,\n      rings = topology.rings, ring,\n      arcCount = lines.length + rings.length,\n      i, n;\n\n  delete topology.lines;\n  delete topology.rings;\n\n  // Count the number of (non-unique) arcs to initialize the hashmap safely.\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i]; while (line = line.next) ++arcCount;\n  }\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i]; while (ring = ring.next) ++arcCount;\n  }\n\n  var arcsByEnd = hashmap(arcCount * 2 * 1.4, hashPoint, equalPoint),\n      arcs = topology.arcs = [];\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i];\n    do {\n      dedupLine(line);\n    } while (line = line.next);\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i];\n    if (ring.next) { // arc is no longer closed\n      do {\n        dedupLine(ring);\n      } while (ring = ring.next);\n    } else {\n      dedupRing(ring);\n    }\n  }\n\n  function dedupLine(arc) {\n    var startPoint,\n        endPoint,\n        startArcs, startArc,\n        endArcs, endArc,\n        i, n;\n\n    // Does this arc match an existing arc in order?\n    if (startArcs = arcsByEnd.get(startPoint = coordinates[arc[0]])) {\n      for (i = 0, n = startArcs.length; i < n; ++i) {\n        startArc = startArcs[i];\n        if (equalLine(startArc, arc)) {\n          arc[0] = startArc[0];\n          arc[1] = startArc[1];\n          return;\n        }\n      }\n    }\n\n    // Does this arc match an existing arc in reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[1]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (reverseEqualLine(endArc, arc)) {\n          arc[1] = endArc[0];\n          arc[0] = endArc[1];\n          return;\n        }\n      }\n    }\n\n    if (startArcs) startArcs.push(arc); else arcsByEnd.set(startPoint, [arc]);\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function dedupRing(arc) {\n    var endPoint,\n        endArcs,\n        endArc,\n        i, n;\n\n    // Does this arc match an existing line in order, or reverse order?\n    // Rings are closed, so their start point and end point is the same.\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    // Otherwise, does this arc match an existing ring in order, or reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0] + findMinimumOffset(arc)])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function equalLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, ++ib) if (!equalPoint(coordinates[ia], coordinates[ib])) return false;\n    return true;\n  }\n\n  function reverseEqualLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, --jb) if (!equalPoint(coordinates[ia], coordinates[jb])) return false;\n    return true;\n  }\n\n  function equalRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[ib + (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  function reverseEqualRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = n - findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[jb - (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  // Rings are rotated to a consistent, but arbitrary, start point.\n  // This is necessary to detect when a ring and a rotated copy are dupes.\n  function findMinimumOffset(arc) {\n    var start = arc[0],\n        end = arc[1],\n        mid = start,\n        minimum = mid,\n        minimumPoint = coordinates[mid];\n    while (++mid < end) {\n      var point = coordinates[mid];\n      if (point[0] < minimumPoint[0] || point[0] === minimumPoint[0] && point[1] < minimumPoint[1]) {\n        minimum = mid;\n        minimumPoint = point;\n      }\n    }\n    return minimum - start;\n  }\n\n  return topology;\n}\n","// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n","import {hasOwnProperty} from \"./object.js\";\n\n// Extracts the lines and rings from the specified hash of geometry objects.\n//\n// Returns an object with three properties:\n//\n// * coordinates - shared buffer of [x, y] coordinates\n// * lines - lines extracted from the hash, of the form [start, end]\n// * rings - rings extracted from the hash, of the form [start, end]\n//\n// For each ring or line, start and end represent inclusive indexes into the\n// coordinates buffer. For rings (and closed lines), coordinates[start] equals\n// coordinates[end].\n//\n// For each line or polygon geometry in the input hash, including nested\n// geometries as in geometry collections, the `coordinates` array is replaced\n// with an equivalent `arcs` array that, for each line (for line string\n// geometries) or ring (for polygon geometries), points to one of the above\n// lines or rings.\nexport default function(objects) {\n  var index = -1,\n      lines = [],\n      rings = [],\n      coordinates = [];\n\n  function extractGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(extractGeometryType, geometry.type)) extractGeometryType[geometry.type](geometry);\n  }\n\n  var extractGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(extractGeometry); },\n    LineString: function(o) { o.arcs = extractLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(extractLine); },\n    Polygon: function(o) { o.arcs = o.arcs.map(extractRing); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(extractMultiRing); }\n  };\n\n  function extractLine(line) {\n    for (var i = 0, n = line.length; i < n; ++i) coordinates[++index] = line[i];\n    var arc = {0: index - n + 1, 1: index};\n    lines.push(arc);\n    return arc;\n  }\n\n  function extractRing(ring) {\n    for (var i = 0, n = ring.length; i < n; ++i) coordinates[++index] = ring[i];\n    var arc = {0: index - n + 1, 1: index};\n    rings.push(arc);\n    return arc;\n  }\n\n  function extractMultiRing(rings) {\n    return rings.map(extractRing);\n  }\n\n  for (var key in objects) {\n    extractGeometry(objects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    coordinates: coordinates,\n    lines: lines,\n    rings: rings,\n    objects: objects\n  };\n}\n","// Given a hash of GeoJSON objects, returns a hash of GeoJSON geometry objects.\n// Any null input geometry objects are represented as {type: null} in the output.\n// Any feature.{id,properties,bbox} are transferred to the output geometry object.\n// Each output geometry object is a shallow copy of the input (e.g., properties, coordinates)!\nexport default function(inputs) {\n  var outputs = {}, key;\n  for (key in inputs) outputs[key] = geomifyObject(inputs[key]);\n  return outputs;\n}\n\nfunction geomifyObject(input) {\n  return input == null ? {type: null}\n      : (input.type === \"FeatureCollection\" ? geomifyFeatureCollection\n      : input.type === \"Feature\" ? geomifyFeature\n      : geomifyGeometry)(input);\n}\n\nfunction geomifyFeatureCollection(input) {\n  var output = {type: \"GeometryCollection\", geometries: input.features.map(geomifyFeature)};\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nfunction geomifyFeature(input) {\n  var output = geomifyGeometry(input.geometry), key; // eslint-disable-line no-unused-vars\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  for (key in input.properties) { output.properties = input.properties; break; }\n  return output;\n}\n\nfunction geomifyGeometry(input) {\n  if (input == null) return {type: null};\n  var output = input.type === \"GeometryCollection\" ? {type: \"GeometryCollection\", geometries: input.geometries.map(geomifyGeometry)}\n      : input.type === \"Point\" || input.type === \"MultiPoint\" ? {type: input.type, coordinates: input.coordinates}\n      : {type: input.type, arcs: input.coordinates}; // TODO Check for unknown types?\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n","import {hasOwnProperty} from \"./object.js\";\n\nexport default function(objects, bbox, n) {\n  var x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3],\n      kx = x1 - x0 ? (n - 1) / (x1 - x0) : 1,\n      ky = y1 - y0 ? (n - 1) / (y1 - y0) : 1;\n\n  function quantizePoint(input) {\n    return [Math.round((input[0] - x0) * kx), Math.round((input[1] - y0) * ky)];\n  }\n\n  function quantizePoints(input, m) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        pi,\n        px,\n        py,\n        x,\n        y;\n\n    while (++i < n) {\n      pi = input[i];\n      x = Math.round((pi[0] - x0) * kx);\n      y = Math.round((pi[1] - y0) * ky);\n      if (x !== px || y !== py) output[j++] = [px = x, py = y]; // non-coincident points\n    }\n\n    output.length = j;\n    while (j < m) j = output.push([output[0][0], output[0][1]]);\n    return output;\n  }\n\n  function quantizeLine(input) {\n    return quantizePoints(input, 2);\n  }\n\n  function quantizeRing(input) {\n    return quantizePoints(input, 4);\n  }\n\n  function quantizePolygon(input) {\n    return input.map(quantizeRing);\n  }\n\n  function quantizeGeometry(o) {\n    if (o != null && hasOwnProperty.call(quantizeGeometryType, o.type)) quantizeGeometryType[o.type](o);\n  }\n\n  var quantizeGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(quantizeGeometry); },\n    Point: function(o) { o.coordinates = quantizePoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates = o.coordinates.map(quantizePoint); },\n    LineString: function(o) { o.arcs = quantizeLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(quantizeLine); },\n    Polygon: function(o) { o.arcs = quantizePolygon(o.arcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(quantizePolygon); }\n  };\n\n  for (var key in objects) {\n    quantizeGeometry(objects[key]);\n  }\n\n  return {\n    scale: [1 / kx, 1 / ky],\n    translate: [x0, y0]\n  };\n}\n","import bounds from \"./bounds.js\";\nimport cut from \"./cut.js\";\nimport dedup from \"./dedup.js\";\nimport delta from \"./delta.js\";\nimport extract from \"./extract.js\";\nimport geometry from \"./geometry.js\";\nimport hashmap from \"./hash/hashmap.js\";\nimport {hasOwnProperty} from \"./object.js\";\nimport prequantize from \"./prequantize.js\";\n\n// Constructs the TopoJSON Topology for the specified hash of features.\n// Each object in the specified hash must be a GeoJSON object,\n// meaning FeatureCollection, a Feature or a geometry object.\nexport default function(objects, quantization) {\n  var bbox = bounds(objects = geometry(objects)),\n      transform = quantization > 0 && bbox && prequantize(objects, bbox, quantization),\n      topology = dedup(cut(extract(objects))),\n      coordinates = topology.coordinates,\n      indexByArc = hashmap(topology.arcs.length * 1.4, hashArc, equalArc);\n\n  objects = topology.objects; // for garbage collection\n  topology.bbox = bbox;\n  topology.arcs = topology.arcs.map(function(arc, i) {\n    indexByArc.set(arc, i);\n    return coordinates.slice(arc[0], arc[1] + 1);\n  });\n\n  delete topology.coordinates;\n  coordinates = null;\n\n  function indexGeometry(geometry) {\n    if (geometry && hasOwnProperty.call(indexGeometryType, geometry.type)) indexGeometryType[geometry.type](geometry);\n  }\n\n  var indexGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(indexGeometry); },\n    LineString: function(o) { o.arcs = indexArcs(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    Polygon: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(indexMultiArcs); }\n  };\n\n  function indexArcs(arc) {\n    var indexes = [];\n    do {\n      var index = indexByArc.get(arc);\n      indexes.push(arc[0] < arc[1] ? index : ~index);\n    } while (arc = arc.next);\n    return indexes;\n  }\n\n  function indexMultiArcs(arcs) {\n    return arcs.map(indexArcs);\n  }\n\n  for (var key in objects) {\n    indexGeometry(objects[key]);\n  }\n\n  if (transform) {\n    topology.transform = transform;\n    topology.arcs = delta(topology.arcs);\n  }\n\n  return topology;\n}\n\nfunction hashArc(arc) {\n  var i = arc[0], j = arc[1], t;\n  if (j < i) t = i, i = j, j = t;\n  return i + 31 * j;\n}\n\nfunction equalArc(arcA, arcB) {\n  var ia = arcA[0], ja = arcA[1],\n      ib = arcB[0], jb = arcB[1], t;\n  if (ja < ia) t = ia, ia = ja, ja = t;\n  if (jb < ib) t = ib, ib = jb, jb = t;\n  return ia === ib && ja === jb;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import transform from \"./transform.js\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nexport default function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n}\n\nexport function mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    }).filter(function(arcs) {\n      return arcs.length > 0;\n    })\n  };\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","import bisect from \"./bisect.js\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import bbox from \"./bbox.js\";\nimport untransform from \"./untransform.js\";\n\nexport default function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n}\n","import * as topojsonServer from \"topojson-server\";\nimport * as topojsonClient from \"topojson-client\";\n\n/**\n * Returns a new created instance of Feature combining the given Features.\n * @param features\n */\nexport function joinFeatures(features) {\n  let topology = topojsonServer.topology(features);\n  let objects = extractObjects(topology);\n\n  return {\n    type: \"FeatureCollection\",\n    features: [\n      {\n        type: \"Feature\",\n        geometry: topojsonClient.merge(topology, objects),\n        properties: {\n          code: 1,\n          nom: \"asdf\"\n        }\n      }\n    ]\n  };\n}\n\n/**\n *\n * @param topology\n * @returns {[]}\n */\nexport function extractObjects(topology) {\n  let objects = [];\n  for (const topologyKey in topology.objects) {\n    if (topology.objects.hasOwnProperty(topologyKey)) {\n      objects.push(topology.objects[topologyKey]);\n    }\n  }\n  return objects;\n}\n","import { joinFeatures } from \"./geojson/join.features\";\nimport { lotivis_log } from \"../shared/debug\";\nimport * as topojson from \"topojson-client\";\n\n/**\n *\n * @class MapExteriorBorderRenderer\n */\nexport class MapExteriorBorderRenderer {\n  /**\n   * Creates a new instance of MapExteriorBorderRenderer.\n   * @property mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    // if (!topojson) lotivis_log_once('Can\\'t find topojson lib.  Skip rendering of exterior border.');\n\n    /**\n     * Renders the exterior border of the presented geo json.\n     */\n    this.render = function() {\n      if (!topojson) {\n        lotivis_log(\"[lotivis]  Can't find topojson library.\");\n        return;\n      }\n      let geoJSON = mapChart.geoJSON;\n      if (!geoJSON) {\n        lotivis_log(\"[lotivis]  No GeoJSON to render.\");\n        return;\n      }\n\n      let borders = joinFeatures(geoJSON.features);\n      if (!borders) {\n        return lotivis_log(\"[lotivis]  No borders to render.\");\n      }\n\n      mapChart.svg\n        .selectAll(\"path\")\n        .append(\"path\")\n        .data(borders.features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", mapChart.path)\n        .attr(\"class\", \"ltv-map-chart-exterior-borders\")\n        .raise();\n    };\n  }\n}\n","import { lotivis_log } from \"../shared/debug\";\n\n/**\n * Returns a flat version of the given dataset collection.\n *\n * @param datasets The collection of datasets.\n * @returns {[]} The array containing the flat samples.\n */\nexport function flatDatasets(datasets) {\n  let flatData = [];\n  let datasetsCopy = datasets;\n  for (\n    let datasetIndex = 0;\n    datasetIndex < datasetsCopy.length;\n    datasetIndex++\n  ) {\n    let dataset = datasetsCopy[datasetIndex];\n    let flatDataChunk = flatDataset(dataset);\n    flatData = flatData.concat(flatDataChunk);\n  }\n  return flatData;\n}\n\n/**\n * Returns an array containing the flat samples of the given dataset.\n *\n * @param dataset The dataset with samples.\n * @returns {[]} The array containing the flat samples.\n */\nexport function flatDataset(dataset) {\n  let flatData = [];\n  if (!dataset.data) {\n    lotivis_log(\n      `[lotivis]  INFO Flat samples for dataset without samples requested. Will return an empty array.`,\n      dataset\n    );\n    return flatData;\n  }\n  dataset.data.forEach((item) => {\n    let newItem = {};\n    newItem.dataset = dataset.label;\n    newItem.label = dataset.label;\n    newItem.stack = dataset.stack || dataset.label;\n    newItem.location = item.location;\n    newItem.date = item.date;\n    newItem.dateNumeric = item.dateNumeric;\n    newItem.value = item.value;\n    flatData.push(newItem);\n  });\n  return flatData;\n}\n","import { flatDatasets } from \"./data.flat\";\nimport { toValue } from \"../shared/value\";\n\n/**\n * Returns the set of dataset names from the given dataset collection.\n *\n * @param datasets The collection of datasets.\n * @returns {[]} The array containing the flat samples.\n */\nexport function extractLabelsFromDatasets(datasets) {\n  return toSet(datasets.map((dataset) => toValue(dataset.label)));\n}\n\n/**\n * Returns the set of stacks from the given dataset collection.\n * Will fallback on dataset property if stack property isn't present.\n *\n * @param datasets The collection of datasets.\n * @returns {[]} The array containing the flat samples.\n */\nexport function extractStacksFromDatasets(datasets) {\n  return toSet(\n    datasets.map((dataset) => toValue(dataset.stack || dataset.label))\n  );\n}\n\n/**\n * Returns the set of dates from the given dataset collection.\n *\n * @param datasets The collection of datasets.\n * @returns {[]} The set containing the dates.\n */\nexport function extractDatesFromDatasets(datasets) {\n  return extractDatesFromFlatData(flatDatasets(datasets));\n}\n\n/**\n * Returns the set of locations from the given dataset collection.\n *\n * @param datasets The collection of datasets.\n * @returns {[]} The set containing the locations.\n */\nexport function extractLocationsFromDatasets(datasets) {\n  return extractLocationsFromFlatData(flatDatasets(datasets));\n}\n\n/**\n * Returns the set of dataset names from the given flat samples array.\n *\n * @param flatData The flat samples array.\n * @returns {[]} The array containing the flat samples.\n */\nexport function extractLabelsFromFlatData(flatData) {\n  return toSet(flatData.map((item) => toValue(item.dataset)));\n}\n\n/**\n * Returns the set of stacks from the given flat samples array.\n * Will fallback on dataset property if stack property isn't present.\n *\n * @param flatData The flat samples array.\n * @returns {[]} The array containing the flat samples.\n */\nexport function extractStacksFromFlatData(flatData) {\n  return toSet(flatData.map((item) => toValue(item.stack || item.dataset)));\n}\n\n/**\n * Returns the set of dates from the given dataset collection.\n *\n * @param flatData The flat samples array.\n * @returns {[]} The set containing the dates.\n */\nexport function extractDatesFromFlatData(flatData) {\n  return toSet(flatData.map((item) => toValue(item.date)));\n}\n\n/**\n * Returns the set of locations from the given dataset collection.\n *\n * @param flatData The flat samples array.\n * @returns {[]} The set containing the locations.\n */\nexport function extractLocationsFromFlatData(flatData) {\n  return toSet(flatData.map((item) => toValue(item.location)));\n}\n\n/**\n * Return an array containing each equal item of the given array only once.\n *\n * @param array The array to create a set of.\n * @returns {any[]} The set version of the array.\n */\nfunction toSet(array) {\n  return Array.from(new Set(array));\n}\n\n/**\n * Returns the earliest date.chart occurring in the flat array of items.\n *\n * @param flatData The flat samples array.\n * @param dateAccess\n * @returns {*} The earliest date.chart.\n */\nexport function extractEarliestDate(flatData, dateAccess = (date) => date) {\n  return extractDatesFromFlatData(flatData)\n    .sort((left, right) => dateAccess(left) - dateAccess(right))\n    .shift();\n}\n\n/**\n * Returns the earliest date.chart occurring in the flat array of items.\n *\n * @param flatData The flat samples array.\n * @param dateAccess\n * @returns {*} The earliest date.chart.\n */\nexport function extractEarliestDateWithValue(\n  flatData,\n  dateAccess = (date) => date\n) {\n  return extractEarliestDate(filterWithValue(flatData), dateAccess);\n}\n\n/**\n * Returns the latest date.chart occurring in the flat array of items.\n *\n * @param flatData The flat samples array.\n * @param dateAccess\n * @returns {*} The latest date.chart.\n */\nexport function extractLatestDate(flatData, dateAccess = (date) => date) {\n  return extractDatesFromFlatData(flatData)\n    .sort((left, right) => dateAccess(left) - dateAccess(right))\n    .pop();\n}\n\n/**\n * Returns the latest date.chart occurring in the flat array of items.\n *\n * @param flatData The flat samples array.\n * @param dateAccess\n * @returns {*} The latest date.chart.\n */\nexport function extractLatestDateWithValue(\n  flatData,\n  dateAccess = (date) => date\n) {\n  return extractLatestDate(filterWithValue(flatData), dateAccess);\n}\n\n/**\n * Returns a filtered collection containing all items which have a valid value greater than 0.\n *\n * @param flatData The flat samples to filter.\n * @returns {*} All items with a value greater 0.\n */\nexport function filterWithValue(flatData) {\n  return flatData.filter((item) => (item.value || 0) > 0);\n}\n","import { extractLocationsFromDatasets } from \"../../data.juggle/data.extract\";\n\n/**\n *\n * @param datasets\n * @returns {{features: [], type: string}}\n */\nexport function createGeoJSON(datasets) {\n  let locations = extractLocationsFromDatasets(datasets);\n  let rowsCount = Math.ceil(locations.length / 5);\n  let latSpan = 0.1;\n  let lngSpan = 0.1;\n  let features = [];\n\n  loop1: for (let rowIndex = 0; rowIndex < rowsCount; rowIndex++) {\n    for (let itemIndex = 0; itemIndex < 5; itemIndex++) {\n      if (locations.length === 0) break loop1;\n\n      let location = locations.shift();\n      let lat = (itemIndex + 1) * latSpan;\n      let lng = (rowIndex + 1) * -lngSpan;\n\n      // start down left, counterclockwise\n      let coordinates = [];\n      coordinates.push([lat + latSpan, lng + lngSpan]);\n      coordinates.push([lat + latSpan, lng]);\n      coordinates.push([lat, lng]);\n      coordinates.push([lat, lng + lngSpan]);\n      coordinates.push([lat + latSpan, lng + lngSpan]);\n\n      let feature = {\n        type: \"Feature\",\n        id: location,\n        properties: {\n          id: location,\n          code: location,\n          location: location\n        },\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [coordinates]\n        }\n      };\n\n      features.push(feature);\n    }\n  }\n\n  let geoJSON = {\n    type: \"FeatureCollection\",\n    features: features\n  };\n\n  return geoJSON;\n}\n","import { hashCode } from \"../shared/hash\";\nimport { isValue } from \"../shared/value\";\nimport { LotivisConfig } from \"../shared/config\";\n\n/**\n *\n * @type {{}}\n */\nexport const MapChartConfig = {\n  width: 1000,\n  height: 1000,\n  margin: {\n    top: LotivisConfig.defaultMargin,\n    right: LotivisConfig.defaultMargin,\n    bottom: LotivisConfig.defaultMargin,\n    left: LotivisConfig.defaultMargin\n  },\n  isShowLabels: true,\n  geoJSON: null,\n  departmentsData: [],\n  excludedFeatureCodes: [],\n  drawRectangleAroundSelection: true,\n  sendsNotifications: true,\n  featureIDAccessor: function(feature) {\n    if (feature.id || feature.id === 0) return feature.id;\n    if (feature.properties && isValue(feature.properties.id))\n      return feature.properties.id;\n    if (feature.properties && isValue(feature.properties.code))\n      return Number(feature.properties.code);\n    if (feature.properties) {\n      return hashCode(JSON.stringify(feature.properties));\n    }\n    return hashCode(JSON.stringify(feature));\n  },\n  featureNameAccessor: function(feature) {\n    if (isValue(feature.name)) return feature.name;\n    if (feature.properties && isValue(feature.properties.name))\n      return feature.properties.name;\n    if (feature.properties && isValue(feature.properties.nom))\n      return feature.properties.nom;\n    return LotivisConfig.unknown;\n  }\n};\n","/**\n *\n * @class MapBackgroundRenderer\n */\nexport class MapBackgroundRenderer {\n  /**\n   * Creates a new instance of MapBackgroundRenderer.\n   *\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    function onMouseClick() {\n      let controller = mapChart.datasetController;\n      if (!controller) return;\n\n      let filters = controller.filters.locations;\n      if (!filters || filters.length === 0) return;\n      mapChart.updateSensible = false;\n      controller.resetLocationFilters();\n      mapChart.updateSensible = true;\n\n      mapChart.selectionRenderer.render();\n    }\n\n    /**\n     * Appends a background rectangle.\n     */\n    this.render = function() {\n      // create a background rectangle for receiving mouse enter events\n      // in order to reset the location samples filter.\n      mapChart.svg\n        .append(\"rect\")\n        .attr(\"class\", \"ltv-map-chart-background\")\n        .attr(\"width\", mapChart.config.width)\n        .attr(\"height\", mapChart.config.height)\n        .attr(\"fill\", \"white\")\n        .on(\"click\", onMouseClick);\n    };\n  }\n}\n","/**\n * @class Geometry\n */\nexport class Geometry {\n\n  /**\n   * Creates a new instance of Geometry.\n   * @param source\n   */\n  constructor(source) {\n    this.type = source.type;\n    this.coordinates = source.coordinates;\n  }\n}\n","import {Geometry} from \"./geometry\";\n\n/**\n *\n * @class Feature\n */\nexport class Feature {\n\n  constructor(source) {\n    this.type = source.type;\n    this.properties = source.properties;\n    this.geometry = new Geometry(source.geometry);\n  }\n}\n","import {Feature} from \"./feature\";\nimport {Geometry} from \"./geometry\";\n\n/**\n *\n * @class GeoJson\n */\nexport class GeoJson {\n\n  constructor(source) {\n    this.type = source.type;\n    this.features = [];\n\n    if (source.features) {\n      for (let index = 0; index < source.features.length; index++) {\n        let featureSource = source.features[index];\n        let feature = new Feature(featureSource);\n        this.features.push(feature);\n      }\n    } else {\n      this.properties = source.properties;\n      this.geometry = new Geometry(source.geometry);\n    }\n  }\n\n  getCenter() {\n    let allCoordinates = this.extractAllCoordinates();\n    console.log('allCoordinates.length: ' + allCoordinates.length);\n    let latitudeSum = 0;\n    let longitudeSum = 0;\n\n    allCoordinates.forEach(function (coordinates) {\n      latitudeSum += coordinates[1];\n      longitudeSum += coordinates[0];\n    });\n\n    return [\n      latitudeSum / allCoordinates.length,\n      longitudeSum / allCoordinates.length\n    ];\n  }\n\n  extractGeometryCollection() {\n    let geometryCollection = [];\n    if (this.type === 'Feature') {\n      geometryCollection.push(this.geometry);\n    } else if (this.type === 'FeatureCollection') {\n      this.features.forEach(feature => geometryCollection.push(feature.geometry));\n    } else if (this.type === 'GeometryCollection') {\n      this.geometries.forEach(geometry => geometryCollection.push(geometry));\n    } else {\n      throw new Error('The geoJSON is not valid.');\n    }\n    return geometryCollection;\n  }\n\n  extractAllCoordinates() {\n    let geometryCollection = this.extractGeometryCollection();\n    let coordinatesCollection = [];\n\n    geometryCollection.forEach(item => {\n\n      let coordinates = item.coordinates;\n      let type = item.type;\n\n      if (type === 'Point') {\n        console.log(\"Point: \" + coordinates.length);\n        coordinatesCollection.push(coordinates);\n      } else if (type === 'MultiPoint') {\n        console.log(\"MultiPoint: \" + coordinates.length);\n        coordinates.forEach(coordinate => coordinatesCollection.push(coordinate));\n      } else if (type === 'LineString') {\n        console.log(\"LineString: \" + coordinates.length);\n        coordinates.forEach(coordinate => coordinatesCollection.push(coordinate));\n      } else if (type === 'Polygon') {\n        coordinates.forEach(function (polygonCoordinates) {\n          polygonCoordinates.forEach(function (coordinate) {\n            coordinatesCollection.push(coordinate);\n          });\n        });\n      } else if (type === 'MultiLineString') {\n        coordinates.forEach(function (featureCoordinates) {\n          featureCoordinates.forEach(function (polygonCoordinates) {\n            polygonCoordinates.forEach(function (coordinate) {\n              coordinatesCollection.push(coordinate);\n            });\n          });\n        });\n      } else if (type === 'MultiPolygon') {\n        coordinates.forEach(function (featureCoordinates) {\n          featureCoordinates.forEach(function (polygonCoordinates) {\n            polygonCoordinates.forEach(function (coordinate) {\n              coordinatesCollection.push(coordinate);\n            });\n          });\n        });\n      } else {\n        throw new Error('The geoJSON is not valid.');\n      }\n    });\n\n    return coordinatesCollection;\n  }\n}\n","import { lotivis_log, lotivis_log_once } from \"../shared/debug\";\nimport { joinFeatures } from \"./geojson/join.features\";\n\n/**\n *\n * @class MapSelectionRenderer\n */\nexport class MapSelectionRenderer {\n  /**\n   * Creates a new instance of MapSelectionRenderer.\n   *\n   * @param mapChart The parental map.chart chart.\n   */\n  constructor(mapChart) {\n    /**\n     * Returns the collection of selected features.\n     *\n     * @returns {*[]}\n     */\n    function getSelectedFeatures() {\n      if (!mapChart.geoJSON) {\n        return null;\n      }\n\n      let allFeatures = mapChart.presentedGeoJSON.features;\n\n      if (!mapChart.datasetController) {\n        return null;\n      }\n\n      let filteredLocations = mapChart.datasetController.filters.locations;\n      let selectedFeatures = [];\n\n      for (let index = 0; index < allFeatures.length; index++) {\n        let feature = allFeatures[index];\n        let featureID = feature.lotivisId;\n\n        if (filteredLocations.indexOf(String(featureID)) !== -1) {\n          selectedFeatures.push(feature);\n        }\n      }\n\n      return selectedFeatures;\n    }\n\n    /**\n     * Renders the exterior border of the presented geo json.\n     */\n    this.render = function() {\n      mapChart.selectedFeatures = getSelectedFeatures();\n      mapChart.selectionBorderGeoJSON = joinFeatures(mapChart.selectedFeatures);\n      if (!mapChart.selectionBorderGeoJSON) {\n        return lotivis_log(\"[lotivis]  No selected features to render.\");\n      }\n\n      mapChart.svg.selectAll(\".ltv-map-chart-selection-border\").remove();\n\n      mapChart.svg\n        .selectAll(\".ltv-map-chart-selection-border\")\n        .append(\"path\")\n        .attr(\"class\", \"ltv-map-chart-selection-border\")\n        .data(mapChart.selectionBorderGeoJSON.features)\n        .enter()\n        .append(\"path\")\n        .attr(\"d\", mapChart.path)\n        .attr(\"class\", \"ltv-map-chart-selection-border\")\n        .raise();\n    };\n\n    this.raise = function() {\n      mapChart.svg.selectAll(\".ltv-map-chart-selection-border\").raise();\n    };\n  }\n}\n","import { Chart } from \"../chart/chart\";\nimport { removeFeatures } from \"./geojson/remove.features\";\nimport { MapTooltipRenderer } from \"./map.tooltip.renderer\";\nimport { MapLegendRenderer } from \"./map.legend.renderer\";\nimport { MapLabelRenderer } from \"./map.label.renderer\";\nimport { MapDatasetRenderer } from \"./map.dataset.renderer\";\nimport { MapGeoJSONRenderer } from \"./map.geojson.renderer\";\nimport { MapExteriorBorderRenderer } from \"./map.exterior.border.renderer\";\nimport { createGeoJSON } from \"./geojson/create.geojson\";\nimport { MapChartConfig } from \"./map.chart.config\";\nimport { MapBackgroundRenderer } from \"./map.background.renderer\";\nimport { GeoJson } from \"./geojson/geojson\";\nimport { MapSelectionRenderer } from \"./map.selection.renderer\";\nimport { lotivis_log } from \"../shared/debug\";\nimport * as d3 from \"d3\";\n\n/**\n * A component which renders a GeoJSON with d3.\n * @class MapChart\n * @extends Chart\n */\nexport class MapChart extends Chart {\n  /**\n   * Creates a new instance of MapChart.\n   * @param parent The parental component.\n   * @param config The configuration of the map.chart chart.\n   */\n  constructor(parent, config) {\n    super(parent, config);\n    // empty. constructor defined for documentation.\n  }\n\n  /**\n   * Initialize with default values.\n   */\n  initialize() {\n    let theConfig = this.config;\n    let margin;\n    margin = Object.assign({}, MapChartConfig.margin);\n    margin = Object.assign(margin, theConfig.margin || {});\n\n    let config = Object.assign({}, MapChartConfig);\n    this.config = Object.assign(config, this.config);\n    this.config.margin = margin;\n\n    this.projection = d3.geoMercator();\n    this.path = d3.geoPath().projection(this.projection);\n\n    this.initializeRenderers();\n  }\n\n  initializeRenderers() {\n    this.backgroundRenderer = new MapBackgroundRenderer(this);\n    this.geoJSONRenderer = new MapGeoJSONRenderer(this);\n    this.datasetRenderer = new MapDatasetRenderer(this);\n    this.exteriorBorderRenderer = new MapExteriorBorderRenderer(this);\n    this.labelRenderer = new MapLabelRenderer(this);\n    this.legendRenderer = new MapLegendRenderer(this);\n    this.selectionRenderer = new MapSelectionRenderer(this);\n    this.tooltipRenderer = new MapTooltipRenderer(this);\n  }\n\n  remove() {\n    if (!this.svg) return;\n    this.svg.remove();\n  }\n\n  precalculate() {\n    this.renderSVG();\n    if (!this.datasetController) return;\n    this.dataview = this.datasetController.getLocationDataview();\n    if (this.geoJSON) return;\n    let geoJSON = createGeoJSON(this.datasetController.datasets);\n    this.setGeoJSON(geoJSON);\n  }\n\n  draw() {\n    lotivis_log(\"[lotivis] \", this.constructor.name, \"draw\");\n    if (!this.geoJSON) {\n      return lotivis_log(\"[lotivis]  No GeoJSON to render.\");\n    }\n    this.backgroundRenderer.render();\n    this.exteriorBorderRenderer.render();\n    this.geoJSONRenderer.render();\n    this.legendRenderer.render();\n    this.datasetRenderer.render();\n    this.labelRenderer.render();\n    this.tooltipRenderer.raise();\n    this.selectionRenderer.render();\n  }\n\n  /**\n   *\n   */\n  renderSVG() {\n    this.svg = this.element\n      .append(\"svg\")\n      .classed(\"ltv-chart-svg ltv-map-chart-svg\", true)\n      .attr(\"id\", this.svgSelector)\n      .attr(\"viewBox\", `0 0 ${this.config.width} ${this.config.height}`);\n  }\n\n  /**\n   * Sets the size of the projection to fit the given geo json.\n   * @param geoJSON\n   */\n  zoomTo(geoJSON) {\n    this.projection.fitSize([this.config.width, this.config.height], geoJSON);\n  }\n\n  /**\n   * Tells this map.chart chart that the given feature was selected with the mouse.\n   * @param event The mouse event.\n   * @param feature The feature.\n   */\n  onSelectFeature(event, feature) {}\n\n  /**\n   * Sets the presented geo json.\n   * @param newGeoJSON\n   */\n  setGeoJSON(newGeoJSON) {\n    if (typeof newGeoJSON === \"object\" && newGeoJSON.prototype === \"GeoJSON\") {\n      this.geoJSON = newGeoJSON;\n    } else {\n      this.geoJSON = new GeoJson(newGeoJSON);\n    }\n    this.presentedGeoJSON = this.geoJSON;\n    this.geoJSONDidChange();\n  }\n\n  /**\n   * Tells the receiving map.chart chart that its `geoJSON` property did change.\n   */\n  geoJSONDidChange() {\n    if (!this.geoJSON) return;\n    // precalculate the center of each feature\n    this.geoJSON.features.forEach(\n      feature => (feature.center = d3.geoCentroid(feature))\n    );\n\n    if (this.config.excludedFeatureCodes) {\n      this.presentedGeoJSON = removeFeatures(\n        this.geoJSON,\n        this.config.excludedFeatureCodes\n      );\n    }\n\n    // precalculate lotivis feature ids\n\n    let feature;\n    for (let i = 0; i < this.presentedGeoJSON.features.length; i++) {\n      feature = this.presentedGeoJSON.features[i];\n      this.presentedGeoJSON.features[\n        i\n      ].lotivisId = this.config.featureIDAccessor(feature);\n    }\n\n    this.zoomTo(this.geoJSON);\n    this.draw();\n\n    // this.backgroundRenderer.render();\n    // this.exteriorBorderRenderer.render();\n    // this.geoJSONRenderer.render();\n  }\n}\n","import { Checkbox } from \"../shared.components/checkbox\";\nimport { UrlParameters } from \"../shared/url.parameters\";\nimport { SettingsPopup } from \"../shared.components/settings.popup\";\n\n/**\n * A popup presenting a settings panel for a map.chart chart.\n *\n * @class MapChartSettingsPopup\n * @extends SettingsPopup\n */\nexport class MapChartSettingsPopup extends SettingsPopup {\n  /**\n   * Injects the elements of the settings panel.\n   * @override\n   */\n  inject() {\n    super.inject();\n    let container = this.row.append(\"div\").classed(\"col-12\", true);\n    this.showLabelsCheckbox = new Checkbox(container);\n    this.showLabelsCheckbox.setText(\"Labels\");\n    this.showLabelsCheckbox.onClick = function(checked) {\n      this.mapChart.config.showLabels = checked;\n      this.mapChart.update();\n      UrlParameters.getInstance().setWithoutDeleting(\n        \"map-chart-show-labels\",\n        checked\n      );\n    }.bind(this);\n  }\n\n  /**\n   * Tells the popup that it is about to be presented.\n   * @override\n   */\n  willShow() {\n    this.showLabelsCheckbox.setChecked(this.mapChart.config.showLabels);\n    if (!this.mapChart.datasetController) {\n      this.showLabelsCheckbox.disable();\n    }\n  }\n}\n","import { MapChart } from \"../map.chart/map.chart\";\nimport { MapChartSettingsPopup } from \"./map.chart.settings.popup\";\nimport { ChartCard } from \"../shared.components/chart.card\";\nimport { downloadImage } from \"../shared/download\";\nimport { createDownloadFilename } from \"../shared/filename\";\nimport * as d3 from \"d3\";\n\n/**\n * A lotivis card containing a location chart.\n * @class MapChartCard\n * @extends ChartCard\n */\nexport class MapChartCard extends ChartCard {\n  /**\n   * Creates a new instance of MapChartCard.\n   * @param {Component|String} parent The parental component.\n   * @param config The config of the map.chart chart.\n   */\n  constructor(parent, config) {\n    super(parent || \"map-chart-card\", config);\n  }\n\n  /**\n   * Creates and injects the map.chart chart.\n   */\n  injectChart() {\n    this.chartID = this.selector + \"-chart\";\n    this.body.attr(\"id\", this.chartID);\n    this.chart = new MapChart(this.chartID, this.config);\n  }\n\n  /**\n   * Creates and downloads a screenshot from the chart.\n   * @override\n   */\n  screenshotButtonAction() {\n    let filename = \"Unknown\";\n    if (this.chart && this.chart.datasetController) {\n      filename = this.chart.datasetController.getFilename();\n    }\n    let downloadFilename = createDownloadFilename(filename, `map-chart`);\n    downloadImage(this.chart.svgSelector, downloadFilename);\n  }\n\n  /**\n   * Triggered when the more button is pushed.\n   */\n  presentSettingsPopupAction() {\n    let bodyElement = d3.select(\"body\");\n    let button = document.getElementById(this.moreButton.selector);\n    let settingsPopup = new MapChartSettingsPopup(bodyElement);\n    settingsPopup.mapChart = this.chart;\n    settingsPopup.showUnder(button, \"right\");\n  }\n}\n","import { lotivis_log_once } from \"../shared/debug\";\n\n/**\n *\n * @param date\n * @constructor\n */\nexport const DefaultDateAccess = (date) => date;\n\n/**\n *\n * @param dateString\n * @returns {number}\n * @constructor\n */\nexport const FormattedDateAccess = function (dateString) {\n  let value = Date.parse(dateString);\n  if (isNaN(value)) {\n    lotivis_log_once(`Received NaN for date \"${dateString}\"`);\n  }\n  return value;\n};\n\n/**\n *\n * @param dateString\n *\n * @returns {number}\n *\n * @constructor\n */\nexport const DateGermanAssessor = function (dateString) {\n  let saveDateString = String(dateString);\n  let components = saveDateString.split(\".\");\n  let day = components[0];\n  let month = components[1];\n  let year = components[2];\n  let date = new Date(`${year}-${month}-${day}`);\n  return Number(date);\n};\n\n/**\n *\n * @param weekday\n * @returns {number}\n * @constructor\n */\nexport const DateWeekAssessor = function (weekday) {\n  let lowercase = weekday.toLowerCase();\n  switch (lowercase) {\n    case \"sunday\":\n    case \"sun\":\n      return 0;\n    case \"monday\":\n    case \"mon\":\n      return 1;\n    case \"tuesday\":\n    case \"tue\":\n      return 2;\n    case \"wednesday\":\n    case \"wed\":\n      return 3;\n    case \"thursday\":\n    case \"thr\":\n      return 4;\n    case \"friday\":\n    case \"fri\":\n      return 5;\n    case \"saturday\":\n    case \"sat\":\n      return 6;\n    default:\n      return -1;\n  }\n};\n","/**\n * @class DataViewCache\n */\nexport class DataViewCache {\n  /**\n   * Creates a new instance of DataViewCache.\n   */\n  constructor() {\n    let content = {};\n\n    /**\n     * Creates an identifier for a cached data view with the given parameters.\n     * @param type The type of the graph.\n     * @param locationFilters The collection of filtered locations.\n     * @param dateFilters The collection of filtered dates.\n     * @param datasetFilters The collection of filtered datasets.\n     * @returns {*}\n     */\n    function createName(type, locationFilters, dateFilters, datasetFilters) {\n      return type + locationFilters + dateFilters + datasetFilters;\n    }\n\n    /**\n     * Returns the cached data view for the given parameters.\n     * @param type The type of the graph.\n     * @param locationFilters The collection of filtered locations.\n     * @param dateFilters The collection of filtered dates.\n     * @param datasetFilters The collection of filtered datasets.\n     * @returns {*}\n     */\n    this.getDataView = function (\n      type,\n      locationFilters,\n      dateFilters,\n      datasetFilters\n    ) {\n      let name = createName(type, locationFilters, dateFilters, datasetFilters);\n      return content[name];\n    };\n\n    /**\n     * Inserts the given data view into the cache for the given parameters.\n     * @param dataView The data view to cache.\n     * @param type The type of the graph.\n     * @param locationFilters The collection of filtered locations.\n     * @param dateFilters The collection of filtered dates.\n     * @param datasetFilters The collection of filtered datasets.\n     */\n    this.setDataView = function (\n      dataView,\n      type,\n      locationFilters,\n      dateFilters,\n      datasetFilters\n    ) {\n      let name = createName(type, locationFilters, dateFilters, datasetFilters);\n      content[name] = dataView;\n    };\n\n    /**\n     * Invalidates the cache.\n     */\n    this.invalidate = function () {\n      content = {};\n    };\n  }\n}\n","import {\n  combineByDate,\n  combineByLocation,\n  combineByStacks,\n} from \"../data.juggle/data.combine\";\nimport { sumOfDataset, sumOfLabel, sumOfStack } from \"../data.juggle/data.sum\";\nimport { DefaultDateAccess } from \"../data.date.assessor/date.assessor\";\nimport { InvalidFormatError } from \"../data.juggle/data.validate.error\";\nimport { DataViewCache } from \"../dataview/data.view.cache\";\n\n/**\n * Controls a collection of datasets.\n * @class DatasetsController\n */\nexport class DatasetsController {\n  /**\n   * Creates a new instance of DatasetsController\n   * @param datasets The datasets to control.\n   * @param config\n   */\n  constructor(datasets, config) {\n    if (!Array.isArray(datasets)) {\n      throw new InvalidFormatError(`Datasets are not an array.`);\n    }\n    this.initialize(config || {});\n    this.setDatasets(datasets);\n  }\n\n  initialize(config) {\n    this.config = config;\n    this.dateAccess = this.config.dateAccess || DefaultDateAccess;\n    this.filters = {};\n    this.cache = new DataViewCache();\n    if (this.config.filters) {\n      this.filters.locations = this.config.filters.locations || [];\n      this.filters.dates = this.config.filters.dates || [];\n      this.filters.labels = this.config.filters.labels || [];\n    } else {\n      this.filters.locations = [];\n      this.filters.dates = [];\n      this.filters.labels = [];\n    }\n  }\n\n  getFlatDataCombinedStacks() {\n    return combineByStacks(this.flatData);\n  }\n\n  getFlatDataCombinedDates() {\n    return combineByDate(this.flatData);\n  }\n\n  getFlatDataCombinedLocations() {\n    return combineByLocation(this.flatData);\n  }\n\n  getSumOfLabel(label) {\n    return sumOfLabel(this.flatData, label);\n  }\n\n  getSumOfDataset(dataset) {\n    return sumOfDataset(this.flatData, dataset);\n  }\n\n  getSumOfStack(stack) {\n    return sumOfStack(this.flatData, stack);\n  }\n\n  getMax() {\n    return d3.max(this.datasets, function (dataset) {\n      return d3.max(dataset.data, function (item) {\n        return item.value;\n      });\n    });\n  }\n\n  // MARK: - Colors\n\n  getColorForDataset(label) {\n    return this.datasetsColorsController.colorForDataset(label);\n  }\n\n  getColorForStack(stack) {\n    return this.datasetsColorsController.colorForStack(stack);\n  }\n\n  getColorsForStack(stack) {\n    return this.datasetsColorsController.colorsForStack(stack);\n  }\n\n  /**\n   * Returns a string that can be used as filename for downloads.\n   */\n  getFilename() {\n    if (!this.labels) return \"Unknown\";\n    let labels = this.labels.map((label) => label.split(` `).join(`-`));\n    if (labels.length > 10) {\n      labels = labels.splice(0, 10);\n    }\n    return labels.join(\",\");\n  }\n}\n","import { DatasetsController } from \"./datasets.controller\";\n\nDatasetsController.prototype.getCached = function (type) {\n  return this.cache.getDataView(\n    type,\n    this.filters.locations,\n    this.filters.dates,\n    this.filters.labels\n  );\n};\n\nDatasetsController.prototype.setCached = function (dataview, type) {\n  return this.cache.setDataView(\n    dataview,\n    type,\n    this.filters.locations,\n    this.filters.dates,\n    this.filters.labels\n  );\n};\n","import { DatasetsController } from \"../datasets.controller/datasets.controller\";\nimport { copy } from \"../shared/copy\";\nimport {\n  extractDatesFromDatasets,\n  extractEarliestDateWithValue,\n  extractLabelsFromDatasets,\n  extractLatestDateWithValue,\n} from \"../data.juggle/data.extract\";\nimport { combineByDate } from \"../data.juggle/data.combine\";\nimport { sumOfValues } from \"../data.juggle/data.sum\";\nimport { flatDataset } from \"../data.juggle/data.flat\";\nimport \"../datasets.controller/datasets.controller.cache\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @param dataset\n * @param dateAccess\n * @returns {{}}\n */\nfunction createPlotDataset(dataset, dateAccess) {\n  let newDataset = {};\n  let data = copy(dataset.data);\n  let firstDate = extractEarliestDateWithValue(data, dateAccess) || 0;\n  let lastDate = extractLatestDateWithValue(data, dateAccess) || 0;\n  let flatData = flatDataset(dataset);\n\n  newDataset.dataset = dataset.label;\n  newDataset.label = dataset.label;\n  newDataset.stack = dataset.stack;\n  newDataset.firstDate = firstDate;\n  newDataset.lastDate = lastDate;\n  newDataset.sum = sumOfValues(flatData);\n  // newDataset.min = d3.min();\n\n  // dataView.max = d3.max(flatData, function (stack) {\n  //   return d3.max(stack, function (series) {\n  //     return d3.max(series.map(item => item['1']));\n  //   });\n  // });\n\n  newDataset.data = combineByDate(data)\n    .sort((left, right) => left.dateNumeric - right.dateNumeric)\n    .filter((item) => (item.value || 0) > 0);\n\n  return newDataset;\n}\n\n/**\n * Returns a new generated date.chart.plot.chart samples view for the current enabled samples of dataset of this controller.\n */\nDatasetsController.prototype.getPlotDataview = function () {\n  let cachedDataView = this.getCached(\"plot\");\n  if (cachedDataView) {\n    return cachedDataView;\n  }\n\n  let dateAccess = this.dateAccess;\n  let enabledDatasets = this.filteredDatasets();\n  let dataview = { datasets: [] };\n\n  dataview.dates = extractDatesFromDatasets(enabledDatasets).sort();\n  dataview.labels = extractLabelsFromDatasets(enabledDatasets);\n\n  dataview.firstDate = dataview.dates.first();\n  dataview.lastDate = dataview.dates.last();\n\n  enabledDatasets.forEach(function (dataset) {\n    let newDataset = createPlotDataset(dataset, dateAccess);\n    let firstIndex = dataview.dates.indexOf(newDataset.firstDate);\n    let lastIndex = dataview.dates.indexOf(newDataset.lastDate);\n    newDataset.duration = lastIndex - firstIndex;\n    dataview.datasets.push(newDataset);\n  });\n\n  dataview.labelsCount = dataview.datasets.length;\n  dataview.max = d3.max(dataview.datasets, function (dataset) {\n    return d3.max(dataset.data, function (item) {\n      return item.value;\n    });\n  });\n\n  this.setCached(dataview, \"plot\");\n\n  return dataview;\n};\n","import { LotivisConfig } from \"../shared/config\";\n\n/**\n * Enumeration of available style types of a plot chart.\n */\nexport const PlotChartType = {\n  gradient: \"gradient\",\n  fraction: \"fraction\"\n};\n\n/**\n * Enumeration of sorts available in the date.chart.plot.chart chart.\n */\nexport const PlotChartSort = {\n  none: \"none\",\n  alphabetically: \"alphabetically\",\n  duration: \"duration\",\n  intensity: \"intensity\",\n  firstDate: \"firstDate\"\n};\n\n/**\n *\n * @type {{margin: {top: number, left: number, bottom: number, right: number}, highColor: string, showTooltip: boolean, lowColor: string, sort: string, type: string, showLabels: boolean, numberFormat: Intl.NumberFormat, width: number, lineHeight: number, drawGrid: boolean, radius: number, height: number}}\n */\nexport const defaultPlotChartConfig = {\n  width: 1000,\n  height: 600,\n  margin: {\n    top: LotivisConfig.defaultMargin,\n    right: LotivisConfig.defaultMargin,\n    bottom: LotivisConfig.defaultMargin,\n    left: LotivisConfig.defaultMargin\n  },\n  lineHeight: 28,\n  radius: 23,\n  showLabels: true,\n  drawGrid: true,\n  showTooltip: true,\n  sendsNotifications: true,\n  lowColor: \"rgb(184, 233, 148)\",\n  highColor: \"rgb(0, 122, 255)\",\n  sort: PlotChartSort.none,\n  type: PlotChartType.gradient,\n  numberFormat: Intl.NumberFormat(\"de-DE\", {\n    maximumFractionDigits: 3\n  })\n};\n","import * as d3 from \"d3\";\n\n/**\n * Draws the axis on the timm plot chart.\n * @class PlotAxisRenderer\n */\nexport class PlotAxisRenderer {\n  /**\n   * Creates a new instance of PlotAxisRenderer.\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    /**\n     * Appends axis on the top, left and bottom of the date.chart.plot.chart chart.\n     */\n    this.renderAxis = function() {\n      let margin = plotChart.config.margin;\n\n      // top\n      plotChart.svg\n        .append(\"g\")\n        .call(d3.axisTop(plotChart.xChart))\n        .attr(\"transform\", () => `translate(0,${margin.top})`);\n\n      // left\n      plotChart.svg\n        .append(\"g\")\n        .call(d3.axisLeft(plotChart.yChart))\n        .attr(\"transform\", () => `translate(${margin.left},0)`);\n\n      // bottom\n      plotChart.svg\n        .append(\"g\")\n        .call(d3.axisBottom(plotChart.xChart))\n        .attr(\n          \"transform\",\n          () => `translate(0,${plotChart.height - margin.bottom})`\n        );\n    };\n  }\n}\n","import { LotivisConfig } from \"../shared/config\";\n\n/**\n * Appends and updates the tooltip of a date.chart.plot.chart chart.\n * @class PlotTooltipRenderer\n * @see PlotChart\n */\nexport class PlotTooltipRenderer {\n  /**\n   * Creates a new instance of PlotTooltipRenderer.\n   *\n   * @constructor\n   * @param plotChart\n   */\n  constructor(plotChart) {\n    const tooltip = plotChart.element\n      .append(\"div\")\n      .attr(\"class\", \"ltv-tooltip\")\n      .attr(\"rx\", 5) // corner radius\n      .attr(\"ry\", 5)\n      .style(\"opacity\", 0);\n\n    /**\n     * Returns the HTML content for the given dataset.\n     * @param dataset The dataset to represent in HTML.\n     */\n    function getHTMLContentForDataset(dataset) {\n      console.log(\"dataset\", dataset);\n\n      let components = [];\n\n      let sum = dataset.data\n        .map((item) => item.value)\n        .reduce((acc, next) => +acc + +next, 0);\n      let formatted = plotChart.config.numberFormat.format(sum);\n\n      components.push(\"Label: \" + dataset.label);\n      components.push(\"\");\n      components.push(\"Start: \" + dataset.firstDate);\n      components.push(\"End: \" + dataset.lastDate);\n      components.push(\"\");\n      components.push(\"Items: \" + formatted);\n      components.push(\"\");\n\n      let filtered = dataset.data.filter((item) => item.value !== 0);\n      for (let index = 0; index < filtered.length; index++) {\n        let entry = filtered[index];\n        let formatted = plotChart.config.numberFormat.format(entry.value);\n        components.push(`${entry.date}: ${formatted}`);\n      }\n\n      return components.join(\"<br/>\");\n    }\n\n    /**\n     * Returns the pixel position for to tooltip to display it aligned to the left of a bar.\n     * @param dataset The dataset to display the tooltip for.\n     * @param factor The factor of the view box of the SVG.\n     * @param offset The offset of the chart.\n     * @returns {*} The left pixel position for the tooltip.\n     */\n    function getTooltipLeftForDataset(dataset, factor, offset) {\n      let left = plotChart.xChart(dataset.firstDate);\n      left *= factor;\n      left += offset[0];\n      return left;\n    }\n\n    /**\n     * Presents the tooltip for the given dataset.\n     *\n     * @param event The mouse event.\n     * @param dataset The dataset.\n     */\n    this.showTooltip = function (event, dataset) {\n      if (!plotChart.config.showTooltip) return;\n      tooltip.html(getHTMLContentForDataset(dataset));\n\n      // position tooltip\n      let tooltipHeight = Number(tooltip.style(\"height\").replace(\"px\", \"\"));\n      let factor =\n        plotChart.getElementEffectiveSize()[0] / plotChart.config.width;\n      let offset = plotChart.getElementPosition();\n\n      let top = plotChart.yChart(dataset.label) * factor;\n      top += offset[1];\n\n      if (\n        plotChart.yChart(dataset.label) - plotChart.config.margin.top <=\n        plotChart.graphHeight / 2\n      ) {\n        top +=\n          plotChart.config.lineHeight * factor + LotivisConfig.tooltipOffset;\n      } else {\n        top -= tooltipHeight + 20; // subtract padding\n        top -= LotivisConfig.tooltipOffset;\n      }\n\n      let left = getTooltipLeftForDataset(dataset, factor, offset);\n\n      tooltip\n        .style(\"left\", left + \"px\")\n        .style(\"top\", top + \"px\")\n        .style(\"opacity\", 1);\n    };\n\n    /**\n     * Hides the tooltip by setting its opacity to 0.\n     */\n    this.hideTooltip = function () {\n      let controller = plotChart.datasetController;\n      let filters = controller.datasetFilters;\n\n      if (filters && filters.length !== 0) {\n        controller.resetFilters();\n      }\n\n      if (+tooltip.style(\"opacity\") === 0) return;\n      tooltip.style(\"opacity\", 0);\n    };\n  }\n}\n","import { hashCode } from \"../shared/hash\";\n\n/**\n *\n * @class PlotLabelRenderer\n */\nexport class PlotLabelRenderer {\n  /**\n   * Creates a new instance of PlotLabelRenderer.\n   *\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    /**\n     * Draws the labels on the bars on the date.chart.plot.chart chart.\n     */\n    this.renderLabels = function() {\n      if (!plotChart.config.showLabels) return;\n\n      let xBandwidth = plotChart.yChart.bandwidth();\n      let xChart = plotChart.xChart;\n\n      plotChart.labels = plotChart.barsData\n        .append(\"g\")\n        .attr(\"transform\", `translate(0,${xBandwidth / 2 + 4})`)\n        .append(\"text\")\n        .attr(\"class\", \"ltv-plot-label\")\n        .attr(\"id\", d => \"rect-\" + hashCode(d.label))\n        .attr(\"x\", d => xChart(d.firstDate) + xBandwidth / 2)\n        .attr(\"y\", d => plotChart.yChart(d.label))\n        .attr(\n          \"width\",\n          d => xChart(d.lastDate) - xChart(d.firstDate) + xBandwidth\n        )\n        .text(function(dataset) {\n          if (dataset.sum === 0) return;\n          let formatted = plotChart.config.numberFormat.format(dataset.sum);\n          return `${dataset.duration + 1} years, ${formatted} items`;\n        });\n    };\n  }\n}\n","/**\n * Draws a grid on the date.chart.plot.chart chart.\n *\n * @class PlotGridRenderer\n */\nexport class PlotGridRenderer {\n  /**\n   * Creates a new instance of TimePlotGridRenderer.\n   *\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    /**\n     * Adds a grid to the chart.\n     */\n    this.render = function() {\n      if (!plotChart.config.drawGrid) return;\n\n      plotChart.svg\n        .append(\"g\")\n        .attr(\"class\", \"ltv-plot-grid ltv-plot-grid-x\")\n        .attr(\n          \"transform\",\n          \"translate(0,\" +\n            (plotChart.preferredHeight - plotChart.config.margin.bottom) +\n            \")\"\n        )\n        .call(plotChart.xAxisGrid);\n\n      plotChart.svg\n        .append(\"g\")\n        .attr(\"class\", \"ltv-plot-grid ltv-plot-grid-y\")\n        .attr(\"transform\", `translate(${plotChart.config.margin.left},0)`)\n        .call(plotChart.yAxisGrid);\n    };\n  }\n}\n","/**\n * Draws the background of a time plot chart.\n */\nexport class PlotBackgroundRenderer {\n  /**\n   *\n   * @param plotChart\n   */\n  constructor(plotChart) {\n    this.render = function() {\n      plotChart.svg\n        .append(\"rect\")\n        .attr(\"width\", plotChart.width || plotChart.config.width)\n        .attr(\"height\", plotChart.height)\n        .attr(\"class\", `ltv-plot-chart-background`)\n        .on(\"click\", (event, some) => {\n          plotChart.datasetController.resetLabelFilters();\n        });\n    };\n  }\n}\n","import { createIDFromDataset } from \"../shared/selector\";\n\n/**\n * Draws the background / selection bars of a time plot chart.\n *\n * @class PlotChartHoverBarsRenderer\n */\nexport class PlotChartHoverBarsRenderer {\n  /**\n   * Creates a new instance of PlotAxisRenderer.\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    function createID(dataset) {\n      return `ltv-plot-chart-hover-bar-id-${createIDFromDataset(dataset)}`;\n    }\n\n    function hideAll() {\n      plotChart.svg.selectAll(\".ltv-plot-chart-hover-bar\").attr(\"opacity\", 0);\n    }\n\n    /**\n     * To be called when the mouse enters a bar on the date.chart.plot.chart chart.\n     * @param event The mouse event.\n     * @param dataset The represented dataset.\n     */\n    function mouseEnter(event, dataset) {\n      hideAll();\n\n      let id = createID(dataset);\n      plotChart.svg.select(`#${id}`).attr(\"opacity\", 0.3);\n\n      plotChart.tooltipRenderer.showTooltip.bind(plotChart)(event, dataset);\n      // plotChart.onSelectDataset(event, dataset);\n    }\n\n    /**\n     * To be called when the mouse leaves a bar on the date.chart.plot.chart chart.\n     * @param event The mouse event.\n     * @param dataset The represented dataset.\n     */\n    function mouseOut(event, dataset) {\n      hideAll();\n      plotChart.tooltipRenderer.hideTooltip.bind(plotChart)(event, dataset);\n\n      if (event.buttons === 1) {\n        mouseClick(event, dataset);\n      }\n    }\n\n    function mouseClick(event, dataset) {\n      if (plotChart.config.sendsNotifications) {\n        plotChart.makeUpdateInsensible();\n        plotChart.datasetController.toggleDataset(dataset.label);\n        plotChart.makeUpdateSensible();\n      }\n      plotChart.selectionRenderer.update();\n    }\n\n    /**\n     * Draws the bars.\n     */\n    this.render = function () {\n      let datasets = plotChart.dataView.datasets;\n      let graphWidth = plotChart.graphWidth;\n\n      plotChart.backgrounBarsData = plotChart.svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(datasets)\n        .enter();\n\n      plotChart.backgrounBars = plotChart.backgrounBarsData\n        .append(\"rect\")\n        .attr(\"id\", (d) => createID(d))\n        .attr(\"class\", \"ltv-plot-chart-hover-bar\")\n        .attr(`opacity`, 0)\n        .attr(\"x\", plotChart.config.margin.left)\n        .attr(\"y\", (d) => plotChart.yChart(d.label))\n        .attr(\"height\", plotChart.yChart.bandwidth())\n        .attr(\"width\", graphWidth)\n        .on(\"mouseenter\", mouseEnter)\n        .on(\"mouseout\", mouseOut)\n        .on(\"click\", mouseClick);\n    };\n  }\n}\n","import { createIDFromDataset } from \"../shared/selector\";\nimport { flatDatasets } from \"../data.juggle/data.flat\";\nimport { combineByDate } from \"../data.juggle/data.combine\";\nimport { Color } from \"../shared/color\";\n\n/**\n * Draws the bar on the time plot chart.\n * @class PlotBarsFractionsRenderer\n */\nexport class PlotBarsFractionsRenderer {\n  /**\n   * Creates a new instance of PlotAxisRenderer.\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    // constant for the radius of the drawn bars.\n    const radius = 6;\n\n    /**\n     * To be called when the mouse enters a bar on the date.chart.plot.chart chart.\n     * @param event The mouse event.\n     * @param dataset The represented dataset.\n     */\n    function mouseEnter(event, dataset) {\n      // plotChart.tooltipRenderer.showTooltip.bind(plotChart)(event, dataset);\n      // plotChart.onSelectDataset(event, dataset);\n    }\n\n    /**\n     * To be called when the mouse leaves a bar on the date.chart.plot.chart chart.\n     * @param event The mouse event.\n     * @param dataset The represented dataset.\n     */\n    function mouseOut(event, dataset) {\n      // plotChart.tooltipRenderer.hideTooltip.bind(plotChart)(event, dataset);\n    }\n\n    /**\n     * Draws the bars.\n     */\n    this.renderBars = function() {\n      let datasets = plotChart.dataView.datasets;\n      let max = plotChart.dataView.max;\n      let flatData = flatDatasets(datasets);\n      flatData = combineByDate(flatData);\n\n      plotChart.barsData = plotChart.svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(flatData)\n        .enter();\n\n      let colors = Color.mapColors(max);\n\n      plotChart.bars = plotChart.barsData\n        .append(\"rect\")\n        .attr(\"id\", d => `ltv-plot-bar-${createIDFromDataset(d)}`)\n        .attr(\"class\", \"ltv-plot-bar\")\n        .attr(`fill`, d => colors(d.value))\n        .attr(\"rx\", radius)\n        .attr(\"ry\", radius)\n        .attr(\"x\", d => plotChart.xChart(d.date))\n        .attr(\"y\", d => plotChart.yChartPadding(d.label))\n        .attr(\"height\", plotChart.yChartPadding.bandwidth())\n        .attr(\"id\", d => \"rect-\" + createIDFromDataset(d))\n        .on(\"mouseenter\", mouseEnter)\n        .on(\"mouseout\", mouseOut)\n        .attr(\"width\", plotChart.xChart.bandwidth());\n    };\n  }\n}\n","import { Color } from \"../shared/color\";\nimport { createIDFromDataset } from \"../shared/selector\";\n\n/**\n * Calculates and creates the gradients for the bars of a date.chart.plot.chart chart.\n *\n * @class PlotBarsGradientCreator\n */\nexport class PlotBarsGradientCreator {\n  /**\n   * Creates a new instance of PlotBarsGradientCreator.\n   *\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    this.plotChart = plotChart;\n    this.colorGenerator = Color.plotColor(1);\n  }\n\n  /**\n   * Creates the gradient for the bar representing the given dataset.\n   * @param dataset The dataset to represent.\n   */\n  createGradient(dataset) {\n    let max = this.plotChart.dataView.max;\n    let gradient = this.plotChart.definitions\n      .append(\"linearGradient\")\n      .attr(\"id\", \"ltv-plot-gradient-\" + createIDFromDataset(dataset))\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"100%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"0%\");\n\n    let data = dataset.data;\n    let count = data.length;\n    let latestDate = dataset.lastDate;\n    let duration = dataset.duration;\n\n    if (!data || data.length === 0) return;\n\n    if (duration === 0) {\n      let item = data[0];\n      let value = item.value;\n      let opacity = value / max;\n\n      gradient\n        .append(\"stop\")\n        .attr(\"offset\", `100%`)\n        .attr(\"stop-color\", this.colorGenerator(opacity));\n    } else {\n      for (let index = 0; index < count; index++) {\n        let item = data[index];\n        let date = item.date;\n        let opacity = item.value / max;\n\n        let dateDifference = latestDate - date;\n        let value = dateDifference / duration;\n        let datePercentage = (1 - value) * 100;\n\n        gradient\n          .append(\"stop\")\n          .attr(\"offset\", `${datePercentage}%`)\n          .attr(\"stop-color\", this.colorGenerator(opacity));\n      }\n    }\n  }\n}\n","import { PlotBarsGradientCreator } from \"./plot.bars.gradient.creator\";\nimport { createIDFromDataset } from \"../shared/selector\";\n\n/**\n * Draws the bar on the date.chart.plot.chart chart.\n * @class PlotBarsGradientRenderer\n */\nexport class PlotBarsGradientRenderer {\n  /**\n   * Creates a new instance of PlotAxisRenderer.\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    // constant for the radius of the drawn bars.\n    const radius = 6;\n\n    this.gradientCreator = new PlotBarsGradientCreator(plotChart);\n    plotChart.definitions = plotChart.svg.append(\"defs\");\n\n    /**\n     * Draws the bars.\n     */\n    this.renderBars = function() {\n      let datasets = plotChart.dataView.datasets;\n      plotChart.definitions = plotChart.svg.append(\"defs\");\n\n      for (let index = 0; index < datasets.length; index++) {\n        this.gradientCreator.createGradient(datasets[index]);\n      }\n\n      plotChart.barsData = plotChart.svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(datasets)\n        .enter();\n\n      plotChart.bars = plotChart.barsData\n        .append(\"rect\")\n        .attr(\"fill\", d => `url(#ltv-plot-gradient-${createIDFromDataset(d)})`)\n        .attr(\"class\", \"ltv-plot-bar\")\n        .attr(\"rx\", radius)\n        .attr(\"ry\", radius)\n        .attr(\"x\", d =>\n          plotChart.xChart(d.duration < 0 ? d.lastDate : d.firstDate || 0)\n        )\n        .attr(\"y\", d => plotChart.yChartPadding(d.label))\n        .attr(\"height\", plotChart.yChartPadding.bandwidth())\n        .attr(\"id\", d => \"ltv-plot-rect-\" + createIDFromDataset(d))\n        .attr(\n          \"width\",\n          function(data) {\n            if (!data.firstDate || !data.lastDate) return 0;\n            return (\n              plotChart.xChart(data.lastDate) -\n              plotChart.xChart(data.firstDate) +\n              plotChart.xChart.bandwidth()\n            );\n          }.bind(this)\n        );\n    };\n  }\n}\n","import { hashCode } from \"../shared/hash\";\n\n/**\n *\n * @class PlotLabelsFractionsRenderer\n */\nexport class PlotLabelsFractionsRenderer {\n  /**\n   * Creates a new instance of PlotLabelRenderer.\n   *\n   * @constructor\n   * @param plotChart The parental date.chart.plot.chart chart.\n   */\n  constructor(plotChart) {\n    /**\n     * Draws the labels on the bars on the date.chart.plot.chart chart.\n     */\n    this.renderLabels = function() {\n      if (!plotChart.config.showLabels) return;\n\n      let xBandwidth = plotChart.yChart.bandwidth();\n\n      plotChart.labels = plotChart.barsData\n        .append(\"g\")\n        .attr(\"transform\", `translate(0,${xBandwidth / 2 + 4})`)\n        .append(\"text\")\n        .attr(\"class\", \"ltv-plot-label\")\n        .attr(\"id\", d => \"rect-\" + hashCode(d.label))\n        .attr(\"x\", d => plotChart.xChart(d.date) + 4)\n        .attr(\"y\", d => plotChart.yChart(d.label))\n        .text(function(dataset) {\n          if (dataset.sum === 0) return;\n          let formatted = plotChart.config.numberFormat.format(dataset.value);\n          return `${formatted}`;\n        });\n    };\n  }\n}\n","import { createIDFromDataset } from \"../shared/selector\";\n\n/**\n * Draws the selection rectangles of a plot chart.\n *\n * @class PlotChartSelectionRenderer\n */\nexport class PlotChartSelectionRenderer {\n  /**\n   * Creates a new instance of PlotChartSelectionRenderer.\n   *\n   * @constructor\n   * @param plotChart The parental plot chart.\n   */\n  constructor(plotChart) {\n    function createID(dataset) {\n      return `ltv-plot-chart-selection-rect-id-${createIDFromDataset(dataset)}`;\n    }\n\n    function hideAll() {\n      plotChart.svg\n        .selectAll(`.ltv-plot-chart-selection-rect`)\n        .attr(\"opacity\", 0);\n    }\n\n    /**\n     * Draws the bars.\n     */\n    this.render = function() {\n      let datasets = plotChart.dataView.datasets;\n      let graphWidth = plotChart.graphWidth;\n\n      plotChart.selectionBarsData = plotChart.svg\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(datasets)\n        .enter();\n\n      plotChart.selectionBars = plotChart.selectionBarsData\n        .append(\"rect\")\n        .attr(\"id\", d => createID(d))\n        .attr(\"class\", \"ltv-plot-chart-selection-rect\")\n        .attr(`opacity`, 0)\n        .attr(\"x\", plotChart.config.margin.left)\n        .attr(\"y\", d => plotChart.yChart(d.label))\n        .attr(\"height\", plotChart.yChart.bandwidth())\n        .attr(\"width\", graphWidth);\n    };\n\n    this.update = function() {\n      let selectedLabels = getSelectedLabels();\n      plotChart.svg\n        .selectAll(`.ltv-plot-chart-selection-rect`)\n        .attr(`opacity`, dataset =>\n          selectedLabels.includes(dataset.label) ? 0.3 : 0\n        );\n      console.log(\"selectedLabels\", selectedLabels);\n    };\n\n    function getSelectedLabels() {\n      console.log(\n        \"plotChart.datasetController.filters\",\n        plotChart.datasetController.filters\n      );\n      return plotChart.datasetController.filters.labels || [];\n    }\n  }\n}\n","import { Chart } from \"../chart/chart\";\nimport \"../dataview/dataview.plot\";\nimport {\n  defaultPlotChartConfig,\n  PlotChartSort,\n  PlotChartType\n} from \"./plot.chart.config\";\nimport { PlotAxisRenderer } from \"./plot.axis.renderer\";\nimport { PlotTooltipRenderer } from \"./plot.tooltip.renderer\";\nimport { PlotLabelRenderer } from \"./plot.label.renderer\";\nimport { PlotGridRenderer } from \"./plot.grid.renderer\";\nimport { PlotBackgroundRenderer } from \"./plot.background.renderer\";\nimport { PlotChartHoverBarsRenderer } from \"./plot.chart.hover.bars.renderer\";\nimport { PlotBarsFractionsRenderer } from \"./plot.bars.fractions.renderer\";\nimport { PlotBarsGradientRenderer } from \"./plot.bars.gradient.renderer\";\nimport { PlotLabelsFractionsRenderer } from \"./plot.labels.fractions.renderer\";\nimport { PlotChartSelectionRenderer } from \"./plot.chart.selection.renderer\";\nimport * as d3 from \"d3\";\n\n/**\n * A lotivis date.chart.plot.chart chart.\n *\n * @class PlotChart\n * @extends Chart\n */\nexport class PlotChart extends Chart {\n  /**\n   * Initializes this diachronic chart by setting the default values.\n   */\n  initialize() {\n    let theConfig = this.config;\n    let margin;\n    margin = Object.assign({}, defaultPlotChartConfig.margin);\n    margin = Object.assign(margin, this.config.margin);\n\n    let config = Object.assign({}, defaultPlotChartConfig);\n    this.config = Object.assign(config, this.config);\n    this.config.margin = margin;\n\n    this.createSVG();\n    this.backgroundRenderer = new PlotBackgroundRenderer(this);\n    this.axisRenderer = new PlotAxisRenderer(this);\n    this.gridRenderer = new PlotGridRenderer(this);\n    this.selectionRenderer = new PlotChartSelectionRenderer(this);\n    this.hoverBarsRenderer = new PlotChartHoverBarsRenderer(this);\n\n    this.barsFractionsRenderer = new PlotBarsFractionsRenderer(this);\n    this.barsRenderer = new PlotBarsGradientRenderer(this);\n\n    this.labelsRenderer = new PlotLabelRenderer(this);\n    this.labelsFractionRenderer = new PlotLabelsFractionsRenderer(this);\n\n    this.tooltipRenderer = new PlotTooltipRenderer(this);\n  }\n\n  /**\n   * Appends the svg element to the parental element.\n   */\n  createSVG() {\n    this.svg = this.element\n      .append(\"svg\")\n      .attr(\"id\", this.svgSelector)\n      .attr(\"class\", \"ltv-chart-svg ltv-plot-chart-svg\")\n      .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n      .attr(\"viewBox\", `0 0 ${this.config.width} ${this.config.height}`);\n  }\n\n  /**\n   * Removes any (old) components from the svg.\n   */\n  remove() {\n    this.svg.selectAll(\"*\").remove();\n  }\n\n  /**\n   *\n   */\n  precalculate() {\n    if (this.datasetController) {\n      this.dataView = this.datasetController.getPlotDataview();\n    } else {\n      this.dataView = { datasets: [], barsCount: 0 };\n    }\n\n    this.sortDatasets();\n\n    let margin = this.config.margin;\n    let barsCount = this.dataView.labelsCount || 0;\n\n    this.graphWidth = this.config.width - margin.left - margin.right;\n    this.graphHeight = barsCount * this.config.lineHeight;\n    this.height = this.graphHeight + margin.top + margin.bottom;\n    this.preferredHeight = this.height;\n\n    this.svg.attr(\n      \"viewBox\",\n      `0 0 ${this.config.width} ${this.preferredHeight}`\n    );\n\n    this.createScales();\n  }\n\n  /**\n   * Creates and renders the chart.\n   */\n  draw() {\n    this.backgroundRenderer.render();\n    this.gridRenderer.render();\n    this.axisRenderer.renderAxis();\n    this.selectionRenderer.render();\n    this.hoverBarsRenderer.render();\n    if (this.config.type === PlotChartType.gradient) {\n      this.barsRenderer.renderBars();\n      this.labelsRenderer.renderLabels();\n    } else {\n      this.barsFractionsRenderer.renderBars();\n      this.labelsFractionRenderer.renderLabels();\n    }\n  }\n\n  /**\n   * Updates the date.chart.plot.chart chart.\n   */\n  update(controller, reason) {\n    if (!this.updateSensible) return;\n    if (reason === \"dates-filter\") return;\n    this.remove();\n    this.precalculate();\n    this.draw();\n  }\n\n  /**\n   * Creates scales which are used to calculate the x and y positions of bars or circles.\n   */\n  createScales() {\n    this.xChart = d3\n      .scaleBand()\n      .domain(this.dataView.dates || [])\n      .rangeRound([\n        this.config.margin.left,\n        this.config.width - this.config.margin.right\n      ])\n      .paddingInner(0.1);\n\n    this.yChartPadding = d3\n      .scaleBand()\n      .domain(this.dataView.labels || [])\n      .rangeRound([\n        this.height - this.config.margin.bottom,\n        this.config.margin.top\n      ])\n      .paddingInner(0.1);\n\n    this.yChart = d3\n      .scaleBand()\n      .domain(this.dataView.labels || [])\n      .rangeRound([\n        this.height - this.config.margin.bottom,\n        this.config.margin.top\n      ]);\n\n    this.xAxisGrid = d3\n      .axisBottom(this.xChart)\n      .tickSize(-this.graphHeight)\n      .tickFormat(\"\");\n\n    this.yAxisGrid = d3\n      .axisLeft(this.yChart)\n      .tickSize(-this.graphWidth)\n      .tickFormat(\"\");\n  }\n\n  /**\n   *\n   * @param event\n   * @param dataset\n   */\n  onSelectDataset(event, dataset) {\n    if (!dataset || !dataset.label) return;\n    let label = dataset.label;\n    if (this.datasetController.listeners.length === 1) return;\n    this.updateSensible = false;\n    this.datasetController.setDatasetsFilter([label]);\n    this.updateSensible = true;\n  }\n\n  sortDatasets() {\n    let datasets = this.dataView.datasets;\n    let sortedDatasets = [];\n    switch (this.config.sort) {\n      case PlotChartSort.alphabetically:\n        sortedDatasets = datasets.sort((set1, set2) => set1.label > set2.label);\n        break;\n      case PlotChartSort.duration:\n        sortedDatasets = datasets.sort(\n          (set1, set2) => set1.duration < set2.duration\n        );\n        break;\n      case PlotChartSort.intensity:\n        sortedDatasets = datasets.sort((set1, set2) => set1.sum < set2.sum);\n        break;\n      case PlotChartSort.firstDate:\n        sortedDatasets = datasets.sort(\n          (set1, set2) => set1.firstDate > set2.firstDate\n        );\n        break;\n      default:\n        sortedDatasets = datasets;\n        break;\n    }\n\n    this.dataView.labels = sortedDatasets\n      .map(dataset => String(dataset.label))\n      .reverse();\n    this.dataView.datasetsSorted = this.dataView.labels;\n  }\n}\n","import {Checkbox} from \"../shared.components/checkbox\";\nimport {UrlParameters} from \"../shared/url.parameters\";\nimport {Dropdown} from \"../shared.components/dropdown\";\nimport {Option} from \"../shared.components/option\";\nimport {SettingsPopup} from \"../shared.components/settings.popup\";\nimport {PlotChartSort, PlotChartType} from \"../plot.chart/plot.chart.config\";\n\n/**\n *\n * @class PlotChartCardSettingsPopup\n * @extends SettingsPopup\n */\nexport class PlotChartCardSettingsPopup extends SettingsPopup {\n\n  /**\n   * Appends the headline and the content row of the popup.\n   */\n  inject() {\n    super.inject();\n\n    let container = this.row.append('div');\n\n    let showLabelsCheckboxContainer = container.append('div').classed('lotivis-settings-card-row', true);\n    this.showLabelsCheckbox = new Checkbox(showLabelsCheckboxContainer);\n    this.showLabelsCheckbox.setText('Labels');\n    this.showLabelsCheckbox.onClick = function (checked) {\n      this.chart.config.showLabels = checked;\n      this.chart.update();\n      UrlParameters.getInstance().set(UrlParameters.chartShowLabels, checked);\n    }.bind(this);\n\n    let typeDropdownContainer = container.append('div').classed('lotivis-settings-card-row', true);\n    this.typeDropdown = new Dropdown(typeDropdownContainer);\n    this.typeDropdown.setLabelText('Type');\n    this.typeDropdown.setOptions([\n      new Option(PlotChartType.gradient),\n      new Option(PlotChartType.fraction)\n    ]);\n    this.typeDropdown.setOnChange(function (value) {\n      this.chart.config.type = value;\n      this.chart.update();\n    }.bind(this));\n\n    let dropdownContainer = container.append('div').classed('lotivis-settings-card-row', true);\n    this.sortDropdown = new Dropdown(dropdownContainer);\n    this.sortDropdown.setLabelText('Sort');\n    this.sortDropdown.setOptions([\n      new Option(PlotChartSort.alphabetically),\n      new Option(PlotChartSort.duration),\n      new Option(PlotChartSort.intensity),\n      new Option(PlotChartSort.firstDate)\n    ]);\n    this.sortDropdown.setOnChange(function (value) {\n      this.chart.config.sort = value;\n      this.chart.update();\n    }.bind(this));\n  }\n\n  /**\n   * Tells this popup that it is about to be displayed.\n   */\n  willShow() {\n    this.showLabelsCheckbox.setChecked(this.chart.config.showLabels);\n    this.typeDropdown.setSelectedOption(this.chart.config.type);\n    this.sortDropdown.setSelectedOption(this.chart.config.sort);\n  }\n}\n","import { Card } from \"../shared.components/card\";\nimport { UrlParameters } from \"../shared/url.parameters\";\nimport { ChartCard } from \"../shared.components/chart.card\";\nimport { PlotChart } from \"../plot.chart/plot.chart\";\nimport { PlotChartCardSettingsPopup } from \"./plot.chart.card.settings.popup\";\nimport { downloadImage } from \"../shared/download\";\nimport { createDownloadFilename } from \"../shared/filename\";\nimport * as d3 from \"d3\";\n\n/**\n * A card containing a date.chart.plot.chart chart.\n * @class PlotChartCard\n * @extends Card\n */\nexport class PlotChartCard extends ChartCard {\n  /**\n   * Creates a new instance of PlotChartCard.\n   * @param selector The selector\n   * @param config\n   */\n  constructor(selector, config) {\n    let theSelector = selector || \"plot-chart-card\";\n    super(theSelector, config);\n    this.applyURLParameters();\n    // this.setTitle('Plot');\n  }\n\n  /**\n   * Injects the time plot chart in the body of the card.\n   */\n  injectChart() {\n    this.chartID = this.selector + \"-chart\";\n    this.body.attr(\"id\", this.chartID);\n    this.chart = new PlotChart(this.chartID, this.config);\n  }\n\n  /**\n   * Applies possible url parameters.\n   */\n  applyURLParameters() {\n    let instance = UrlParameters.getInstance();\n    this.chart.type = instance.getString(UrlParameters.chartType, \"bar\");\n    this.chart.isShowLabels = instance.getBoolean(\n      UrlParameters.chartShowLabels,\n      false\n    );\n    this.chart.isCombineStacks = instance.getBoolean(\n      UrlParameters.chartCombineStacks,\n      false\n    );\n  }\n\n  /**\n   * Presents the settings popup.\n   */\n  presentSettingsPopupAction() {\n    let bodyElement = d3.select(\"body\");\n    let button = document.getElementById(this.moreButton.selector);\n    let settingsPopup = new PlotChartCardSettingsPopup(bodyElement);\n    settingsPopup.chart = this.chart;\n    settingsPopup.showUnder(button, \"right\");\n  }\n\n  /**\n   * Creates and downloads a screenshot from the chart.\n   * @override\n   */\n  screenshotButtonAction() {\n    let filename = this.chart.datasetController.getFilename();\n    let downloadFilename = createDownloadFilename(filename, `plot-chart`);\n    downloadImage(this.chart.svgSelector, downloadFilename);\n  }\n}\n","import {Card} from \"./card\";\nimport {createID} from \"../shared/selector\";\nimport {Button} from \"./button\";\nimport {LotivisError, LotivisUnimplementedMethodError} from \"../data.juggle/data.validate.error\";\n\n/**\n * A lotivis card containing a textarea.\n * @class TextareaCard\n * @extends Card\n */\nexport class TextareaCard extends Card {\n\n  /**\n   * Creates a new instance of TextareaCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent) {\n    super(parent);\n    this.render();\n    this.updateSensible = true;\n\n    if (this.config) {\n      this.textarea.attr('rows', this.config.lines || 25);\n      this.setTitle(this.config.title || this.getClassname());\n    } else {\n      this.textarea.attr('rows', 25);\n      this.setTitle(this.getClassname());\n    }\n  }\n\n  /**\n   * Appends the component to this card.\n   */\n  render() {\n    this.textareaID = createID();\n    this.textarea = this.body\n      .append('textarea')\n      .attr('id', this.textareaID)\n      .attr('name', this.textareaID)\n      .attr('class', 'lotivis-data-textarea')\n      .on('keyup', this.onKeyup.bind(this));\n    this.downloadButton = new Button(this.headerRightComponent);\n    this.downloadButton.setText('Download');\n    this.downloadButton.onClick = function (event) {\n      let content = this.getTextareaContent();\n      this.download(content);\n    }.bind(this);\n  }\n\n  /**\n   * Returns the text of the textarea.\n   * @returns {*} The text of the textarea.\n   */\n  getTextareaContent() {\n    return document.getElementById(this.textareaID).value || \"\";\n  }\n\n  /**\n   * Sets the text of the textarea.\n   * @param newContent The text for the textarea.\n   */\n  setTextareaContent(newContent) {\n    let textarea = document.getElementById(this.textareaID);\n    if (!textarea) return;\n    textarea.value = newContent;\n\n    if (this.config && this.config.updatesHeight !== true) return;\n    if (typeof newContent !== 'string') return;\n    let numberOfRows = newContent.split(`\\n`).length;\n    this.textarea.attr('rows', numberOfRows);\n  }\n\n  /**\n   * Enable the textarea.\n   */\n  enableTextarea() {\n    this.textarea.attr('disabled', null);\n    [this.textarea, this.titleLabel].forEach(item => item.classed('lotivis-disabled', false));\n  }\n\n  /**\n   * Disables the textarea.\n   */\n  disableTextarea() {\n    this.textarea.attr('disabled', '');\n    [this.textarea, this.titleLabel].forEach(item => item.classed('lotivis-disabled', true));\n  }\n\n  /**\n   * Tells this dataset card that a 'keyup'-event occurred in the textarea.\n   * @param event The key event.\n   */\n  onKeyup(event) {\n    throw new LotivisUnimplementedMethodError(`onKeyup(event)`);\n  }\n\n  /**\n   * Initiates a download of the content of the textarea.\n   * @param content The new content of the textarea.\n   */\n  download(content) {\n    throw new LotivisUnimplementedMethodError(`download(content)`);\n  }\n}\n","import { TextareaCard } from \"../shared.components/textarea.card\";\nimport { lotivis_log } from \"../shared/debug\";\nimport { LotivisUnimplementedMethodError } from \"../data.juggle/data.validate.error\";\n\n/**\n *\n * @class UpdatableDataviewCard\n * @extends TextareaCard\n */\nexport class UpdatableDataviewCard extends TextareaCard {\n  /**\n   * Creates a new instance of UpdatableDataviewCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent = {}) {\n    // parent.title = parent.title || 'UpdatableDataviewCard';\n    super(parent);\n    this.updateSensible = true;\n    this.downloadButton.hide();\n  }\n\n  /**\n   * Sets the dataset controller.\n   * @param newDatasetsController\n   */\n  setDatasetsController(newDatasetsController) {\n    this.datasetsController = newDatasetsController;\n    this.datasetsController.addListener(this);\n  }\n\n  /**\n   * Tells thi dataset card that the datasets of the datasets controller has changed.\n   * @param datasetsController The datasets controller.\n   * @param reason The reason of the update.\n   */\n  update(datasetsController, reason) {\n    if (!this.updateSensible) {\n      lotivis_log(`[lotivis]  NOT sensible ${this}. Reason '${reason}'.`);\n      return;\n    } else if (this.config && this.config.updateSensible === false) {\n      lotivis_log(\n        `[lotivis]  NOT sensible (Config) ${this}. Reason '${reason}'.`\n      );\n      return;\n    } else if (!datasetsController) {\n      lotivis_log(`[lotivis]  NO controller ${this}. Reason '${reason}'.`);\n      return;\n    }\n\n    let datasets = datasetsController.datasets;\n    let content = this.datasetsToText(datasetsController, datasets);\n\n    this.setTextareaContent(content);\n    this.cachedDatasets = datasets;\n\n    lotivis_log(`[lotivis]  Update ${this}. Reason '${reason}'.`);\n  }\n\n  /**\n   * Sets the content of the textarea by rendering the given datasets to text.  Subclasses should override.\n   * @param controller The datasets controller.\n   * @param datasets The datasets to render.\n   * @return {*}\n   */\n  datasetsToText(controller, datasets) {\n    throw new LotivisUnimplementedMethodError(`Subclasses should override.`);\n  }\n}\n","import { Component } from \"./component\";\nimport { Button } from \"./button\";\n\n/**\n * A toast in the top of the page.\n *\n * @class Toast\n * @extends Component\n */\nexport class Toast extends Component {\n  /**\n   * Creates a new instance of Toast.\n   * @constructor\n   * @param {Component} parent The parental component.\n   */\n  constructor(parent) {\n    super(parent);\n    this.element = this.parent\n      .append(\"div\")\n      .attr(\"class\", \"lotivis-data-card-status-tooltip\")\n      .style(\"opacity\", 0)\n      .style(\"display\", `none`);\n    this.row = this.element.append(\"div\").attr(\"class\", \"row\");\n    this.leftComponnt = this.row.append(\"div\").attr(\"class\", \"col-6\");\n    this.rightComponent = this.row.append(\"div\").attr(\"class\", \"col-6\");\n    this.hideButton = new Button(this.rightComponent).setText(`Hello`);\n  }\n\n  /**\n   * Shows the toast.\n   * @override\n   */\n  show() {\n    super.show();\n    this.element.style(\"opacity\", 1);\n    return this;\n  }\n\n  /**\n   * Hides the toast.\n   * @override\n   */\n  hide() {\n    super.hide();\n    this.element.style(\"opacity\", 0);\n  }\n\n  /**\n   * Sets the text of the Toast.\n   * @param text The text of the Toast.\n   */\n  setText(text) {\n    this.element.text(text);\n  }\n\n  /**\n   * Sets the text of the status label.  If text is empty the status label will be hide.\n   * @param newStatusMessage The new status message.\n   */\n  setStatusMessage(newStatusMessage) {\n    let saveString = String(newStatusMessage || \"\").trim();\n    this.element.text(saveString);\n    if (saveString) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n}\n","import {\n  InvalidFormatError,\n  MissingPropertyError,\n} from \"./data.validate.error\";\n\n/**\n * Validates the given datasets.\n * @param datasets The datasets to validate.\n * @throws InvalidFormatError\n */\nexport function validateDatasets(datasets) {\n  if (!datasets) {\n    throw new InvalidFormatError(`No dataset given.`);\n  } else if (!Array.isArray(datasets)) {\n    throw new InvalidFormatError(`Expecting array of datasets.`);\n  }\n\n  for (let index = 0; index < datasets.length; index++) {\n    validateDataset(datasets[index]);\n  }\n}\n\n/**\n * Validates the given dataset.\n * @param dataset The dataset to validate.\n * @throws InvalidFormatError\n * @throws MissingPropertyError\n */\nexport function validateDataset(dataset) {\n  if (!dataset) {\n    throw new InvalidFormatError(`No dataset given.`);\n  } else if (!dataset.label) {\n    throw new MissingPropertyError(`Missing label for dataset. ${dataset}`);\n  } else if (!dataset.data) {\n    throw new MissingPropertyError(\n      `Invalid data. Property is not an array. Dataset: ${dataset.label}`\n    );\n  } else if (!Array.isArray(dataset.data)) {\n    throw new InvalidFormatError(\n      `Invalid data. Property is not an array. Dataset: ${dataset.label}`\n    );\n  }\n\n  let data = dataset;\n  for (let index = 0; index < data.length; index++) {\n    validateDataItem(data[index]);\n  }\n}\n\n/**\n * Validates the given datasets.controller item by ensuring it has a valid `date.chart`, `location` and `value` property value.\n * @param item The datasets.controller item to validate.\n * @throws MissingPropertyError\n */\nexport function validateDataItem(item) {\n  if (!item.date) {\n    throw new MissingPropertyError(`Missing date property for item.`, item);\n  } else if (!item.location) {\n    throw new MissingPropertyError(`Missing location property for item.`, item);\n  }\n}\n","import {Toast} from \"../shared.components/toast\";\nimport {validateDatasets} from \"../data.juggle/data.validate\";\nimport {lotivis_log} from \"../shared/debug\";\nimport {objectsEqual} from \"../shared/equal\";\nimport {UpdatableDataviewCard} from \"./updatable.dataview.card\";\nimport {LotivisUnimplementedMethodError} from \"../data.juggle/data.validate.error\";\n\n/**\n *\n * @class EditableDataviewCard\n * @extends UpdatableDataviewCard\n */\nexport class EditableDataviewCard extends UpdatableDataviewCard {\n\n  /**\n   * Creates a new instance of DatasetCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent) {\n    super(parent);\n    this.toast = new Toast(this.parent);\n    this.downloadButton.show();\n  }\n\n  /**\n   * Tells this dataset card that a 'keyup'-event occurred in the textarea.\n   */\n  onKeyup() {\n    this.updateDatasetsOfController.bind(this)(true);\n  }\n\n  /**\n   * Tells\n   * @param notifyController A boolean value indicating whether the datasets controller should be notified about the\n   * update.\n   */\n  updateDatasetsOfController(notifyController = false) {\n\n    let content = this.getTextareaContent();\n    this.toast.setStatusMessage(null);\n\n    try {\n\n      // will throw an error if parsing is not possible\n      let parsedDatasets = this.textToDatasets(content);\n      if (!parsedDatasets) return;\n\n      // will throw an error if parsed datasets aren't valid.\n      validateDatasets(parsedDatasets);\n\n      if (notifyController === true) {\n\n        if (!this.datasetsController) {\n          return lotivis_log(`[lotivis]  No datasets controller.`);\n        }\n\n        if (objectsEqual(this.cachedDatasets, parsedDatasets)) {\n          return lotivis_log(`[lotivis]  No changes in datasets.`);\n        }\n\n        this.cachedDatasets = parsedDatasets;\n        this.updateSensible = false;\n        this.datasetsController.setDatasets(parsedDatasets);\n        this.updateSensible = true;\n      }\n\n    } catch (error) {\n      lotivis_log(`[lotivis]  ERROR: ${error}`);\n      this.toast.setStatusMessage(error);\n    }\n  }\n\n  datasetsToText(datasets) {\n    return new LotivisUnimplementedMethodError('datasetsToText(datasets)');\n  }\n}\n","import {EditableDataviewCard} from \"./editable.dataview.card\";\nimport {downloadJSON} from \"../shared/download\";\nimport {createDownloadFilename} from \"../shared/filename\";\n\n/**\n * A card containing a textarea which contains the JSON text of a dataset collection.\n * @class DatasetsJSONCard\n * @extends EditableDataviewCard\n */\nexport class DatasetsJSONCard extends EditableDataviewCard {\n\n  /**\n   * Creates a new instance of DatasetJSONCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent = 'datasets-json-card') {\n    if (Object.getPrototypeOf(parent) === Object.prototype) {\n      parent.selector = parent.selector || 'datasets-json-card';\n    }\n    super(parent);\n    this.setTitle('Dataset JSON');\n  }\n\n  download(content) {\n    let filename = this.datasetsController.getFilename();\n    let downloadFilename = createDownloadFilename(filename, `datasets`);\n    downloadJSON(content, downloadFilename);\n  }\n\n  textToDatasets(text) {\n    if (text === \"\") return [];\n    return JSON.parse(text.trim());\n  }\n\n  datasetsToText(datasetsController) {\n    return JSON.stringify(datasetsController.datasets, null, 2) || \"\";\n  }\n}\n","/*\nFollowing code from:\nhttps://gist.github.com/Jezternz/c8e9fafc2c114e079829974e3764db75\n\nWe use this function to save parse a CSV file.\n */\n\nexport const csvStringToArray = (strData) => {\n  const objPattern = new RegExp(\n    '(\\\\,|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\\\\,\\\\r\\\\n]*))',\n    \"gi\"\n  );\n  let arrMatches = null,\n    arrData = [[]];\n  while ((arrMatches = objPattern.exec(strData))) {\n    if (arrMatches[1].length && arrMatches[1] !== \",\") arrData.push([]);\n    arrData[arrData.length - 1].push(\n      arrMatches[2]\n        ? arrMatches[2].replace(new RegExp('\"\"', \"g\"), '\"')\n        : arrMatches[3]\n    );\n  }\n  return arrData;\n};\n","/**\n * Returns a new version of the given string by trimming the given char from the beginning and the end of the string.\n * @param string The string to be trimmed.\n * @param character The character to trim.\n * @returns {string} The trimmed version of the string.\n */\nexport function trimByChar(string, character) {\n  const saveString = String(string);\n  const first = [...saveString].findIndex((char) => char !== character);\n  const last = [...saveString]\n    .reverse()\n    .findIndex((char) => char !== character);\n  return saveString.substring(first, saveString.length - last);\n}\n","/**\n * Returns a dataset collection created from the given flat samples collection.\n *\n * @param flatData The flat samples collection.\n * @returns {[]} A collection of datasets.\n */\nexport function createDatasets(flatData) {\n  let datasetsByLabel = {};\n\n  for (let itemIndex = 0; itemIndex < flatData.length; itemIndex++) {\n    let item = flatData[itemIndex];\n    let label = item.dataset || item.label;\n    let dataset = datasetsByLabel[label];\n\n    if (dataset) {\n      dataset.data.push({\n        date: item.date,\n        location: item.location,\n        value: item.value,\n      });\n    } else {\n      datasetsByLabel[label] = {\n        label: label,\n        stack: item.stack,\n        data: [\n          {\n            date: item.date,\n            location: item.location,\n            value: item.value,\n          },\n        ],\n      };\n    }\n  }\n\n  let datasets = [];\n  let labels = Object.getOwnPropertyNames(datasetsByLabel);\n\n  for (let index = 0; index < labels.length; index++) {\n    let label = labels[index];\n    if (label.length === 0) continue;\n    datasets.push(datasetsByLabel[label]);\n  }\n\n  return datasets;\n}\n","import { csvStringToArray } from \"../shared/csv.to.array\";\nimport { trimByChar } from \"../shared/trim\";\nimport { createDatasets } from \"../data.juggle/data.create.datasets\";\nimport { lotivis_log } from \"../shared/debug\";\n\nexport function parseCSV(text) {\n  let flatData = [];\n  let arrays = csvStringToArray(text);\n  let headlines = arrays.shift();\n\n  for (let lineIndex = 0; lineIndex < arrays.length; lineIndex++) {\n    let lineArray = arrays[lineIndex].map((element) =>\n      trimByChar(element, `\"`)\n    );\n\n    if (lineArray.length < 5) {\n      lotivis_log(`Skipping row: ${lineArray}`);\n      continue;\n    }\n\n    flatData.push({\n      label: lineArray[0],\n      stack: lineArray[1],\n      value: +lineArray[2],\n      date: lineArray[3],\n      location: lineArray[4],\n    });\n  }\n\n  let datasets = createDatasets(flatData);\n  datasets.csv = {\n    content: text,\n    headlines: headlines,\n    lines: arrays,\n  };\n\n  return datasets;\n}\n","import {flatDatasets} from \"../data.juggle/data.flat\";\n\n/**\n * Returns the given string with a quotation mark in the left and right.\n *\n * @param aString The string to surround by quotation marks.\n * @returns {string} The string surrounded by quotation marks.\n */\nfunction surroundWithQuotationMarks(aString) {\n  return `\"${aString}\"`;\n}\n\n/**\n * Returns the CSV string of the given datasets.\n *\n * @param datasets The datasets to create the CSV of.\n */\nexport function renderCSV(datasets) {\n  let flatData = flatDatasets(datasets);\n  let headlines = ['label', 'stack', 'value', 'date', 'location'];\n  let csvContent = `${headlines.join(',')}\\n`;\n  for (let index = 0; index < flatData.length; index++) {\n    let data = flatData[index];\n    let components = [];\n    components.push(surroundWithQuotationMarks(data.dataset || 'Unknown'));\n    components.push(surroundWithQuotationMarks(data.stack || ''));\n    components.push(data.value || '0');\n    components.push(surroundWithQuotationMarks(data.date || ''));\n    components.push(surroundWithQuotationMarks(data.location || ''));\n    csvContent += `${components.join(`,`)}\\n`;\n  }\n  return csvContent;\n}\n","import {Card} from \"../shared.components/card\";\nimport {EditableDataviewCard} from \"./editable.dataview.card\";\nimport {parseCSV} from \"../data.parse/parse.csv\";\nimport {renderCSV} from \"../data.render/render.csv\";\nimport {downloadCSV} from \"../shared/download\";\nimport {createDownloadFilename} from \"../shared/filename\";\n\n/**\n * Presents the CSV version of datasets.  The presented CSV can be edited.\n * @class DatasetCSVCard\n * @extends Card\n */\nexport class DatasetCSVCard extends EditableDataviewCard {\n\n  /**\n   * Creates a new instance of DatasetCSVCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent) {\n    super(parent);\n    this.setTitle('Dataset CSV');\n  }\n\n  download(content) {\n    let filename = this.datasetsController.getFilename();\n    let downloadFilename = createDownloadFilename(filename, `datasets`);\n    downloadCSV(content, downloadFilename);\n  }\n\n  textToDatasets(text) {\n    if (text === \"\") return [];\n    return parseCSV(text);\n  }\n\n  datasetsToText(datasetsController) {\n    return renderCSV(datasetsController.datasets);\n  }\n}\n","import { csvStringToArray } from \"../shared/csv.to.array\";\nimport { trimByChar } from \"../shared/trim\";\n\n/**\n * Returns a collection of datasets parsed from the given CSV content.\n * @param text The CSV content.\n * @returns {[]} The parsed datasets.\n */\nexport function parseCSVDate(text) {\n  let arrays = csvStringToArray(text);\n  let datasetLabels = arrays.shift();\n  let dateTitle = datasetLabels.shift();\n  let datasets = [];\n  let minLineLength = datasetLabels.length;\n\n  for (let index = 0; index < datasetLabels.length; index++) {\n    datasets.push({\n      label: datasetLabels[index],\n      data: [],\n    });\n  }\n\n  for (let lineIndex = 0; lineIndex < arrays.length; lineIndex++) {\n    let lineArray = arrays[lineIndex].map((element) =>\n      trimByChar(element, `\"`)\n    );\n    if (lineArray.length < minLineLength) continue;\n\n    let date = lineArray.shift();\n\n    for (let columnIndex = 0; columnIndex < lineArray.length; columnIndex++) {\n      let value = lineArray[columnIndex];\n      datasets[columnIndex].data.push({\n        date: date,\n        value: value,\n      });\n    }\n  }\n\n  datasets.csv = {\n    content: text,\n    headlines: datasetLabels.push(),\n    lines: arrays,\n  };\n\n  return datasets;\n}\n","import {\n  extractDatesFromDatasets,\n  extractLabelsFromDatasets,\n} from \"./data.extract\";\nimport { flatDatasets } from \"./data.flat\";\nimport { combineByDate } from \"./data.combine\";\n\n/**\n *\n * @param datasets\n * @param dateAccess\n * @returns {{date.chart: *}[]}\n */\nexport function dateToItemsRelation(datasets, dateAccess) {\n  let flatData = flatDatasets(datasets);\n  flatData = combineByDate(flatData);\n\n  let listOfDates = extractDatesFromDatasets(datasets);\n  // verbose_log('listOfDates', listOfDates);\n  listOfDates = listOfDates.reverse();\n  // verbose_log('listOfDates', listOfDates);\n  // listOfDates = listOfDates.sort(function (left, right) {\n  //   return dateAccess(left) - dateAccess(right);\n  // });\n\n  let listOfLabels = extractLabelsFromDatasets(datasets);\n\n  return listOfDates.map(function (date) {\n    let datasetDate = { date: date };\n    flatData\n      .filter((item) => item.date === date)\n      .forEach(function (entry) {\n        datasetDate[entry.dataset] = entry.value;\n        datasetDate.total = entry.dateTotal ?? entry.value;\n      });\n\n    // addDataset zero values for empty datasets\n    for (let index = 0; index < listOfLabels.length; index++) {\n      let label = listOfLabels[index];\n      if (!datasetDate[label]) {\n        datasetDate[label] = 0;\n      }\n    }\n\n    return datasetDate;\n  });\n}\n","import { extractLabelsFromDatasets } from \"../data.juggle/data.extract\";\nimport { dateToItemsRelation } from \"../data.juggle/data.relations\";\n\n/**\n *\n * @param datasets\n */\nexport function renderCSVDate(datasets) {\n  let dateRelation = dateToItemsRelation(datasets, date => date);\n  let labels = extractLabelsFromDatasets(datasets);\n  let headlines = [\"date\"];\n\n  for (let labelIndex = 0; labelIndex < labels.length; labelIndex++) {\n    headlines.push(labels[labelIndex]);\n  }\n\n  let csvContent = `${headlines.join(\",\")}\\n`;\n\n  for (let index = 0; index < dateRelation.length; index++) {\n    let dateRow = dateRelation[index];\n    let csvRow = `${dateRow.date}`;\n\n    for (let labelIndex = 0; labelIndex < labels.length; labelIndex++) {\n      let label = labels[labelIndex];\n      csvRow += `,${dateRow[label]}`;\n    }\n\n    csvContent += `${csvRow}\\n`;\n  }\n\n  return csvContent;\n}\n","import {Card} from \"../shared.components/card\";\nimport {EditableDataviewCard} from \"./editable.dataview.card\";\nimport {parseCSVDate} from \"../data.parse/parse.csv.date\";\nimport {renderCSVDate} from \"../data.render/render.csv.date\";\nimport {downloadCSV} from \"../shared/download\";\nimport {createDownloadFilename} from \"../shared/filename\";\n\n/**\n * Presents the CSV version of datasets.  The presented CSV can be edited.\n * @class DatasetCSVDateCard\n * @extends Card\n */\nexport class DatasetCSVDateCard extends EditableDataviewCard {\n\n  /**\n   * Creates a new instance of DatasetCSVCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent) {\n    super(parent);\n    this.setTitle('Dataset CSV');\n  }\n\n  download(content) {\n    let filename = this.datasetsController.getFilename();\n    let downloadFilename = createDownloadFilename(filename, `datasets`);\n    downloadCSV(content, downloadFilename);\n  }\n\n  textToDatasets(text) {\n    if (text === \"\") return [];\n    return parseCSVDate(text);\n  }\n\n  datasetsToText(datasetsController) {\n    return renderCSVDate(datasetsController.datasets);\n  }\n}\n","import {UpdatableDataviewCard} from \"./updatable.dataview.card\";\n\n/**\n * A card containing a textarea which contains the JSON text of a dataset collection.\n * @class DataviewCard\n * @extends UpdatableDataviewCard\n */\nexport class DataViewCard extends UpdatableDataviewCard {\n\n  /**\n   * Creates a new instance of DataviewCard.\n   * @param parent The parental element or a selector (id).\n   */\n  constructor(parent) {\n    super(parent);\n    if (!this.config) this.config = {};\n    this.config.updatesHeight = this.config.updatesHeight || true;\n    this.disableTextarea();\n  }\n\n  datasetsToText(datasets) {\n    if (!this.datasetsController) return \"No datasets controller.\";\n    let dataView = this.getDataview();\n    return JSON.stringify(dataView, null, 2);\n  }\n\n  getDataview() {\n    // empty\n  }\n}\n\nexport class DataViewDateChartCard extends DataViewCard {\n  getTitle() {\n    return 'Dataview Date';\n  }\n\n  getDataview() {\n    return this.datasetsController.getDateDataview();\n  }\n}\n\nexport class DataViewDatePlotChartCard extends DataViewCard {\n  getTitle() {\n    return 'Dataview Plot';\n  }\n\n  getDataview() {\n    return this.datasetsController.getPlotDataview();\n  }\n}\n\nexport class DataViewMapChartCard extends DataViewCard {\n  getTitle() {\n    return 'Dataview Map';\n  }\n\n  getDataview() {\n    return this.datasetsController.getLocationDataview();\n  }\n}\n\nexport class DataViewFlatCard extends DataViewCard {\n  getTitle() {\n    return 'Flat Data';\n  }\n\n  getDataview() {\n    return this.datasetsController.flatData;\n  }\n}\n","import {DataViewCard} from \"./dataview.card\";\n\n/**\n * @class DatasetsControllerCard\n *\n * @extends DataviewCard\n */\nexport class DatasetsControllerCard extends DataViewCard {\n\n  /**\n   * Creates a new instance of DatasetsControllerCard.\n   */\n  constructor(parent) {\n    super(parent);\n  }\n\n  datasetsToText(datasets) {\n    return JSON.stringify({\n      labels: this.datasetsController.labels,\n      stacks: this.datasetsController.stacks,\n      dates: this.datasetsController.dates,\n      locations: this.datasetsController.locations,\n      filters: {\n        locations: this.datasetsController.locationFilters,\n        dates: this.datasetsController.dateFilters,\n        datasets: this.datasetsController.datasetFilters,\n      },\n      selection: {},\n      datasets: this.datasetsController.datasets,\n      flatData: this.datasetsController.flatData,\n      originalDatasets: this.datasetsController.originalDatasets,\n      snapshot: this.datasetsController.snapshot\n    }, null, 2);\n  }\n}\n","import { Chart } from \"./chart\";\nimport { DatasetsController } from \"../datasets.controller/datasets.controller\";\n\n/**\n * Sets a new datasets controller.  The chart is updated automatically.\n * @param newController The new datasets controller.\n */\nChart.prototype.setDatasetsController = function (newController) {\n  if (this.datasetController) this.datasetController.removeListener(this);\n  this.datasetController = newController;\n  this.datasetController.addListener(this);\n  this.update(newController, \"registration\");\n};\n\n/**\n * Sets the datasets of this map.chart chart.\n * @param newDatasets The new dataset.\n */\nChart.prototype.setDatasets = function (newDatasets) {\n  this.setDatasetsController(new DatasetsController(newDatasets));\n};\n\n/**\n * Returns the presented datasets.\n * @returns {[*]} The collection of datasets.\n */\nChart.prototype.getDatasets = function () {\n  if (\n    !this.datasetController ||\n    !Array.isArray(this.datasetController.datasets)\n  )\n    return [];\n  return this.datasetController.datasets;\n};\n","import { DatasetsController } from \"./datasets.controller\";\nimport { lotivis_log } from \"../shared/debug\";\n\n/**\n * Appends the given listener to the collection of listeners.\n *\n * @param listener The listener to addDataset.\n */\nDatasetsController.prototype.addListener = function (listener) {\n  if (!this.listeners) this.listeners = [];\n  if (!listener.update) return lotivis_log(\"Listener unqualified.\");\n  if (this.listeners.includes(listener))\n    return lotivis_log(\n      `[lotivis]  Attempt to add listener twice (${listener}).`\n    );\n  this.listeners.push(listener);\n  listener.update(this, \"registration\");\n};\n\n/**\n * Removes the given listener from the collection of listeners.\n *\n * @param listener The listener to removeDataset.\n */\nDatasetsController.prototype.removeListener = function (listener) {\n  if (!this.listeners) return lotivis_log(\"No listeners property.\");\n  let index = this.listeners.indexOf(listener);\n  if (index === -1) return lotivis_log(`Listener not registered: ${listener}`);\n  this.listeners = this.listeners.splice(index, 1);\n};\n\n/**\n * Notifies all listeners.\n * @param reason The reason to send to the listener.  Default is 'none'.\n */\nDatasetsController.prototype.notifyListeners = function (reason = \"none\") {\n  if (!this.listeners) return;\n  for (let index = 0; index < this.listeners.length; index++) {\n    let listener = this.listeners[index];\n    if (!listener.update) {\n      lotivis_log(\"Listener unqualified.\");\n      continue;\n    }\n    lotivis_log(`listener: ${listener}`);\n    console.timeStamp(\"will update \" + listener);\n    listener.update(this, reason);\n    console.timeStamp(\"did update \" + listener);\n  }\n};\n\n/**\n * Sets this controller to all of the given listeners via the `setDatasetsController` function.\n * @param listeners A collection of listeners.\n */\nDatasetsController.prototype.register = function (listeners) {\n  if (!Array.isArray(listeners)) return;\n  for (let index = 0; index < listeners.length; index++) {\n    let listener = listeners[index];\n    if (!listener.setDatasetsController) continue;\n    listener.setDatasetsController(this);\n  }\n};\n","import { DatasetsController } from \"./datasets.controller\";\nimport { objectsEqual } from \"../shared/equal\";\nimport { lotivis_log } from \"../shared/debug\";\nimport { copy } from \"../shared/copy\";\n\n/**\n * Resets all filters.  Notifies listeners.\n */\nDatasetsController.prototype.resetFilters = function (notifyListeners = true) {\n  this.filters.locations = [];\n  this.filters.dates = [];\n  this.filters.labels = [];\n  this.calculateSnapshot();\n  if (!notifyListeners) return;\n  this.notifyListeners(\"reset-filters\");\n};\n\n/**\n * Resets locations filters.  Notifies listeners.\n */\nDatasetsController.prototype.resetLocationFilters = function (\n  notifyListeners = true\n) {\n  this.filters.locations = [];\n  this.calculateSnapshot();\n  if (!notifyListeners) return;\n  this.notifyListeners(\"reset-location-filters\");\n};\n\n/**\n * Resets date filters.  Notifies listeners.\n */\nDatasetsController.prototype.resetDateFilters = function (\n  notifyListeners = true\n) {\n  this.filters.dates = [];\n  this.calculateSnapshot();\n  if (!notifyListeners) return;\n  this.notifyListeners(\"reset-dates-filters\");\n};\n\n/**\n * Resets label filters.  Notifies listeners.\n */\nDatasetsController.prototype.resetLabelFilters = function (\n  notifyListeners = true\n) {\n  this.filters.labels = [];\n  this.calculateSnapshot();\n  if (!notifyListeners) return;\n  this.notifyListeners(\"reset-label-filters\");\n};\n\n/**\n * Sets the locations filter.  Notifies listeners.\n *\n * @param locations The locations to filter.\n */\nDatasetsController.prototype.setLocationsFilter = function (locations) {\n  let stringVersions = locations\n    .map((location) => String(location))\n    .filter((item) => item.length > 0);\n  if (objectsEqual(this.filters.locations, stringVersions)) {\n    return lotivis_log(`[lotivis]  Location filters not changed.`);\n  }\n  this.filters.locations = stringVersions;\n  this.calculateSnapshot();\n  this.notifyListeners(\"filter-locations\");\n};\n\nDatasetsController.prototype.toggleLocation = function (location) {\n  const index = this.filters.locations.indexOf(location);\n  if (index !== -1) {\n    this.filters.locations.splice(index, 1);\n  } else {\n    this.filters.locations.push(location);\n  }\n  this.calculateSnapshot();\n  this.notifyListeners(\"filter-locations\");\n};\n\n/**\n * Sets the dates filter.  Notifies listeners.\n * @param dates The dates to filter.\n */\nDatasetsController.prototype.setDatesFilter = function (dates) {\n  let stringVersions = dates\n    .map((date) => String(date))\n    .filter((item) => item.length > 0);\n  if (objectsEqual(this.filters.dates, stringVersions))\n    return lotivis_log(`[lotivis]  Date filters not changed.`);\n  this.filters.dates = stringVersions;\n  this.calculateSnapshot();\n  this.notifyListeners(\"filter-dates\");\n  lotivis_log(\"filter-dates:\", this.filters.dates);\n};\n\nDatasetsController.prototype.toggleDate = function (date) {\n  const stringVersion = String(date);\n  const index = this.filters.dates.indexOf(stringVersion);\n  if (index !== -1) {\n    this.filters.dates.splice(index, 1);\n  } else {\n    this.filters.dates.push(stringVersion);\n  }\n  this.calculateSnapshot();\n  this.notifyListeners(\"filter-dates\");\n};\n\n/**\n * Sets the datasets filter.  Notifies listeners.\n *\n * @param datasets The datasets to filter.\n */\nDatasetsController.prototype.setDatasetsFilter = function (datasets) {\n  let stringVersions = datasets\n    .map((dataset) => String(dataset))\n    .filter((item) => item.length > 0);\n  if (objectsEqual(this.filters.labels, stringVersions))\n    return lotivis_log(`[lotivis]  Dataset filters not changed.`);\n  this.filters.labels = stringVersions;\n  this.calculateSnapshot();\n  this.notifyListeners(\"filter-labels\");\n  lotivis_log(\"filter-labels:\", this.filters.labels);\n};\n\n/**\n * Toggles the enabled of the dataset with the given label.\n *\n * @param label The label of the dataset.\n * @param notifyListeners A boolean value indicating whether to notify the listeners.  Default is `true`.\n */\nDatasetsController.prototype.toggleDataset = function (\n  label,\n  notifyListeners = true\n) {\n  let index = this.filters.labels.indexOf(label);\n  if (index !== -1) {\n    this.filters.labels.splice(index, 1);\n  } else {\n    this.filters.labels.push(String(label));\n  }\n\n  if (!notifyListeners) return;\n  this.calculateSnapshot();\n  this.notifyListeners(\"dataset-toggle\");\n};\n\n/**\n * Returns a newly generated collection containing all enabled datasets.\n *\n * @returns {*} The collection of enabled datasets.\n */\nDatasetsController.prototype.filteredDatasets = function () {\n  let filtered = copy(this.datasets);\n\n  if (this.filters.labels && this.filters.labels.length > 0) {\n    let datasetFilters = this.filters.labels;\n    filtered = filtered.filter(function (dataset) {\n      return datasetFilters.includes(String(dataset.label));\n    });\n  }\n\n  if (this.filters.locations && this.filters.locations.length > 0) {\n    let locationFilters = this.filters.locations;\n    filtered = filtered.map(function (dataset) {\n      dataset.data =\n        dataset.data.filter((data) =>\n          locationFilters.includes(String(data.location))\n        ) || [];\n      return dataset;\n    });\n  }\n\n  if (this.filters.dates && this.filters.dates.length > 0) {\n    let dateFilters = this.filters.dates;\n    filtered = filtered.map(function (dataset) {\n      dataset.data =\n        dataset.data.filter((data) =>\n          dateFilters.includes(String(data.date))\n        ) || [];\n      return dataset;\n    });\n  }\n\n  return filtered.filter((dataset) => dataset.data.length > 0);\n};\n","import { Color } from \"../shared/color\";\n\n/**\n *\n * @class DatasetsColorsController\n */\nexport class DatasetsColorsController {\n  /**\n   * Creates a new instance of DatasetsColorsController.\n   * @param workingDatasets\n   * @param stacks\n   */\n  constructor(workingDatasets, stacks) {\n    let datasets = workingDatasets;\n    let labelToColor = {};\n    let stackToColors = {};\n\n    for (let sIndex = 0; sIndex < stacks.length; sIndex++) {\n      let stack = stacks[sIndex];\n\n      // filter datasets for stack\n      let filtered = datasets.filter(function (dataset) {\n        return dataset.label === stack || dataset.stack === stack;\n      });\n\n      let colors = Color.colorsForStack(sIndex, filtered.length);\n      stackToColors[stack] = colors;\n      for (let dIndex = 0; dIndex < filtered.length; dIndex++) {\n        labelToColor[filtered[dIndex].label] = colors[dIndex];\n      }\n    }\n\n    this.colorForDataset = function (label) {\n      return labelToColor[label] || Color.defaultTint;\n    };\n\n    this.colorForStack = function (stack) {\n      return stackToColors[stack][0] || Color.defaultTint;\n    };\n\n    this.colorsForStack = function (stack) {\n      return stackToColors[stack] || [];\n    };\n  }\n}\n","import { DatasetsController } from \"./datasets.controller\";\nimport { flatDatasets } from \"../data.juggle/data.flat\";\nimport {\n  extractDatesFromDatasets,\n  extractDatesFromFlatData,\n  extractLabelsFromDatasets,\n  extractLocationsFromDatasets,\n  extractLocationsFromFlatData,\n  extractStacksFromDatasets,\n} from \"../data.juggle/data.extract\";\nimport { copy } from \"../shared/copy\";\nimport { DatasetsColorsController } from \"./datasets.controller.colors\";\nimport { lotivis_log } from \"../shared/debug\";\n\n/**\n *\n */\nDatasetsController.prototype.calculateSnapshot = function () {\n  this.snapshot = {};\n  this.snapshot.datasets = this.filteredDatasets();\n  this.snapshot.flatData = flatDatasets(this.snapshot.datasets);\n  this.snapshot.labels = extractLabelsFromDatasets(this.snapshot.datasets);\n  this.snapshot.stacks = extractStacksFromDatasets(this.snapshot.datasets);\n  this.snapshot.dates = extractDatesFromFlatData(this.snapshot.datasets).sort(\n    (left, right) => this.dateAccess(left) - this.dateAccess(right)\n  );\n  this.snapshot.locations = extractLocationsFromFlatData(\n    this.snapshot.datasets\n  );\n};\n\n/**\n * Calculates the additional data.\n */\nDatasetsController.prototype.calculateAdditionalData = function () {\n  let dateAccess = this.dateAccess;\n\n  this.datasets = copy(this.datasets).sort(\n    (left, right) => left.label > right.label\n  );\n\n  this.datasets.forEach((dataset) => {\n    dataset.data.forEach((item) => {\n      item.dateNumeric = dateAccess(item.date);\n    });\n    dataset.data = dataset.data.sort(\n      (left, right) => left.dateNumeric - right.dateNumeric\n    );\n  });\n\n  this.flatData = flatDatasets(this.datasets);\n  this.labels = extractLabelsFromDatasets(this.datasets);\n  this.stacks = extractStacksFromDatasets(this.datasets);\n  this.dates = extractDatesFromDatasets(this.datasets).sort(\n    (left, right) => dateAccess(left) - dateAccess(right)\n  );\n\n  this.locations = extractLocationsFromDatasets(this.datasets);\n  this.datasetsColorsController = new DatasetsColorsController(\n    this.datasets,\n    this.stacks\n  );\n};\n\n/**\n * Tells this datasets controller that its datasets did change.\n */\nDatasetsController.prototype.datasetsDidChange = function () {\n  if (!this.datasets || !Array.isArray(this.datasets)) {\n    lotivis_log(\"[lotivis]  No datasets.\");\n    return;\n  }\n\n  this.calculateAdditionalData();\n  this.calculateSnapshot();\n  this.notifyListeners(\"datasets-update\");\n};\n","import { DatasetsController } from \"./datasets.controller\";\nimport { copy } from \"../shared/copy\";\nimport { validateDatasets } from \"../data.juggle/data.validate\";\nimport \"./datasets.controller.snapshot\";\n\n/*\nCRUD:\n- create\n- read\n- update\n- delete\n */\n\n/**\n * Sets the given dataset.\n * @param dataset The new dataset.\n */\nDatasetsController.prototype.setDataset = function (dataset) {\n  this.cache.invalidate();\n  this.setDatasets([dataset]);\n};\n\n/**\n * Updates the datasets of this controller.\n * @param datasets The new datasets.\n */\nDatasetsController.prototype.setDatasets = function (datasets) {\n  this.cache.invalidate();\n  this.originalDatasets = datasets;\n  this.datasets = copy(datasets);\n  validateDatasets(datasets);\n  this.datasetsDidChange();\n};\n\n/**\n * Appends the given dataset to this controller.\n * @param dataset The dataset to append.\n */\nDatasetsController.prototype.addDataset = function (dataset) {\n  this.cache.invalidate();\n  this.addDatasets([dataset]);\n};\n\n/**\n * Appends the given datasets to this controller.\n * @param datasets The collection of datasets to add.\n */\nDatasetsController.prototype.addDatasets = function (datasets) {\n  if (!this.datasets || !Array.isArray(this.datasets)) return;\n  if (!datasets || !Array.isArray(datasets)) return;\n  if (this.datasets.find((dataset) => dataset.label === datasets.label)) {\n    throw new Error(\n      `DatasetsController already contains a dataset with the same label (${datasets.label}).`\n    );\n  }\n  this.cache.invalidate();\n  datasets.forEach((dataset) => this.datasets.push(dataset));\n  this.datasetsDidChange();\n  this.notifyListeners(\"datasets-update\");\n};\n\n/**\n * Removes the dataset with the given label from this controller.  Will do nothing if no dataset\n * with the given label exists.\n *\n * @param label The label of the dataset to remove.\n */\nDatasetsController.prototype.removeDataset = function (label) {\n  this.cache.invalidate();\n  this.removeDatasets([label]);\n};\n\n/**\n * Removes the given datasets from this controller.  Datasets this controller already containing will be ignored.\n * @param labels The collection of labels to remove.\n */\nDatasetsController.prototype.removeDatasets = function (labels) {\n  if (!this.datasets || !Array.isArray(this.datasets)) return;\n  if (!labels || !Array.isArray(labels)) return;\n  this.cache.invalidate();\n  labels.forEach(\n    function (label) {\n      let candidate = this.datasets.find((dataset) => dataset.label === label);\n      if (!candidate) return;\n      let index = this.datasets.indexOf(candidate);\n      if (index < 0) return;\n      this.datasets = this.datasets.splice(index, 1);\n    }.bind(this)\n  );\n  this.datasetsDidChange();\n};\n","import { extractStacksFromDatasets } from \"./data.extract\";\nimport * as d3 from \"d3\";\n\n/**\n *\n * @param datasets\n * @param dateToItemsRelation\n * @returns {*[]}\n */\nexport function createBarStackModel(controller, datasets, dateToItemsRelation) {\n  let listOfStacks = extractStacksFromDatasets(datasets);\n\n  console.log(\"listOfStacks\", listOfStacks);\n  console.log(\"dateToItemsRelation\", dateToItemsRelation);\n\n  return listOfStacks.map(function (stackName) {\n    let datasetsForStack = datasets.filter(function (dataset) {\n      return dataset.stack === stackName || dataset.label === stackName;\n    });\n\n    let candidatesNames = datasetsForStack.map(\n      (stackCandidate) => stackCandidate.label\n    );\n    let candidatesColors = datasetsForStack.map((stackCandidate) =>\n      controller.getColorForDataset(stackCandidate.label)\n    );\n\n    console.log(\"candidatesNames\", candidatesNames);\n\n    let d3Stack = d3\n      .stack()\n      .keys(candidatesNames)\n      .order(d3.stackOrderNone)\n      .offset(d3.stackOffsetNone);\n\n    let series = d3Stack(dateToItemsRelation);\n\n    console.log(\"d3Stack\", typeof series);\n    console.log(\"d3Stack\", Array.isArray(series));\n    console.log(\"d3Stack\", series.length);\n\n    // d3Stack.forEach((entry) => {\n    //   entry.forEach((item, index) => {\n    //     // item.date = dateToItemsRelation[index].date;\n    //     console.log(\"item\", index, item);\n    //   });\n    // });\n\n    let model = {\n      series: series,\n      label: stackName,\n      stack: stackName,\n      colors: candidatesColors,\n    };\n\n    return model;\n  });\n}\n","/**\n * Returns the first item of the array.\n * @returns {*} The first item.\n */\nArray.prototype.first = function () {\n  return this[0];\n};\n\n/**\n * Returns the last item of the array.\n * @returns {*} The last item.\n */\nArray.prototype.last = function () {\n  return this[this.length - 1];\n};\n","import { combineByDate } from \"./data.combine\";\nimport { sumOfValues } from \"./data.sum\";\nimport { copy } from \"../shared/copy\";\nimport \"../shared/extension.array\";\n\n/**\n * Combines each `ratio` entries to one.\n * @param datasets The datasets collection.\n * @param ratio The ratio.\n */\nexport function combineDatasetsByRatio(datasets, ratio) {\n  let copied = copy(datasets);\n  for (let index = 0; index < copied.length; index++) {\n    let dataset = copied[index];\n    let data = dataset.data;\n    dataset.data = combineDataByGroupsize(data, ratio);\n    copied[index] = dataset;\n  }\n  return copied;\n}\n\n/**\n *\n * @param data\n * @param ratio\n */\nexport function combineDataByGroupsize(data, ratio) {\n  if (!data || data.length <= ratio) return data;\n  if (ratio <= 1) return data;\n\n  let combined = combineByDate(copy(data));\n  let newData = [];\n\n  while (combined.length > 0) {\n    let dateGroup = combined.splice(0, ratio);\n    let firstItem = dateGroup.first() || {};\n    let lastItem = dateGroup.last() || {};\n    let item = {};\n    item.dataset = firstItem.dataset;\n    item.label = firstItem.label;\n    item.stack = firstItem.stack;\n    item.date = firstItem.date;\n    item.date = firstItem.date;\n    item.from = firstItem.date;\n    item.till = lastItem.date;\n    item.value = sumOfValues(dateGroup);\n    newData.push(item);\n  }\n\n  return newData;\n}\n","import { DatasetsController } from \"../datasets.controller/datasets.controller\";\nimport { dateToItemsRelation } from \"../data.juggle/data.relations\";\nimport { createBarStackModel } from \"../data.juggle/data.stacks\";\nimport { copy } from \"../shared/copy\";\nimport { combineDatasetsByRatio } from \"../data.juggle/data.combine.ratio\";\nimport { extractDatesFromDatasets } from \"../data.juggle/data.extract\";\nimport \"../datasets.controller/datasets.controller.cache\";\nimport * as d3 from \"d3\";\n\n/**\n * Returns a new generated DateDataview for the current enabled samples of dataset of this controller.\n */\nDatasetsController.prototype.getDateDataview = function (groupSize) {\n  let cachedDataView = this.getCached(\"date\");\n  if (cachedDataView) {\n    return cachedDataView;\n  }\n\n  let dateAccess = this.dateAccess;\n  let datasets = copy(this.datasets);\n  let enabledDatasets = copy(this.filteredDatasets() || datasets);\n  let dataView = {};\n  let saveGroupSize = groupSize || 1;\n\n  dataView.groupSize = saveGroupSize;\n  if (saveGroupSize <= 1) {\n    dataView.datasets = datasets;\n    dataView.enabledDatasets = enabledDatasets;\n  } else {\n    datasets = combineDatasetsByRatio(datasets, saveGroupSize);\n    enabledDatasets = combineDatasetsByRatio(enabledDatasets, saveGroupSize);\n    dataView.datasets = datasets;\n  }\n\n  dataView.dateToItemsRelation = dateToItemsRelation(datasets, dateAccess);\n  dataView.dateToItemsRelationPresented = dateToItemsRelation(\n    enabledDatasets,\n    dateAccess\n  );\n  dataView.datasetStacks = createBarStackModel(\n    this,\n    datasets,\n    dataView.dateToItemsRelation\n  );\n  dataView.datasetStacksPresented = createBarStackModel(\n    this,\n    enabledDatasets,\n    dataView.dateToItemsRelationPresented\n  );\n\n  dataView.max = d3.max(dataView.datasetStacksPresented, function (stack) {\n    return d3.max(stack.series, function (serie) {\n      return d3.max(\n        serie.map((item) => {\n          // console.log(\"item\", item.data);\n          return item[\"1\"];\n        })\n      );\n    });\n  });\n\n  dataView.dates = extractDatesFromDatasets(enabledDatasets);\n  dataView.enabledStacks = this.snapshot.stacks;\n\n  this.setCached(dataView, \"date\");\n\n  return dataView;\n};\n","import { DatasetsController } from \"../datasets.controller/datasets.controller\";\nimport { dateToItemsRelation } from \"../data.juggle/data.relations\";\nimport { createBarStackModel } from \"../data.juggle/data.stacks\";\nimport { copy } from \"../shared/copy\";\nimport { combineDatasetsByRatio } from \"../data.juggle/data.combine.ratio\";\nimport { extractDatesFromDatasets } from \"../data.juggle/data.extract\";\nimport { combine } from \"../data.juggle/data.combine\";\nimport { flatDatasets } from \"../data.juggle/data.flat\";\nimport { createDatasets } from \"../data.juggle/data.create.datasets\";\nimport \"../datasets.controller/datasets.controller.cache\";\nimport * as d3 from \"d3\";\n\n/**\n * Returns a new generated DateDataview for the current enabled samples of dataset of this controller.\n */\nDatasetsController.prototype.getDateDataviewCombinedStacks = function (\n  groupSize\n) {\n  let dateAccess = this.dateAccess;\n  let datasets = copy(this.datasets);\n  let enabledDatasets = copy(this.filteredDatasets() || datasets);\n\n  let dataView = {};\n  let saveGroupSize = groupSize || 1;\n\n  datasets.forEach(function (dataset) {\n    dataset.label = dataset.stack || dataset.label;\n  });\n\n  enabledDatasets.forEach(function (dataset) {\n    dataset.label = dataset.stack || dataset.label;\n  });\n\n  datasets = createDatasets(combine(flatDatasets(datasets)));\n  enabledDatasets = createDatasets(combine(flatDatasets(enabledDatasets)));\n\n  dataView.groupSize = saveGroupSize;\n  if (saveGroupSize <= 1) {\n    dataView.datasets = datasets;\n    dataView.enabledDatasets = enabledDatasets;\n  } else {\n    datasets = combineDatasetsByRatio(datasets, saveGroupSize);\n    enabledDatasets = combineDatasetsByRatio(enabledDatasets, saveGroupSize);\n    dataView.datasets = datasets;\n  }\n\n  dataView.dateToItemsRelation = dateToItemsRelation(datasets, dateAccess);\n  dataView.dateToItemsRelationPresented = dateToItemsRelation(\n    enabledDatasets,\n    dateAccess\n  );\n  dataView.datasetStacks = createBarStackModel(\n    this,\n    datasets,\n    dataView.dateToItemsRelation\n  );\n  dataView.datasetStacksPresented = createBarStackModel(\n    this,\n    enabledDatasets,\n    dataView.dateToItemsRelationPresented\n  );\n\n  dataView.max = d3.max(dataView.datasetStacksPresented, function (stack) {\n    return d3.max(stack.series, function (series) {\n      return d3.max(series.map((item) => item[\"1\"]));\n    });\n  });\n\n  dataView.dates = extractDatesFromDatasets(enabledDatasets);\n  dataView.enabledStacks = this.snapshot.stacks;\n\n  return dataView;\n};\n","import { DatasetsController } from \"../datasets.controller/datasets.controller\";\nimport {\n  combineByLocation,\n  combineByStacks,\n} from \"../data.juggle/data.combine\";\nimport \"../datasets.controller/datasets.controller.cache\";\n\n/**\n * Returns a new generated location data view for the current selected datasets.controller of datasets of this controller.\n *\n * A location dataview has the following form:\n * ```\n * {\n *   stacks: [String],\n *   items: [\n *     {\n *       dataset: String,\n *       stack: String,\n *       location: Any,\n *       value: Number\n *     }\n *   ]\n * }\n * ```\n */\nDatasetsController.prototype.getLocationDataview = function () {\n  let cachedDataView = this.getCached(\"location\");\n  if (cachedDataView) {\n    return cachedDataView;\n  }\n\n  let dataView = {};\n\n  let flatData = this.snapshot.flatData;\n  let combinedByStack = combineByStacks(flatData);\n  let combinedByLocation = combineByLocation(combinedByStack);\n\n  dataView.stacks = this.stacks;\n  dataView.combinedData = combinedByLocation;\n\n  dataView.combinedData.forEach((item) => {\n    item.stack = item.stack || item.label || item.dataset;\n  });\n\n  this.setCached(dataView, \"location\");\n\n  return dataView;\n};\n"],"names":["hashCode","aString","hash","i","chr","length","charCodeAt","createID","uniquePrevious","toSaveID","theID","split","join","createIDFromDataset","dataset","label","camel2title","camelCase","replace","match","toUpperCase","LotivisError","message","name","constructor","Error","LotivisElementNotFoundError","selector","DataValidateError","MissingPropertyError","data","JSON","stringify","InvalidFormatError","LotivisUnimplementedMethodError","functionName","ascending","a","b","NaN","bisector","f","delta","compare1","compare2","d","x","left","lo","hi","mid","right","center","number","numbers","values","valueof","undefined","value","index","ascendingBisect","bisectRight","bisectLeft","bisectCenter","count","array","empty","arrayify","Array","from","reducer","reduce","cross","pop","map","lengths","j","fill","product","some","push","cumsum","sum","Float64Array","v","descending","variance","mean","deviation","Math","sqrt","extent","min","max","Adder","_partials","_n","add","p","y","abs","valueOf","n","fsum","adder","fcumsum","InternMap","Map","entries","key","keyof","Object","defineProperties","_intern","_key","set","get","intern_get","has","intern_set","delete","intern_delete","InternSet","Set","identity","group","keys","nest","groups","flatten","flatMap","g","flatGroup","flatRollup","rollups","rollup","unique","indexes","regroup","permute","source","sort","F","Symbol","iterator","TypeError","Uint32Array","c","ascendingDefined","compareDefined","compare","groupSort","ak","av","bk","bv","prototype","slice","constant","e10","e5","e2","ticks","start","stop","reverse","step","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","step1","nice","prestep","ceil","thresholdSturges","LN2","bin","domain","threshold","sturges","histogram","isArray","xz","x0","x1","tz","tn","m","shift","bins","bisect","_","arguments","thresholds","call","quickselect","k","z","s","exp","sd","newLeft","newRight","t","swap","quantile","i0","value0","subarray","value1","quantileSorted","thresholdFreedmanDiaconis","thresholdScott","maxIndex","median","arrays","merge","minIndex","mode","counts","modeValue","modeCount","pairs","pairof","pair","previous","first","range","rank","V","R","compareIndex","r","forEach","least","defined","minValue","element","leastIndex","greatest","maxValue","greatestIndex","scan","shuffler","random","shuffle","i1","transpose","matrix","row","zip","every","test","filter","mapper","done","next","difference","others","other","disjoint","is","intersection","out","superset","o","io","intern","ivalue","subset","union","top","bottom","epsilon","translateX","translateY","scale","offset","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","window","devicePixelRatio","transform","context","apply","format","spacing","range0","range1","position","copy","selection","path","selectAll","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","insert","transition","getAttribute","parentNode","remove","each","tickSize","axisTop","axisRight","axisBottom","axisLeft","noop","dispatch","Dispatch","parseTypenames","typenames","types","trim","indexOf","hasOwnProperty","type","on","typename","callback","T","that","args","concat","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","querySelector","_groups","subgroups","subgroup","node","subnode","__data__","Selection","_parents","querySelectorAll","arrayAll","selectorAll","parents","matches","childMatcher","find","childFind","children","childFirst","firstElementChild","childrenFilter","matcher","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","bindIndex","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","bind","arraylike","enterGroup","updateGroup","exitGroup","_exit","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","size","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","property","contextListener","listener","event","onRemove","__on","removeEventListener","options","onAdd","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_selection","selection_select","selection_selectAll","selectChild","selection_selectChild","selectChildren","selection_selectChildren","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","nodes","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","selection_dispatch","selection_iterator","nextId","Local","toString","id","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","clientTop","pageX","pageY","events","target","touches","pointer","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","DragEvent","subject","identifier","active","dx","dy","enumerable","configurable","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","container","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","mouse","changedTouches","clearTimeout","touch","p0","clickDistance","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","color","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","rgbConvert","opacity","rgb_formatHex","rgb_formatRgb","isNaN","h","Hsl","hsl","m2","hsl2rgb","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","lch","hcl","cos","sin","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","v0","v1","v2","v3","linear","exponential","hue","gamma","nogamma","rgbGamma","end","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","Date","setTime","reA","reB","zero","one","bi","lastIndex","am","bm","bs","q","date","object","rotate","skewX","scaleX","scaleY","e","atan","svgNode","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","parseSvg","baseVal","consolidate","interpolateTransform","parse","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","epsilon2","tanh","zoomRho","rho","rho2","rho4","zoom","p1","ux0","uy0","w0","ux1","uy1","w1","d2","S","d1","b0","b1","coshr0","u","duration","SQRT2","_1","_2","_4","colorHsl","hslLong","colorLab","colorHcl","hclLong","cubehelixGamma","colorCubehelix","cubehelixLong","piecewise","interpolate","I","interpolator","samples","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","restart","delay","time","sleep","Infinity","timerFlush","wake","nap","poke","clearInterval","setInterval","elapsed","total","_restart","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","tween","ease","state","init","schedule","self","interrupt","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","interpolateNumber","interpolateRgb","interpolateString","string00","string1","interpolate0","string0","string10","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","easeVarying","Transition","_name","onFunction","on0","on1","sit","removeFunction","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","textInterpolate","textTween","id0","id1","newId","Promise","resolve","reject","cancel","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_textTween","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_easeVarying","transition_end","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","exponent","polyIn","custom","polyOut","polyInOut","pi","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b2","b3","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","defaultTiming","easeCubicInOut","selection_interrupt","selection_transition","BrushEvent","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","X","handles","input","output","xy","Y","XY","cursors","overlay","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultExtent","hasAttribute","viewBox","width","height","__brush","brushSelection","dim","brushX","brush","brushY","handleSize","initialize","handle","redraw","started","move","emitter","emit","selection0","selection1","clear","clean","Emitter","starting","metaKey","altKey","signX","signY","W","N","n0","n1","e0","e1","s0","s1","moving","shifting","shiftKey","lockX","lockY","points","point0","pts","moved","ended","keydowned","keyupped","dragDisable","cur","dragEnable","keyCode","keyModifiers","compareValue","chord","chordTranspose","chordDirected","directed","padAngle","sortGroups","sortSubgroups","sortChords","groupSums","groupIndex","chords","subgroupIndex","startAngle","endAngle","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","defaultSource","defaultTarget","defaultRadius","radius","defaultStartAngle","defaultEndAngle","defaultPadAngle","defaultArrowheadRadius","ribbon","headRadius","sourceRadius","targetRadius","buffer","ap","argv","sr","sa0","sa1","tr","ta0","ta1","hr","tr2","ta2","ribbonArrow","ring","area","hole","ringContains","xi","yi","pj","xj","yj","segmentContains","collinear","within","cases","smooth","smoothLinear","contours","ts","contour","polygons","holes","isorings","polygon","coordinates","fragmentByStart","fragmentByEnd","stitch","startIndex","endIndex","unshift","xt","yt","_0","blurX","blurY","defaultX","defaultY","defaultWeight","weight","density","values0","Float32Array","values1","pow2k","wi","geometry","transformPolygon","transformRing","transformPoint","resize","cellSize","splitter","resulterrbound","elen","flen","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","estimate","vec","ccwerrboundA","ccwerrboundB","ccwerrboundC","C1","C2","orient2dadapt","ax","ay","bx","by","cx","cy","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","u3","acx","bcx","acy","bcy","det","errbound","C1len","C2len","Dlen","orient2d","detleft","detright","EPSILON","EDGE_STACK","Delaunator","getX","defaultGetX","getY","defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","minDist","i2","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","d0","triangles","halfedges","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","al","pr","pl","illegal","inCircle","hbl","_link","br","px","py","ex","ey","fx","fy","bp","cp","cl","ids","dists","temp","tempDist","arr","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","x3","y3","ab","sign","render","inedges","ti","tj","_renderSegment","h0","h1","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","c0","_regioncode","c1","_clipSegment","_step","neighbors","ci","cj","loop","ai","li","aj","lj","_cell","_clipInfinite","_clipFinite","P","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","vx","vy","pointX","pointY","jitter","Delaunay","flatArray","flatIterable","_delaunator","_hullIndex","bounds","hypot","hullIndex","voronoi","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygons","trianglePolygon","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","customConverter","inferColumns","rows","columnSet","column","pad","formatYear","year","formatDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","DELIMITER","convert","parseRows","eof","eol","token","preformatBody","formatValue","formatBody","formatRows","formatRow","csv","dsv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","autoType","fixtz","getHours","responseBlob","response","ok","status","statusText","blob","fetch","then","responseArrayBuffer","arrayBuffer","responseText","dsvParse","dsvFormat","image","Image","onerror","onload","src","responseJson","json","parser","DOMParser","parseFromString","strength","force","sx","sy","_x","_y","cover","tree","_root","leaf","xm","ym","addAll","yz","visit","quads","Quad","retainer","removeAll","quadtree","Quadtree","leaf_copy","treeProto","tree_add","tree_addAll","tree_cover","tree_data","tree_extent","tree_find","tree_remove","tree_removeAll","tree_root","tree_size","tree_visit","visitAfter","tree_visitAfter","tree_x","tree_y","radii","iterations","ri","ri2","prepare","quad","rj","jiggle","_nodes","_random","nodeById","nodeId","links","defaultStrength","strengths","distance","distances","bias","link","alpha","initializeStrength","initializeDistance","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","lcg","initializeNodes","angle","initializeForce","randomSource","closest","distanceMin2","distanceMax2","theta2","accumulate","distanceMin","distanceMax","theta","radiuses","toLocaleString","formatDecimalParts","toExponential","coefficient","grouping","thousands","substring","numerals","re","formatSpecifier","specifier","FormatSpecifier","align","symbol","comma","precision","prefixExponent","toFixed","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","prefixes","locale","formatGroup","Number","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","padding","formatPrefix","defaultLocale","formatLocale","quarterPi","haversin","streamGeometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","areaRingSum","areaSum","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","deltaSum","ranges","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","equatorial","inflection","lambdai","phii","antimeridian","rangeCompare","rangeContains","feature","merged","deltaMax","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","invert","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","circle","lines","rejoin","result","Intersection","entry","segments","compareIntersection","startInside","clip","segment","pointEqual","current","isSubject","longitude","winding","sinPhi1","cosPhi1","point1","absDelta","phiArc","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","clipRejoin","pointLine","ringSegments","validSegment","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","to","cr","smallRadius","notHemisphere","visible","v00","point2","code","intersect","two","pa","pb","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","meridian","q1","clipMax","clipMin","clipRectangle","corner","comparePoint","ca","cb","activeStream","bufferStream","x__","y__","v__","x_","y_","v_","clipStream","polygonInside","cleanInside","cache","cacheStream","lengthSum","lengthStream","lengthLineStart","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","sinDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ringRadians","pointRadians","graticuleX","graticuleY","graticule","DX","DY","outline","extentMinor","extentMajor","stepMinor","stepMajor","graticule10","cy0","cy1","kx0","ky0","kx1","ky1","x00","y00","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","_point","lengthRing","PathString","_string","_circle","projection","projectionStream","contextStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","methods","transformer","TransformStream","fit","fitBounds","clipExtent","geoStream","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","project","delta2","resample","resampleNone","resampleLineTo","depth","phi2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","fi","projectionMutator","projectAt","preclip","clipAntimeridian","postclip","projectResample","projectTransform","projectRotateTransform","reset","clipAngle","clipCircle","recenter","reflectX","reflectY","conicProjection","parallels","cylindricalEqualAreaRaw","conicEqualAreaRaw","r0y","conicEqualArea","multiplex","streams","lower48","albers","lower48Point","alaska","alaskaPoint","hawaii","hawaiiPoint","pointStream","albersUsa","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","fpy","gnomonicRaw","tx","ty","sa","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","eachAfter","eachBefore","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","hierarchy","mapChildren","objectChildren","Node","childs","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_iterator","circles","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r2","r21","r3","a2","a3","c3","d3","place","intersects","score","packEnclose","aa","sj","sk","pack","enclose","optional","required","constantZero","radiusLeaf","packChildren","translateChild","partition","positionNode","roundNode","treemapDice","preroot","ambiguous","imputed","defaultId","defaultParentId","parentId","stratify","currentId","currentParentId","nodeKey","nodeByKey","normalize","parentof","slash","nextLeft","nextRight","moveSubtree","wm","wp","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","ratio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","lexicographicOrder","computeUpperHullIndexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","inside","perimeter","sourceRandomUniform","randomUniform","sourceRandomInt","randomInt","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","irwinHall","randomBates","sourceRandomExponential","randomExponential","log1p","sourceRandomPareto","randomPareto","RangeError","sourceRandomBernoulli","randomBernoulli","sourceRandomGeometric","randomGeometric","sourceRandomGamma","randomGamma","multiplier","sourceRandomBeta","G","randomBeta","sourceRandomBinomial","geometric","randomBinomial","acc","nn","pp","pFinal","sourceRandomWeibull","randomWeibull","outerFunc","sourceRandomCauchy","randomCauchy","sourceRandomLogistic","randomLogistic","sourceRandomPoisson","binomial","randomPoisson","mul","inc","eps","seed","initRange","initInterpolator","implicit","ordinal","unknown","band","ordinalRange","rescale","sequence","rangeRound","pointish","constants","unit","clamper","bimap","polymap","clamp","interpolateValue","untransform","interpolateRound","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","maxIter","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","logp","log10","log2","reflect","loggish","logs","pows","transformSymlog","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","square","unsquare","radial","squared","invertExtent","quantiles","quantize","newInterval","floori","offseti","field","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","minute","getSeconds","getMinutes","hour","day","setHours","setDate","getDate","getTimezoneOffset","days","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","getMonth","getFullYear","months","setFullYear","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","utcDay","setUTCHours","setUTCDate","utcDays","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYear","setUTCFullYear","utcYears","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","utcWeek","timeTicks","timeTickInterval","localDate","H","L","utcDate","UTC","newDate","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","pads","charAt","newParse","Z","parseSpecifier","timeMonday","timeDay","U","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","timeYear","timeSunday","dISO","timeThursday","dow","UTCdISO","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","utcTime","utcSecond","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","scheme","interpolateRgbBasis","ramp","interpolateCubehelixLong","warm","cool","pi_1_3","pi_2_3","magma","inferno","plasma","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","arcEndAngle","arcPadAngle","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","cx0","cx1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","a01","a11","a10","da0","da1","rp","rc0","rc1","oc","kc","lc","Linear","areaStart","areaEnd","curve","curveLinear","defined0","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","pie","arcs","curveRadialLinear","curveRadial","Radial","_curve","lineRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","ka","kr","sqrt3","symbols","diamond","star","triangle","wye","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bump","bumpX","bumpY","Bundle","_basis","_beta","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","Step","_t","stepBefore","stepAfter","series","stackValue","stackSeries","orderNone","offsetNone","stack","sz","oz","yn","s2","si","sij0","sij1","s3","skj0","skj1","peaks","peak","vi","vj","appearance","tops","bottoms","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","__zoom","SVGElement","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","translateExtent","constrain","wheelDelta","scaleExtent","interpolateZoom","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","scaleBy","scaleTo","k0","k1","translateBy","translateTo","__zooming","Gesture","taps","touch0","touch1","wheel","wheelidled","l0","l1","dp","dl","Component","getPrototypeOf","initializeFromSelector","initializeFromConfig","initializeFromParent","config","getElementById","xPosition","scrollX","yPosition","scrollY","components","LotivisConfig","defaultMargin","tooltipOffset","barRadius","debugLog","debug","downloadFilePrefix","filenameSeparator","alreadyLogged","lotivis_log_once","includes","console","warn","lotivis_log","enabled","printConfig","Chart","svgSelector","updateSensible","datasets","setDatasets","datasetsController","reason","snapshot","precalculate","DateChartAxisRenderer","dateChart","margin","yChart","xChartScale","TimeChartLabelRenderer","renderBarLabels","xChartRef","yChartRef","xStackRef","xStack","numberFormat","labelColor","numberOfSeries","seriesIndex","item","sumOfDataset","flatData","sumOfValues","sumOfLabel","sumOfStack","rgbString","till","mapColors","colorsForStack","stackNumber","amount","colorCouple","stackColors","colorGenerator","defaultTint","organgeLow","organgeHigh","redLow","redHigh","blueLow","blueHigh","lightBlueLow","lightBlueHight","greenLow","greenHight","TimeChartLegendRenderer","combineStacks","renderCombinedStacksLegend","renderDefaultLegend","controller","datasetController","datasetNames","labels","labelMargin","xLegend","legends","graph","graphHeight","getColorForDataset","getSumOfDataset","formatted","toggleDataset","isEnabled","stackNames","stacks","TimeChartBarsRenderer","renderBars","isCombineStacks","getColorsForStack","stackData","serie","TimeChartHoverBarsRenderer","hideAll","onMouseEnter","tooltipRenderer","showTooltip","onMouserOut","hideTooltip","buttons","onMouseClick","even","sendsNotifications","makeUpdateInsensible","toggleDate","makeUpdateSensible","selectionRenderer","renderGhostBars","dates","dateLabels","dataview","isValue","Boolean","toValue","combine","flattenList","combined","copiedList","listItem","entryItem","locationTotal","dateTotal","locationName","combineByStacks","combineByDate","combineByLocation","TimeChartTooltipRenderer","tooltip","getTooltipSize","tooltipWidth","tooltipHeight","getTop","factor","tooltipSize","getXLeft","xChartScalePadding","getXRight","getHTMLForDate","title","dataHTML","divHTML","valueFormatted","sumFormatted","getElementEffectiveSize","getElementPosition","TimeChartGridRenderer","createAxis","xAxisGrid","yAxisGrid","graphWidth","renderGrid","TimeChartSelectionRenderer","getSelectedDates","filters","selectedDates","DATE_CHART_CONFIG","showLabels","Intl","NumberFormat","maximumFractionDigits","dateAccess","DateChart","initializeDefaultValues","initializeRenderers","axisRenderer","gridRenderer","labelRenderer","legendRenderer","barsRenderer","ghostBarsRenderer","groupSize","getDateDataviewCombinedStacks","getDateDataview","createScales","enabledStacks","renderSVG","datasetStacks","datasetStacksPresented","background","resetDateFilters","Card","injectCard","injectHeader","injectBody","header","headerLeftComponent","headerCenterComponent","headerRightComponent","titleLabel","body","content","newTitle","footer","Checkbox","renderInput","renderLabel","thisReference","checkbox","onClick","checked","UrlParameters","URL","href","parameter","defaultValue","getURL","searchParams","newValue","url","history","replaceState","updateCurrentPageFooter","newPath","protocol","host","newURL","instance","language","page","query","searchViewMode","chartType","chartShowLabels","chartCombineStacks","contentType","valueType","searchSensitivity","startYear","endYear","showTestData","Button","Popup","injectUnderground","injectContainer","inject","injectCloseButton","addCloseActionListeners","modalBackgroundId","modalBackground","elementId","card","closeButton","setText","validIDs","popup","dismiss","willShow","getUnderground","display","didShow","willDismiss","willRemoveDOMElement","sourceElement","preferredSize","origin","calculateBottomCenter","show","respectWindowScroll","appendExtensionIfNeeded","filename","extension","startsWith","endsWith","createDownloadFilename","separator","getSVGString","cssStyleText","getCSSStyles","appendCSS","serializer","XMLSerializer","svgString","serializeToString","parentElement","selectorTextArr","getElementsByTagName","classes","extractedCSSText","styleSheets","cssRules","selectorText","cssText","str","styleElement","refNode","hasChildNodes","svgString2Image","imageSource","btoa","unescape","encodeURIComponent","canvas","getContext","clearRect","drawImage","toDataURL","getOriginalSizeOfSVG","svgElement","viewBoxBaseValue","downloadBlob","msSaveOrOpenBlob","msSaveBlob","anchor","createObjectURL","download","click","downloadJSON","jsonString","Blob","saveFilename","downloadCSV","downloadImage","dataURL","res","dataBlob","SettingsPopup","setTitle","screenshotButton","screenshotButtonAction","chart","getFilename","downloadFilename","DateChartCardSettingsPopup","injectShowLabelsCheckbox","injectCombineStacksCheckbox","showLabelsCheckbox","getInstance","combineStacksCheckbox","setChecked","Dropdown","inputElements","selectId","renderSelect","hide","optionId","optionName","removeAllInputs","translatedTitle","inputElement","addOption","onChange","argument","optionID","selectedOption","div","dropdown","setLabelText","setOptions","setSelectedOption","setOnChange","Option","ChartCard","injectButtons","injectRadioGroup","injectChart","cardSelector","moreButton","presentSettingsPopupAction","setDataset","updateRadioGroup","firstDataset","onSelectedDatasetChanged","datasetLabel","DateChartCard","theSelector","chartID","applyURLParameters","parameters","getBoolean","settingsPopup","showUnder","removeFeatures","geoJSON","removeCandidates","newGeoJSON","candidate","properties","candidateIndex","styleForCSSClass","className","formatNumber","equals","value2","objectsEqual","object1","object2","string2","MapTooltipRenderer","mapChart","featureMapID","lotivisId","htmlTitle","featuresSlice","featureNameAccessor","moreCount","htmlValues","combinedByLabel","positionTooltip","featureBounds","featureLowerLeft","featureUpperRight","featureBoundsWidth","effectiveSize","positionOffset","getTooltipLeft","getTooltipLocationAbove","getTooltipLocationUnder","mouseEnter","locations","selectedFeatures","selectionBorderGeoJSON","mouseOut","mapID","stroke","departmentsData","MapLegendRenderer","legend","appendLegend","removeDatasetLegend","combinedData","stackName","dataForStack","steps","generator","MapLabelRenderer","removeLabels","featureID","featureIDAccessor","MapDatasetRenderer","styleArea","resetAreas","datasetEntry","locationID","MapGeoJSONRenderer","datasetRenderer","mouseClick","toggleLocation","presentedGeoJSON","areas","objects","boundGeometry","boundGeometryType","boundPoint","boundLine","boundMultiLine","equal","store","mask","collisions","keyType","keyEmpty","keystore","valstore","matchKey","maybeSet","missingValue","pointA","pointB","floats","uints","topology","rings","visitedByIndex","leftByIndex","rightByIndex","junctionByIndex","Int8Array","junctionCount","previousIndex","currentIndex","nextIndex","leftIndex","rightIndex","indexByPoint","hashmap","hashIndex","equalIndex","hashPoint","equalPoint","junctionByPoint","hashset","junctions","lineMid","ringMid","ringFixed","rotateArray","arcCount","arcsByEnd","dedupLine","dedupRing","startPoint","endPoint","startArcs","startArc","endArcs","endArc","equalLine","reverseEqualLine","equalRing","reverseEqualRing","findMinimumOffset","arcA","arcB","ia","ib","ja","jb","kb","minimum","minimumPoint","extractGeometry","extractGeometryType","extractLine","extractRing","extractMultiRing","inputs","outputs","geomifyObject","geomifyFeatureCollection","geomifyFeature","geomifyGeometry","bbox","quantizePoint","quantizePoints","quantizeLine","quantizeRing","quantizePolygon","quantizeGeometry","quantizeGeometryType","quantization","prequantize","dedup","cut","extract","indexByArc","hashArc","equalArc","indexGeometry","indexGeometryType","indexArcs","indexMultiArcs","bboxPoint","bboxGeometry","stitchedArcs","fragments","emptyIndex","ends","fg","gf","flush","meshArcs","extractArcs","geomsByArc","geom","extract0","extract1","extract2","extract3","geoms","planarRingArea","mergeArcs","polygonsByArc","ki","indexesByArc","geometryType","ij","ik","box","quantizeArc","joinFeatures","topojsonServer","extractObjects","topojsonClient","nom","topologyKey","MapExteriorBorderRenderer","topojson","borders","flatDatasets","datasetsCopy","datasetIndex","flatDataChunk","flatDataset","newItem","dateNumeric","extractLabelsFromDatasets","toSet","extractStacksFromDatasets","extractDatesFromDatasets","extractDatesFromFlatData","extractLocationsFromDatasets","extractLocationsFromFlatData","extractEarliestDate","extractEarliestDateWithValue","filterWithValue","extractLatestDate","extractLatestDateWithValue","createGeoJSON","rowsCount","latSpan","lngSpan","loop1","rowIndex","itemIndex","lat","lng","MapChartConfig","isShowLabels","excludedFeatureCodes","drawRectangleAroundSelection","MapBackgroundRenderer","resetLocationFilters","Geometry","GeoJson","featureSource","allCoordinates","extractAllCoordinates","latitudeSum","longitudeSum","geometryCollection","extractGeometryCollection","coordinatesCollection","polygonCoordinates","featureCoordinates","MapSelectionRenderer","getSelectedFeatures","allFeatures","filteredLocations","MapChart","theConfig","backgroundRenderer","geoJSONRenderer","exteriorBorderRenderer","getLocationDataview","setGeoJSON","geoJSONDidChange","zoomTo","MapChartSettingsPopup","setWithoutDeleting","disable","MapChartCard","bodyElement","DefaultDateAccess","FormattedDateAccess","dateString","DateGermanAssessor","saveDateString","DateWeekAssessor","lowercase","DataViewCache","createName","locationFilters","dateFilters","datasetFilters","getDataView","setDataView","dataView","invalidate","DatasetsController","datasetsColorsController","colorForDataset","colorForStack","getCached","setCached","createPlotDataset","newDataset","firstDate","lastDate","getPlotDataview","cachedDataView","enabledDatasets","filteredDatasets","last","firstIndex","labelsCount","PlotChartType","gradient","fraction","PlotChartSort","alphabetically","intensity","defaultPlotChartConfig","lineHeight","drawGrid","lowColor","highColor","PlotAxisRenderer","plotChart","renderAxis","xChart","PlotTooltipRenderer","getHTMLContentForDataset","filtered","getTooltipLeftForDataset","resetFilters","PlotLabelRenderer","renderLabels","xBandwidth","barsData","PlotGridRenderer","preferredHeight","PlotBackgroundRenderer","resetLabelFilters","PlotChartHoverBarsRenderer","backgrounBarsData","backgrounBars","PlotBarsFractionsRenderer","bars","yChartPadding","PlotBarsGradientCreator","plotColor","definitions","latestDate","dateDifference","datePercentage","PlotBarsGradientRenderer","gradientCreator","createGradient","PlotLabelsFractionsRenderer","PlotChartSelectionRenderer","selectionBarsData","selectionBars","selectedLabels","getSelectedLabels","PlotChart","createSVG","hoverBarsRenderer","barsFractionsRenderer","labelsRenderer","labelsFractionRenderer","barsCount","sortDatasets","setDatasetsFilter","sortedDatasets","set1","set2","datasetsSorted","PlotChartCardSettingsPopup","showLabelsCheckboxContainer","typeDropdownContainer","typeDropdown","dropdownContainer","sortDropdown","PlotChartCard","getString","TextareaCard","textarea","getClassname","textareaID","onKeyup","downloadButton","getTextareaContent","newContent","updatesHeight","numberOfRows","UpdatableDataviewCard","newDatasetsController","addListener","datasetsToText","setTextareaContent","cachedDatasets","Toast","leftComponnt","rightComponent","hideButton","newStatusMessage","saveString","validateDatasets","validateDataset","validateDataItem","EditableDataviewCard","toast","updateDatasetsOfController","notifyController","setStatusMessage","parsedDatasets","textToDatasets","DatasetsJSONCard","csvStringToArray","strData","objPattern","arrMatches","arrData","trimByChar","character","findIndex","char","createDatasets","datasetsByLabel","getOwnPropertyNames","parseCSV","headlines","lineIndex","lineArray","surroundWithQuotationMarks","renderCSV","csvContent","DatasetCSVCard","parseCSVDate","datasetLabels","minLineLength","columnIndex","dateToItemsRelation","listOfDates","listOfLabels","datasetDate","renderCSVDate","dateRelation","labelIndex","dateRow","csvRow","DatasetCSVDateCard","DataViewCard","disableTextarea","getDataview","DataViewDateChartCard","DataViewDatePlotChartCard","DataViewMapChartCard","DataViewFlatCard","DatasetsControllerCard","originalDatasets","setDatasetsController","newController","removeListener","newDatasets","getDatasets","notifyListeners","timeStamp","register","calculateSnapshot","setLocationsFilter","stringVersions","setDatesFilter","stringVersion","DatasetsColorsController","workingDatasets","labelToColor","stackToColors","sIndex","dIndex","calculateAdditionalData","datasetsDidChange","addDataset","addDatasets","removeDataset","removeDatasets","createBarStackModel","listOfStacks","datasetsForStack","candidatesNames","stackCandidate","candidatesColors","d3Stack","model","combineDatasetsByRatio","copied","combineDataByGroupsize","newData","dateGroup","firstItem","lastItem","saveGroupSize","dateToItemsRelationPresented","combinedByStack","combinedByLocation"],"mappings":"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"}